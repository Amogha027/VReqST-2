{"ast":null,"code":"import _objectWithoutProperties from\"/home/shambhavi/Documents/SERC/VReqST-v3/VReqST/VReqST-main/VReqST/frontend/client/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _regeneratorRuntime from\"/home/shambhavi/Documents/SERC/VReqST-v3/VReqST/VReqST-main/VReqST/frontend/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/shambhavi/Documents/SERC/VReqST-v3/VReqST/VReqST-main/VReqST/frontend/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/shambhavi/Documents/SERC/VReqST-v3/VReqST/VReqST-main/VReqST/frontend/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Box,Button,Flex,Grid,GridItem,Heading,List,ListIcon,ListItem,Modal,ModalBody,ModalCloseButton,ModalContent,ModalFooter,ModalOverlay,Select,Spinner,Stack,Tag,Text,Tooltip,useDisclosure,useToast,Tabs,TabList,TabPanels,Tab,TabPanel,FormControl,Textarea}from\"@chakra-ui/react\";import Axios from\"axios\";import React,{useEffect,useState}from\"react\";import AceEditor from\"react-ace\";import{FaExclamationCircle}from\"react-icons/fa\";import{BiDownload}from\"react-icons/bi\";import{CheckCircleIcon}from\"@chakra-ui/icons\";import{useParams}from\"react-router-dom\";import isJson from\"../../utils/checkjson\";import e from\"cors\";import semantics from\"../../utils/syntax.json\";var errors=[];var rules=[];var valid_rule=[];var grammarDataArray=[];var flag=false;var fl=false;// const reactAceComponent = this.refs.reactAceComponent;\nvar tipcolors={number:\"orange\",object:\"green\",boolean:\"red\",string:\"yellow\",array:\"blue\"};var jsonValidator=function jsonValidator(grammar,validating){console.log(grammar);var keys=Object.keys(grammar);var keys22=Object.keys(validating);var grammarArray=Object.keys(grammar).filter(function(value){return!Object.keys(validating).includes(value);});var extraEntries=Object.keys(validating).filter(function(value){return!Object.keys(grammar).includes(value);});extraEntries.map(function(en){var app=1;for(var i=0;i<keys.length;i++){if(keys[i]===en||grammar[keys[i]].root===en||grammar[keys[i]].proot===en)app=0;}if(app){errors.push(\"\\\"\".concat(en,\"\\\" is invalid key in the JSON\"));}});grammarArray.map(function(en){var app=1;for(var i=0;i<keys22.length;i++){if(en===keys22[i]||grammar[en].root===keys22[i]||grammar[en].proot===keys22[i]){app=0;}}if(app===1){errors.push(\"\\\"\".concat(en,\"\\\" is a mandatory field! Please add the field with \").concat(grammar[en].typeof,\" type\"));}});for(var i=0;i<keys.length;i++){var key=keys[i];if(grammar[key].hasOwnProperty('proot')){var a=validating[grammar[key].proot];for(var _i=0;_i<a.length;_i++){var c=a[_i];if(c.hasOwnProperty(grammar[key].root)){if(typeof c[grammar[key].root][key]===grammar[key].typeof){}else{if(typeof c[grammar[key].root][key]===\"undefined\"){errors.push(\"\\\"\".concat(key,\"\\\" is a mandatory field! Please add the field with \").concat(grammar[key].typeof,\" type\"));}else{errors.push(\" \\\"\".concat(key,\"\\\" has an invalid type of '\").concat(typeof c[grammar[key].root][key],\"'. Expected type of \").concat(grammar[key].typeof));}}}}}else if(grammar[key].hasOwnProperty('repeat')&&grammar[key].repeat===\"allow\"){var _a=grammar[key].root;var obje=Object.keys(validating);var found=obje.indexOf(_a);if(typeof validating[_a]===\"object\"){for(var _i2=0;_i2<validating[_a].length;_i2++){if(typeof validating[_a][_i2][key]===grammar[key].typeof||typeof validating[_a][_i2][key]===\"object\"&&grammar[key].typeof===\"array\"){}else{if(typeof validating[_a][_i2][key]===\"undefined\"){errors.push(\"\\\"\".concat(key,\"\\\" is a mandatory field! Please add the field with \").concat(grammar[key].typeof,\" type\"));}else{errors.push(\" \\\"\".concat(key,\"\\\" has an invalid type of '\").concat(typeof validating[_a][_i2][key],\"'. Expected type of \").concat(grammar[key].typeof));}}}}}else{if(grammar[key].root==='null'||grammar[key].root==='undefined'||!grammar[key].hasOwnProperty('root')){if(typeof validating[key]===\"undefined\"){continue;}// Handling nested objects recursively\nif(typeof validating[key]===\"object\"&&grammar[key].typeof===\"object\"){continue;}if(typeof validating[key]!==grammar[key].typeof){errors.push(\" \\\"\".concat(key,\"\\\" has an invalid type of '\").concat(typeof validating[key],\"'. Expected type of \").concat(grammar[key].typeof));}else{//alert(\"sucess\");\n}if(typeof validating[key]===\"string\"&&typeof validating[key]===grammar[key].typeof&&grammar[key].req===\"mandatory\"&&validating[key].length===0){errors.push(\"\\\"\".concat(key,\"\\\" is mandatory, empty string is not allowed\"));}}else{var _a2=grammar[key].root;if(false){for(var _i3=0;_i3<validating[_a2].length;_i3++){if(typeof validating[_a2][_i3].key===grammar[key].typeof){alert(\"Sucess\");}else{//alert(\"Failure\");\n//errors.push(\"kindly see the json syntax\");\nerrors.push(\"\\\"\".concat(key,\"\\\" has invalid type, expected \\\"\").concat(grammar[key].typeof,\"\\\"\"));}}}else{var b=validating[_a2];//alert(a);\nvar _c=Object.keys(b);var _found=_c.indexOf(key);if(typeof validating[_a2][_c[_found]]===grammar[key].typeof||typeof validating[_a2][_c[_found]]===\"object\"&&grammar[key].typeof===\"array\"){//alert(\"Sucess!!!!!!\");\n}else{if(typeof validating[_a2][_c[_found]]===\"undefined\"){errors.push(\"\\\"\".concat(key,\"\\\" is a mandatory field! Please add the field with \").concat(grammar[key].typeof,\" type\"));}else{errors.push(\" \\\"\".concat(key,\"\\\" has an invalid type of '\").concat(typeof validating[_a2][_c[_found]],\"'. Expected type of \").concat(grammar[key].typeof));}}}}}}if(errors.length>0){console.log(errors);return true;}return false;};var ProjectPageContent=function ProjectPageContent(_ref){var stepslen=_ref.stepslen,nextStep=_ref.nextStep,prevStep=_ref.prevStep,reset=_ref.reset,activeStep=_ref.activeStep,scene=_ref.scene,action=_ref.action,asset=_ref.asset,projectname=_ref.projectname,timeline=_ref.timeline,custom=_ref.custom;var toast=useToast();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),files=_useState2[0],setfiles=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),submitting=_useState6[0],setSubmitting=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),data=_useState8[0],setdata=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),grammarid=_useState10[0],setGrammarid=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),validated=_useState12[0],setValidated=_useState12[1];// const [grammarData, setGrammarData] = useState({});\nvar _useState13=useState({}),_useState14=_slicedToArray(_useState13,2),grammarbundle=_useState14[0],setGrammarbundle=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),displayErrors=_useState16[0],setDisplayErrors=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),valid_rule_list=_useState18[0],setvalid_rule_list=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),downloadable=_useState20[0],setDownloadable=_useState20[1];var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),val=_React$useState2[0],setValue=_React$useState2[1];var _useDisclosure=useDisclosure(),isOpen=_useDisclosure.isOpen,onOpen=_useDisclosure.onOpen,onClose=_useDisclosure.onClose;var _useState21=useState(\"\"),_useState22=_slicedToArray(_useState21,2),description=_useState22[0],set_description=_useState22[1];var _useState23=useState(\"\"),_useState24=_slicedToArray(_useState23,2),perdata=_useState24[0],set_perdata=_useState24[1];var _useState25=useState(0),_useState26=_slicedToArray(_useState25,2),seed=_useState26[0],setSeed=_useState26[1];var _useParams=useParams(),projectid=_useParams.projectid;var _useState27=useState(\"\"),_useState28=_slicedToArray(_useState27,2),rulename=_useState28[0],setRulename=_useState28[1];var jwttoken=localStorage.getItem(\"jwtToken\");var _useState29=useState({\"row\":0,\"column\":0}),_useState30=_slicedToArray(_useState29,2),textPointer=_useState30[0],setTextPointer=_useState30[1];var _useState31=useState(0),_useState32=_slicedToArray(_useState31,2),position=_useState32[0],setPosition=_useState32[1];var _useState33=useState(false),_useState34=_slicedToArray(_useState33,2),savebutton=_useState34[0],setSavebutton=_useState34[1];var convertPointer=function convertPointer(pointer,lines){var pos=0;console.log(lines);for(var i=0;i<=pointer.row-1;i++){pos+=lines[i].length;if(lines[i].length===0)pos+=1;console.log(\"+\",lines[i].length);}pos+=pointer.column;if(pointer.column===0)pos+=1;console.log(\"+\",pointer.column);console.log(pos);console.log(data);console.log(data.length);setPosition(pos);console.log(position);};var getfiles=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url,requestOptions,res,requestOption,res2;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=\"\";// console.log(\"hey\");\nurl=\"http://localhost:5002/api/json/timeline\";// if (activeStep === 0) url = `http://localhost:5002/api/json/scene`;\n// else if (activeStep === 1) url = `http://localhost:5002/api/json/scene`;\n// else if (activeStep === 2) url = `http://localhost:5002/api/json/scene`;\n// else if (activeStep === 3) url = `http://localhost:5002/api/json/scene`;\n// else if (activeStep === 4) url = `http://localhost:5002/api/json/scene`;\n_context.prev=2;requestOptions={headers:{\"Content-Type\":\"application/json\",token:jwttoken}};_context.next=6;return Axios.get(url,requestOptions);case 6:res=_context.sent;// console.log(res);\n////////////////////////\nrequestOption={headers:{\"Content-Type\":\"application/json\",token:jwttoken}};_context.next=10;return Axios.get(\"http://localhost:5002/api/project/\".concat(projectid,\"/grammarName\"),requestOption);case 10:res2=_context.sent;console.log(res2.data.grammarName);setfiles(res.data);// console.log(res.data);\n// console.log(files);\nres.data.map(function(p){// console.log(p.name);\nif(p.name==res2.data.grammarName){if(grammarDataArray.length!=5){grammarDataArray.push(p.scene);grammarDataArray.push(p.asset);grammarDataArray.push(p.action);grammarDataArray.push(p.custom);grammarDataArray.push(p.timeline);}// console.log(grammarDataArray);\n}});// setfiles(res.data);\n_context.next=20;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](2);toast({title:\"Something went wrong 1\",//Goes wrong\nstatus:\"error\",duration:10000,isClosable:true,position:\"top\"});console.log(_context.t0);case 20:case\"end\":return _context.stop();}}},_callee,null,[[2,16]]);}));return function getfiles(){return _ref2.apply(this,arguments);};}();useEffect(function(){var f=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading(true);_context2.next=3;return getfiles();case 3:setLoading(false);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function f(){return _ref3.apply(this,arguments);};}();f();},[]);useEffect(function(){getfiles();if(activeStep==0){setdata(scene);getfiles();fl=false;if(isJson(scene)){setDownloadable(true);}}if(activeStep==1){setdata(asset);fl=false;if(isJson(asset)){setDownloadable(true);}}if(activeStep==2){setdata(action);fl=false;if(isJson(action)){setDownloadable(true);}}if(activeStep==3){setdata(custom);fl=false;if(isJson(custom)){setDownloadable(true);}}if(activeStep==4){setdata(timeline);fl=false;if(isJson(timeline)){setDownloadable(true);}}},[]);var downloadTxtFile=function downloadTxtFile(){if(data===\"\"||!isJson(data)){toast({title:\"JSON Syntax is not correct\",status:\"error\",duration:5000,isClosable:true,position:\"top-right\"});setDownloadable(false);return;}var fileName=\"\";if(activeStep===0)fileName=\"scene\";if(activeStep===1)fileName=\"asset\";if(activeStep===2)fileName=\"action\";if(activeStep===3)fileName=\"custom\";if(activeStep===4)fileName=\"timeline\";var json=data;var blob=new Blob([json],{type:\"application/json\"});var href=URL.createObjectURL(blob);var downlink=document.createElement(\"a\");downlink.href=href;downlink.download=projectname+\"-\"+fileName+\".json\";document.body.appendChild(downlink);downlink.click();// clean up \"a\" element & remove ObjectURL\ndocument.body.removeChild(downlink);URL.revokeObjectURL(href);};var handleInputChange=function handleInputChange(e){var inputValue=e.target.value;setValue(inputValue);};var asset_valid=function asset_valid(asset,asset_list,flag){// if flag is zero, dont print any errors\nvar valid_obj=false;asset_list.map(function(d,j){// console.log(asset, d);\nif(asset===d)valid_obj=true;// if(c.targetObj == d)\n//   valid_target = true;\n});if(valid_obj===false){setValidated(false);setDownloadable(false);if(flag){toast({title:\"Object \"+asset+\" is not listed in Asset JSON. Only assets present in Asset JSON are valid.\"+asset+\"  \"+asset_list,status:\"warning\",duration:5000,isClosable:true,position:\"top-right\"});}return-1;}return 1;};var assetValidator=function assetValidator(a,all_object_ids){a.map(function(c,i){// console.log(c);\nvar ret1=asset_valid(c.sourceObj,all_object_ids,1);var ret2;if(c.targetObj[c.targetObj.length-1]==='*'){// console.log(\"yes\");\nret2=1;}else ret2=asset_valid(c.targetObj,all_object_ids,1);// console.log(\"rets:\", ret1, ret2);\nif(ret1===-1){// toast({\n//   title:\n//     \"Source object should be a part of Asset JSON.\",\n//   status: \"warning\",\n//   duration: 5000,\n//   isClosable: true,\n//   position: \"top-right\",\n// });\nreturn false;}// console.log(c.repeatactionfor.length);\nif(c.repeatactionfor!==null&&c.repeatactionfor.length!==0&&c.repeatactionfor[0]!==\" \"){var repeat_assets=[];var curr_word=\"\";Array.from(c.repeatactionfor).map(function(char,key){if(char===','||char===' '){if(curr_word!==\"\"&&curr_word!==\" \"&&curr_word.length!==0){repeat_assets.push(curr_word);curr_word=\"\";}}else{curr_word=curr_word+char;}});if(curr_word!=\"\"||curr_word!=\" \"||curr_word.length!=0)repeat_assets.push(curr_word);// console.log(repeat_assets);\nrepeat_assets.map(function(word,key){var ret=asset_valid(word,all_object_ids,1);// console.log(\"ret\", ret);\nif(ret===-1){// toast({\n//   title:\n//     \"Objects in repeatactionfor must be a part of Asset JSON.\",\n//   status: \"warning\",\n//   duration: 5000,\n//   isClosable: true,\n//   position: \"top-right\",\n// });\nreturn false;}});if(ret2===-1&&c.targetObj[c.targetObj.length-1]!==\"*\"){toast({title:\"Please update the Target Object according to the reccomendations in the document.\",status:\"warning\",duration:5000,isClosable:true,position:\"top-right\"});return false;}else{if(asset_valid(c.targetObj,repeat_assets,0)===1){toast({title:\"Target object should not be a part of repeatactionfor.\",status:\"warning\",duration:5000,isClosable:true,position:\"top-right\"});return false;}}}});return true;};var onValidate2=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:toast({title:\"Validation successfull\",status:\"success\",duration:5000,isClosable:true,position:\"top-right\"});console.log(\"output\");setDownloadable(true);valid_rule.push({rulename:rulename,data_name:data,description:description});setSavebutton(true);// fetch('http://localhost:5002/api/upload-custom-rule', {\n//   headers: {\n//     'Accept': 'application/json, text/plain, */*',\n//     'Content-Type': 'application/json'\n//   },\n//   method: \"POST\",\n//   body: JSON.stringify({\n//     rulename: rulename,\n//     data_name: data,\n//     description: description\n//   })      \n// }).then((response)=>{\n//   console.log(response);\n// })\nconsole.log(valid_rule);case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function onValidate2(){return _ref4.apply(this,arguments);};}();var onValidate=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var myjson,mygrm,all_object_ids,myobjs,a,i,c,_i4,_mygrm,_all_object_ids,_myobjs,ret_asset;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(isJson(data)){_context4.next=5;break;}setValidated(false);setDownloadable(false);toast({title:\"JSON Syntax is not correct\",status:\"error\",duration:5000,isClosable:true,position:\"top-right\"});return _context4.abrupt(\"return\");case 5:setDisplayErrors([]);errors=[];myjson=JSON.parse(data);// console.log(myjson);\n// try {\n//   if (activeStep == 2) {\n//     try {\n//       {\n//         rules = myjson.objlist;\n//         var a = myjson.ObjAction;\n//         //console.log(a[0]);\n//         //alert(a[0]);\n//         for (let i = 0; i < a.length; i++) {\n//           var c = a[i].actresid;\n//           //  console.log(c);\n//           flag = true;\n//           rules.push(c);\n//         }\n//       }\n//     }\n//     catch (e) {\n//       console.log(e);\n//       setValidated(false);\n//       setDownloadable(false);\n//     }\n//   }\n// }\n// catch {\n//   console.log(e);\n// }\n// if (grammarDataArray.length === 0) {\n//   await getfiles();\n//   //var temp=Object.keys(grammarDataArray);\n//   // console.log(grammarDataArray);\n// }\n// console.log(grammarDataArray[0]);\ntry{mygrm=\"\";if(activeStep==0)mygrm=JSON.parse(grammarDataArray[0]);else if(activeStep==1)mygrm=JSON.parse(grammarDataArray[1]);else if(activeStep==2)mygrm=JSON.parse(grammarDataArray[2]);else if(activeStep==3)mygrm=JSON.parse(grammarDataArray[3]);else if(activeStep==4)mygrm=JSON.parse(grammarDataArray[4]);}catch(e){console.log(e);}_context4.prev=9;if(!(activeStep==2)){_context4.next=28;break;}_context4.prev=11;// console.log(\"Shambhaviiiiiiiiiiii\");\nall_object_ids=[];myobjs=JSON.parse(asset);myobjs.articles.map(function(c,i){all_object_ids.push(c._sid);});// console.log(all_object_ids);\na=myjson.ObjAction;for(i=0;i<a.length;i++){c=a[i].actresid;flag=true;if(c){rules.push(c);}}_context4.next=26;break;case 19:_context4.prev=19;_context4.t0=_context4[\"catch\"](11);console.log(_context4.t0);setValidated(false);setDownloadable(false);toast({title:\"There are errors in the entered JSON, please check them out! Caught error\",status:\"warning\",duration:5000,isClosable:true,position:\"top-right\"});return _context4.abrupt(\"return\");case 26:_context4.next=41;break;case 28:if(!(activeStep==1)){_context4.next=41;break;}_context4.prev=29;a=myjson.articles;//console.log(a[0]);\n//alert(a[0]);\nfor(_i4=0;_i4<a.length;_i4++){c=a[_i4]._objectname;//  console.log(c);\nflag=true;if(c){rules.push(c);}}_context4.next=41;break;case 34:_context4.prev=34;_context4.t1=_context4[\"catch\"](29);console.log(_context4.t1);setValidated(false);setDownloadable(false);toast({title:\"There are errors in the entered JSON, please check them out!\",status:\"warning\",duration:5000,isClosable:true,position:\"top-right\"});return _context4.abrupt(\"return\");case 41:_context4.next=46;break;case 43:_context4.prev=43;_context4.t2=_context4[\"catch\"](9);console.log(e);case 46:if(!(grammarDataArray.length===0)){_context4.next=49;break;}_context4.next=49;return getfiles();case 49:_context4.prev=49;_mygrm=\"\";if(activeStep==0)_mygrm=JSON.parse(grammarDataArray[0]);else if(activeStep==1)_mygrm=JSON.parse(grammarDataArray[1]);else if(activeStep==2)_mygrm=JSON.parse(grammarDataArray[2]);else if(activeStep==3)_mygrm=JSON.parse(grammarDataArray[3]);else if(activeStep==4)_mygrm=JSON.parse(grammarDataArray[4]);if(jsonValidator(_mygrm,myjson)){_context4.next=74;break;}if(!(activeStep===2)){_context4.next=69;break;}_all_object_ids=[];_myobjs=JSON.parse(asset);_myobjs.articles.map(function(c,i){_all_object_ids.push(c._sid);});// console.log(all_object_ids);\nret_asset=assetValidator(myjson.ObjAction,_all_object_ids);// console.log(ret_asset);\nif(ret_asset){_context4.next=64;break;}console.log(errors);toast({title:\"There are errors in the entered JSON, please check them out!\",status:\"warning\",duration:5000,isClosable:true,position:\"top-right\"});return _context4.abrupt(\"return\");case 64:setValidated(true);setDownloadable(true);toast({title:\"JSON Validated Successfully\",status:\"success\",duration:5000,isClosable:true,position:\"top-right\"});case 67:_context4.next=72;break;case 69:setValidated(true);setDownloadable(true);toast({title:\"JSON Validated Successfully\",status:\"success\",duration:5000,isClosable:true,position:\"top-right\"});case 72:_context4.next=76;break;case 74:console.log(errors);toast({title:\"There are errors in the entered JSON, please check them out!\",status:\"warning\",duration:5000,isClosable:true,position:\"top-right\"});case 76:// console.log(typeof errors);\nsetDisplayErrors(errors);_context4.next=83;break;case 79:_context4.prev=79;_context4.t3=_context4[\"catch\"](49);console.log(_context4.t3);toast({title:\"There are errors in the entered JSON, please check them outkljljulij!\",status:\"warning\",duration:5000,isClosable:true,position:\"top-right\"});case 83:case\"end\":return _context4.stop();}}},_callee4,null,[[9,43],[11,19],[29,34],[49,79]]);}));return function onValidate(){return _ref5.apply(this,arguments);};}();// const onChangeFile = async (e) => {\n//   setGrammarid(e.target.value);\n//   if (!e.target.value) {\n//     setGrammarData({});\n//     return;\n//   }\n//   try {\n//     const requestOptions = {\n//       headers: { \"Content-Type\": \"application/json\", token: jwttoken },\n//     };\n//     const res = await Axios.get(\n//       `http://localhost:5002/api/json/${e.target.value}`,\n//       requestOptions\n//     );\n//     const grammarjson = JSON.parse(res.data.data);\n//     setGrammarData(grammarjson);\n//   } catch (error) {\n//     toast({\n//       title: \"Something went wrong 4\",\n//       status: \"error\",\n//       duration: 10000,\n//       isClosable: true,\n//       position: \"top\",\n//     });\n//     console.log(error);\n//   }\n// };\n// const onChangeFile = async (e) => {\n//   setGrammarid(e.target.value);\n//   if (!e.target.value) {\n//     // setGrammarData({});\n//     return;\n//   }\n//   try {\n//     //   if(activeStep==0) setGrammarData\n//     //   if(activeStep==0) setGrammarData(grammarbundle.scene)\n//     //  else if(activeStep==1) setGrammarData(grammarbundle.asset)\n//     //  else if(activeStep==2) setGrammarData(grammarbundle.action)\n//     //  else if(activeStep==3) setGrammarData(grammarbundle.custom)\n//     //  else if(activeStep==4) setGrammarData(grammarbundle.timeline)\n//   } catch (error) {\n//     toast({\n//       title: \"Something went wrong 4\",\n//       status: \"error\",\n//       duration: 10000,\n//       isClosable: true,\n//       position: \"top\",\n//     });\n//     console.log(error);\n//   }\n// };\nvar showValidateHandler=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var code,jsonData;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:console.log(data);code=data;jsonData=JSON.stringify({types:[{type:\"if\",order:[[\"condition\"],[\"scope\"]]},{type:\"else\",prev:[\"if\",\"else-if\"],order:[[\"scope\"]]},{type:\"else-if\",prev:[\"if\",\"else-if\"],order:[[\"condition\"],[\"scope\"]]},{type:\"switch\",order:[[\"condition\"],[\"scope\",[\"Case\"],[\"Default\"]]]},{type:\"switch-case\",order:[[\"condition\"],[\"scope\"]]},{type:\"switch-case-default\",order:[[\"scope\"]]},{type:\"for\",order:[[\"condition\",[\"conditionSeparator\",\"conditionSeparator\"]],[\"scope\"]]},{type:\"while\",order:[[\"condition\"],[\"scope\"]]},{type:\"do\",order:[[\"scope\"]],next:[\"do-while\"]},{type:\"do-while\",order:[[\"condition\"]],prev:[\"do\"]}],constructs:[{name:\"if\",type:\"if\",conditionStart:\"(\",conditionEnd:\")\",scopeStart:\"(\",scopeEnd:\")\"},{name:\"else-if\",type:\"else-if\",conditionStart:\"(\",conditionEnd:\")\",scopeStart:\"(\",scopeEnd:\")\",pre:[\"if\",\"else-if\"]},{name:\"else\",type:\"else\",scopeStart:\"(\",scopeEnd:\")\",pre:[\"if\",\"else-if\"]},{name:\"switch\",type:\"switch\",conditionStart:\"(\",conditionEnd:\")\",body:\"Case\",scopeStart:\"(\",scopeEnd:\")\",\"end-body\":\"default\"},{name:\"Case\",type:\"switch-case\",conditionStart:\"(\",conditionEnd:\")\",scopeStart:\"(\",scopeEnd:\")\",parent:\"switch\"},{name:\"Default\",type:\"switch-case-default\",scopeStart:\"(\",scopeEnd:\")\",parent:\"switch\"},{name:\"for\",type:\"for\",conditionStart:\"(\",conditionEnd:\")\",conditionSeparator:\"/\",scopeStart:\"(\",scopeEnd:\")\"},{name:\"while\",type:\"while\",conditionStart:\"(\",conditionEnd:\")\",scopeStart:\"(\",scopeEnd:\")\"},{name:\"do\",type:\"do\",scopeStart:\"(\",scopeEnd:\")\",next:\"do-while\"},{name:\"do-while\",type:\"do-while\",conditionStart:\"(\",conditionEnd:\")\"}],specialSymbols:[\"#\",\":\",\"!\",\"/\",\"(\",\")\"]});// console.log(jsonData);\nfetch(\"http://localhost:5001/api/upload\",{headers:{'Accept':'application/json, text/plain, */*','Content-Type':'application/json'},method:\"POST\",body:JSON.stringify({jsonData:jsonData})}).then(function(response){console.log(response);response.json().then(function(val){console.log(\"Uploaded\");console.log(val);}).catch(function(err){console.log(err);});// console.log(`Response: ${response.json()}`)\n}).catch(function(err){console.log(err);});console.log(code);fetch(\"http://localhost:5001/api/process\",{headers:{'Accept':'application/json, text/plain, */*','Content-Type':'application/json'},method:\"POST\",body:JSON.stringify({code:code})}).then(function(response){console.log(response);response.json().then(function(val){console.log(\"Validation response from server\");console.log(val.valid);if(val.valid){onValidate2();}else{setValidated(false);setDownloadable(false);toast({title:\"Error! Please follow conditional syntax.\",status:\"error\",duration:5000,isClosable:true,position:\"top-right\"});return;}}).catch(function(err){console.log(err);});}).catch(function(err){console.log(err);});case 6:case\"end\":return _context5.stop();}}},_callee5);}));return function showValidateHandler(){return _ref6.apply(this,arguments);};}();var handleValidateButton=function handleValidateButton(){console.log(\"Showing\");showValidateHandler(true);};var saveButton=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var res,res_rules;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:console.log(\"saving\");_context6.prev=1;_context6.next=4;return Axios.post(\"http://localhost:5002/api/custom/upload-custom-rule\",{headers:{\"Content-Type\":\"application/json\",token:jwttoken},data:{project_id:projectid,rulename:rulename,data_name:data,description:description}});case 4:res=_context6.sent;toast({title:\"Behaviour Added\",status:\"success\",duration:5000,isClosable:true,position:\"top-right\"});console.log(\"fetching behaviours\");_context6.next=9;return Axios.post(\"http://localhost:5002/api/custom/get-custom-rules\",{headers:{\"Content-Type\":\"application/json\",token:jwttoken},data:{project_id:projectid}});case 9:res_rules=_context6.sent;console.log(res_rules.data);setvalid_rule_list(res_rules.data);_context6.next=17;break;case 14:_context6.prev=14;_context6.t0=_context6[\"catch\"](1);console.log(_context6.t0);case 17:case\"end\":return _context6.stop();}}},_callee6,null,[[1,14]]);}));return function saveButton(){return _ref7.apply(this,arguments);};}();var onNextStep=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){var url,requestOptions,res;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:if(!(!isJson(data)&&activeStep!==3)){_context7.next=4;break;}setValidated(false);toast({title:\"JSON Syntax is not correct\",status:\"error\",duration:5000,isClosable:true,position:\"top\"});return _context7.abrupt(\"return\");case 4:setSubmitting(true);url=\"\";if(activeStep===0)url=\"http://localhost:5002/api/project/\".concat(projectid,\"/scene\");else if(activeStep===1)url=\"http://localhost:5002/api/project/\".concat(projectid,\"/asset\");else if(activeStep===2)url=\"http://localhost:5002/api/project/\".concat(projectid,\"/action\");else if(activeStep===3){url=\"http://localhost:5002/api/project/\".concat(projectid,\"/custom\");}else if(activeStep===4)url=\"http://localhost:5002/api/project/\".concat(projectid,\"/timeline\");_context7.prev=7;requestOptions={headers:{\"Content-Type\":\"application/json\",token:jwttoken}};_context7.next=11;return Axios.patch(url,{data:data},requestOptions);case 11:res=_context7.sent;toast({title:res.data.message,status:\"success\",duration:5000,isClosable:true,position:\"top-right\"});_context7.next=19;break;case 15:_context7.prev=15;_context7.t0=_context7[\"catch\"](7);toast({title:\"Something went wrong 3\",status:\"error\",duration:10000,isClosable:true,position:\"top\"});console.log(_context7.t0);case 19:setSubmitting(false);// if (activeStep == 2) {\n//   activeStep = 3;\n//   return;\n// }\nnextStep();case 21:case\"end\":return _context7.stop();}}},_callee7,null,[[7,15]]);}));return function onNextStep(){return _ref8.apply(this,arguments);};}();var handel_name=function handel_name(e){setRulename(e.target.value);};var handel_description=function handel_description(e){set_description(e.target.value);};var onFinish=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(){var url,requestOptions,res;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:if(isJson(data)){_context8.next=4;break;}setValidated(false);toast({title:\"JSON Syntax is not correct\",status:\"error\",duration:5000,isClosable:true,position:\"top\"});return _context8.abrupt(\"return\");case 4:setSubmitting(true);url=\"\";if(activeStep===0)url=\"http://localhost:5002/api/project/\".concat(projectid,\"/scene\");else if(activeStep===1)url=\"http://localhost:5002/api/project/\".concat(projectid,\"/asset\");else if(activeStep===2)url=\"http://localhost:5002/api/project/\".concat(projectid,\"/action\");else if(activeStep===3){url=\"http://localhost:5002/api/project/\".concat(projectid,\"/custom\");}else if(activeStep===4)url=\"http://localhost:5002/api/project/\".concat(projectid,\"/timeline\");_context8.prev=7;requestOptions={headers:{\"Content-Type\":\"application/json\",token:jwttoken}};_context8.next=11;return Axios.patch(url,{data:data},requestOptions);case 11:res=_context8.sent;toast({title:res.data.message,status:\"success\",duration:5000,isClosable:true,position:\"top-right\"});_context8.next=19;break;case 15:_context8.prev=15;_context8.t0=_context8[\"catch\"](7);toast({title:\"Something went wrong 2\",status:\"error\",duration:10000,isClosable:true,position:\"top\"});console.log(_context8.t0);case 19:setSubmitting(false);onOpen();case 21:case\"end\":return _context8.stop();}}},_callee8,null,[[7,15]]);}));return function onFinish(){return _ref9.apply(this,arguments);};}();return loading?React.createElement(React.Fragment,null,React.createElement(Flex,{width:\"80vw\",height:\"90vh\",justifyContent:\"center\",alignItems:\"center\"},React.createElement(Spinner,{thickness:\"4px\",speed:\"0.65s\",emptyColor:\"gray.200\",color:\"blue.500\",size:\"xl\"}))):React.createElement(React.Fragment,null,activeStep!==3?React.createElement(Grid,{templateColumns:\"repeat(6, 1fr)\",gap:4},React.createElement(GridItem,{rowSpan:3,colSpan:1},React.createElement(Flex,{flexDir:\"column\",pr:20,pt:120})),React.createElement(GridItem,{rowSpan:3,colSpan:3},React.createElement(Flex,{py:4,alignItems:\"center\",flexDir:\"column\"},React.createElement(Flex,{marginTop:20,marginBottom:10},React.createElement(AceEditor,{fontSize:16,showPrintMargin:true,showGutter:true,highlightActiveLine:true,setOptions:{enableBasicAutocompletion:true,enableLiveAutocompletion:true,enableSnippets:false,showLineNumbers:true,tabSize:2},mode:\"json\",theme:\"terminal\",onChange:function onChange(newvalue,event){console.log(event);setdata(newvalue);console.log(data);setDownloadable(false);},value:data,name:\"grammar-editor\",wrapEnabled:true,height:\"40em\",width:\"40em\"})),React.createElement(Stack,{py:4,direction:\"row\"},React.createElement(Button,{colorScheme:\"yellow\",disabled:!data,onClick:onValidate},\"Validate_\"),React.createElement(Button,{colorScheme:\"green\",disabled:!downloadable,onClick:downloadTxtFile,leftIcon:React.createElement(BiDownload,null)},\"Download File\")),activeStep===stepslen?React.createElement(Flex,{px:4,py:4,width:\"100%\",flexDirection:\"column\"},React.createElement(Heading,{fontSize:\"xl\",textAlign:\"center\"},\"Woohoo! All steps completed!\"),React.createElement(Button,{mx:\"auto\",mt:6,size:\"sm\",onClick:reset},\"Reset\")):React.createElement(Flex,{width:\"100%\",justify:\"flex-end\"},React.createElement(Button,{isDisabled:activeStep===0,mr:4,onClick:prevStep,size:\"sm\",variant:\"outline\"},\"Prev\"),activeStep===stepslen-1?React.createElement(Button,{size:\"sm\",onClick:onFinish,disabled:!validated,isLoading:submitting,colorScheme:\"green\",variant:\"outline\"},\"Finish\"):React.createElement(Button,{size:\"sm\",onClick:onNextStep,disabled:!validated,isLoading:submitting,colorScheme:\"yellow\",variant:\"outline\"},\"Next\")))),React.createElement(GridItem,{rowSpan:3,colSpan:2,pt:120},React.createElement(Flex,{flexDir:\"column\",pl:20},displayErrors.length>0?React.createElement(List,{spacing:2},displayErrors.map(function(e,i){var str=\"\";var splitarr=e.match(/(?:[^\\s\"]+|\"[^\"]*\")+/g);var Val;if(splitarr.length===12){splitarr.map(function(m,i){return i!==0&&i!==10&&(str=str+\" \"+m);});Val=function Val(){return React.createElement(React.Fragment,null,React.createElement(Text,{as:\"span\"},React.createElement(Text,{as:\"span\",fontWeight:\"bold\",color:tipcolors[splitarr[10]]},splitarr[0]),React.createElement(Text,{as:\"span\"},str),React.createElement(Text,{as:\"span\",fontWeight:\"bold\",color:tipcolors[splitarr[10]]},\" \"+splitarr[10])));};}if(splitarr.length===7||splitarr.length===8){splitarr.map(function(m,i){return i!==0&&(str=str+\" \"+m);});Val=function Val(){return React.createElement(React.Fragment,null,React.createElement(Text,{as:\"span\"},React.createElement(Text,{as:\"span\",fontWeight:\"bold\",color:\"teal.400\"},splitarr[0]),React.createElement(Text,{as:\"span\"},str)));};}if(splitarr.length===11){splitarr.map(function(m,i){return i!==0&&i!==10&&(str=str+\" \"+m);});Val=function Val(){return React.createElement(React.Fragment,null,React.createElement(Text,{as:\"span\"},React.createElement(Text,{as:\"span\",fontWeight:\"bold\",color:tipcolors[splitarr[10]]},splitarr[0]),React.createElement(Text,{as:\"span\"},str),React.createElement(Text,{as:\"span\",fontWeight:\"bold\",color:tipcolors[splitarr[10]]},\" \"+splitarr[10])));};}return React.createElement(ListItem,{key:i},React.createElement(ListIcon,{as:FaExclamationCircle,color:\"red.500\"}),React.createElement(Val,null));})):React.createElement(React.Fragment,null))),React.createElement(Modal,{onClose:onClose,isOpen:isOpen,isCentered:true},React.createElement(ModalOverlay,null),React.createElement(ModalContent,null,React.createElement(ModalCloseButton,null),React.createElement(ModalBody,null,React.createElement(Box,{textAlign:\"center\",py:10,px:6},React.createElement(CheckCircleIcon,{boxSize:\"50px\",color:\"green.500\"}),React.createElement(Heading,{as:\"h2\",size:\"xl\",mt:6,mb:2},\"JSON Validation Successful!\"),React.createElement(Text,{color:\"gray.500\"},\"We have made sure that your data is free from any data-types or syntax errors. Happy Development!\"))),React.createElement(ModalFooter,null,React.createElement(Button,{onClick:function onClick(){onClose();// history.push(\"/projects\");\n}},\"Close\"))))):React.createElement(React.Fragment,null,React.createElement(Tabs,{isFitted:true,variant:\"enclosed\",marginTop:10},React.createElement(TabList,{mb:\"1em\"},React.createElement(Tab,null,\"Write\"),React.createElement(Tab,null,\"Read\")),React.createElement(TabPanels,null,React.createElement(TabPanel,null,React.createElement(\"div\",null,React.createElement(Grid,{templateColumns:\"repeat(8, 1fr)\",gap:2},React.createElement(GridItem,{rowSpan:8,colStart:1,colEnd:8},React.createElement(Flex,{py:4,alignItems:\"center\",flexDir:\"column\"},React.createElement(\"div\",null,React.createElement(Flex,null,\"Name:\",React.createElement(FormControl,{paddingRight:10,paddingLeft:2// value={rulename} onChange={(e) => { setRulename(e) }} placeholder=\"name\"\n},React.createElement(\"input\",{value:rulename,onChange:handel_name,placeholder:\"  Name\",autoFocus:true})),\"Description:\",React.createElement(FormControl,{paddingLeft:2// value={description} onChange={(e) => { set_description(e) }} placeholder=\"description\"\n},React.createElement(\"input\",{value:description,onChange:handel_description,placeholder:\"  Description\"})))),React.createElement(Flex,{flexDir:\"row\",paddingTop:10,paddingLeft:20,marginLeft:20},React.createElement(Flex,{marginLeft:10,marginRight:10,marginBottom:10},React.createElement(AceEditor,{fontSize:16,showPrintMargin:true,showGutter:true,highlightActiveLine:true,setOptions:{enableBasicAutocompletion:true,enableLiveAutocompletion:true,enableSnippets:false,showLineNumbers:true,tabSize:2},mode:\"json\",theme:\"terminal\",onChange:function onChange(newvalue,event){// console.log(newvalue);\nfl=false;// setTextPointer({\"row\": event.end.row, \"column\": event.end.column});\n// console.log(event);\nsetdata(newvalue);// console.log(data);\n// console.log(data.length);\nsetDownloadable(false);}// onClick={(event) => {   \n//   console.log(\"clicked here\");     \n//   console.log(event);            \n//   // setTextPointer(event.target.selectionStart);\n//   setTextPointer({\"row\": event.end.row, \"column\": event.end.column});\n//   console.log(textPointer);\n//   // convertPointer(textPointer, )\n// }}\n,onCursorChange:function onCursorChange(newplace){// console.log(\"changed text pointer\");\n// console.log(newplace);\n// setTextPointer({\"row\": newplace.cursor.row, \"column\": newplace.cursor.column});\nconvertPointer({\"row\":newplace.cursor.row,\"column\":newplace.cursor.column},newplace.cursor.document.$lines);// console.log(textPointer);\n// console.log(position);\n},onSelectionChange:function onSelectionChange(e){// console.log(e);\n// setTextPointer({\"row\": e.cursor.row, \"column\": e.cursor.column});\nconvertPointer({\"row\":e.cursor.row,\"column\":e.cursor.column},e.doc.$lines);},value:data,name:\"grammar-editor\",wrapEnabled:true,height:\"40em\",width:\"40em\",id:\"editor\"})),React.createElement(Box,{as:\"pane\",bg:\"grey\",_dark:{bg:\"gray.800\"},h:\"40em\",w:\"24em\"},React.createElement(Box// navbar\n,{as:\"pane\",zIndex:\"fixed\",h:\"300px\",pb:\"10\",overflowX:\"hidden\",overflowY:\"auto\",bg:\"grey\",w:\"400px\"},React.createElement(Flex,{px:\"4\",pb:\"3\",pt:\"5\",align:\"center\"},React.createElement(\"center\",null,React.createElement(Text,{fontSize:\"2xl\",ml:\"2\",color:\"white\",fontWeight:\"semibold\"},\"Actions\"))),React.createElement(Flex,{direction:\"column\",as:\"nav\",fontSize:\"lg\",color:\"white\",\"aria-label\":\"Main Navigation\",margin:5,marginTop:2,marginLeft:7},flag?rules.map(function(p){return React.createElement(\"a\",{onClick:function onClick(){var newdata_part1=data.slice(0,position);var newdata_part2=data.slice(position);setdata(newdata_part1+p+newdata_part2);// setdata(data + p);\n},color:\"white\"},p);}):React.createElement(React.Fragment,null,React.createElement(Text,null,\"No recent files...\")))),React.createElement(Box,{as:\"pane\"// bg=\"#D69E2E\"\n,bg:\"black\"// colorScheme=\"#D69E2E\"\n,_dark:{bg:\"gray.800\"},h:\"40em\",w:\"13em\"},React.createElement(Box,{as:\"pane\",zIndex:\"fixed\",h:\"300px\",overflowX:\"hidden\",overflowY:\"auto\",w:\"400px\",colorScheme:\"yellow\"},React.createElement(Flex,{px:\"4\",pb:\"3\",pt:\"5\",align:\"center\"},React.createElement(\"center\",null,React.createElement(Text,{fontSize:\"2xl\",ml:\"2\",color:\"white\",fontWeight:\"semibold\"},\"Semantics\"))),React.createElement(Flex,{direction:\"column\",as:\"nav\",fontSize:\"lg\",color:\"white\",\"aria-label\":\"Main Navigation\",margin:5,marginTop:2,marginLeft:7},semantics.elements.map(function(p){return React.createElement(\"a\",{onClick:function onClick(){console.log(position);var newdata_part1=data.slice(0,position);var newdata_part2=data.slice(position);console.log(newdata_part1);console.log(newdata_part2);setdata(newdata_part1+p.editorDisplay+newdata_part2);// if(textPointer.column)\n// const reactAceComponent = this.refs.reactAceComponent;\n// const editor = reactAceComponent.editor;\n// editor.session.insert(textPointer, p.editorDisplay);\n// var newdata_part2 = data.slice(textPointer);\n// var x = newdata_part1 + 'x';\n// console.log(x);\n// console.log(newdata_part1 + p.editorDisplay);\n// setdata(newdata_part1 + p.editorDisplay + newdata_part2);\n// setdata(data + p.editorDisplay);\n},color:\"white\"},React.createElement(\"span\",null,p.displayName));})))))),React.createElement(Stack,{py:4,direction:\"row\"},React.createElement(Button,{colorScheme:\"yellow\",disabled:!data||!rulename,onClick:function onClick(){handleValidateButton();setSeed(Math.random());}},\"Validate\"),React.createElement(Button,{colorScheme:\"green\",disabled:!data||!rulename||!savebutton,onClick:function onClick(){saveButton();}},\"Save\")),activeStep===stepslen?React.createElement(Flex,{px:4,py:4,width:\"100%\",flexDirection:\"column\"},React.createElement(Heading,{fontSize:\"xl\",textAlign:\"center\"},\"Woohoo! All steps completed!\"),React.createElement(Button,{mx:\"auto\",mt:6,size:\"sm\",onClick:reset},\"Reset\")):React.createElement(Flex,{width:\"100%\",justify:\"flex-end\"},React.createElement(Button,{isDisabled:activeStep===0,mr:4,onClick:prevStep,size:\"sm\",variant:\"outline\"},\"Prev\")))),React.createElement(GridItem,{rowSpan:3,colSpan:2,pt:120},React.createElement(Flex,{flexDir:\"column\",pl:20},displayErrors.length>0?React.createElement(List,{spacing:2},displayErrors.map(function(e,i){var str=\"\";var splitarr=e.match(/(?:[^\\s\"]+|\"[^\"]*\")+/g);var Val;if(splitarr.length===12){splitarr.map(function(m,i){return i!==0&&i!==10&&(str=str+\" \"+m);});Val=function Val(){return React.createElement(React.Fragment,null,React.createElement(Text,{as:\"span\"},React.createElement(Text,{as:\"span\",fontWeight:\"bold\",color:tipcolors[splitarr[10]]},splitarr[0]),React.createElement(Text,{as:\"span\"},str),React.createElement(Text,{as:\"span\",fontWeight:\"bold\",color:tipcolors[splitarr[10]]},\" \"+splitarr[10])));};}if(splitarr.length===7||splitarr.length===8){splitarr.map(function(m,i){return i!==0&&(str=str+\" \"+m);});Val=function Val(){return React.createElement(React.Fragment,null,React.createElement(Text,{as:\"span\"},React.createElement(Text,{as:\"span\",fontWeight:\"bold\",color:\"teal.400\"},splitarr[0]),React.createElement(Text,{as:\"span\"},str)));};}if(splitarr.length===11){splitarr.map(function(m,i){return i!==0&&i!==10&&(str=str+\" \"+m);});Val=function Val(){return React.createElement(React.Fragment,null,React.createElement(Text,{as:\"span\"},React.createElement(Text,{as:\"span\",fontWeight:\"bold\",color:tipcolors[splitarr[10]]},splitarr[0]),React.createElement(Text,{as:\"span\"},str),React.createElement(Text,{as:\"span\",fontWeight:\"bold\",color:tipcolors[splitarr[10]]},\" \"+splitarr[10])));};}return React.createElement(ListItem,{key:i},React.createElement(ListIcon,{as:FaExclamationCircle,color:\"red.500\"}),React.createElement(Val,null));})):React.createElement(React.Fragment,null)))))),React.createElement(TabPanel,null,React.createElement(\"div\",null,React.createElement(Grid,{templateColumns:\"repeat(6, 1fr)\",gap:4,marginTop:20},React.createElement(GridItem,{rowSpan:3,colStart:2,colEnd:5},React.createElement(Flex,{py:4,alignItems:\"center\",flexDir:\"column\"},React.createElement(Flex,null,React.createElement(Flex,{marginRight:10,marginBottom:10},React.createElement(AceEditor,{fontSize:16,showPrintMargin:true,showGutter:true,highlightActiveLine:true,setOptions:{enableBasicAutocompletion:true,enableLiveAutocompletion:true,enableSnippets:false,showLineNumbers:true,tabSize:2},mode:\"json\",theme:\"terminal\",value:perdata,name:\"grammar-editor\",wrapEnabled:true,height:\"40em\",width:\"40em\",readOnly:true})),React.createElement(Box,{as:\"pane\",bg:\"whitesmoke\",_dark:{bg:\"gray.800\"}// minH=\"10vh\"\n},React.createElement(Box// navbar\n,{as:\"pane\",pos:\"absolute\"// top=\"250\"\n// right=\"20\"\n,zIndex:\"fixed\",h:\"300px\",pb:\"10\",overflowX:\"hidden\",overflowY:\"auto\",bg:\"grey\",borderColor:\"black\",borderRightWidth:\"1px\",w:\"400px\"},React.createElement(Flex,{px:\"4\",py:\"5\",align:\"center\"},React.createElement(\"center\",null,React.createElement(Text,{fontSize:\"2xl\",ml:\"2\",color:\"white\",fontWeight:\"semibold\"},\"Behaviours\"))),React.createElement(Flex,{direction:\"column\",as:\"nav\",fontSize:\"md\",color:\"white\",\"aria-label\":\"Main Navigation\",margin:5},React.createElement(React.Fragment,null,valid_rule_list.length>0?valid_rule_list.map(function(p){return React.createElement(\"a\",{// key={p.rulename}\nonClick:function onClick(){if(perdata.length>0){set_perdata(perdata+\",{\\\"rulename\\\":\\\"\".concat(p.rulename,\"\\\", \\\"description\\\":\\\"\").concat(p.description,\"\\\",\\\"logic\\\": \\\"\").concat(btoa(p.data_name),\"\\\"}\\n\"));}else{set_perdata(perdata+\"{\\\"rulename\\\":\\\"\".concat(p.rulename,\"\\\", \\\"description\\\":\\\"\").concat(p.description,\"\\\",\\\"logic\\\": \\\"\").concat(btoa(p.data_name),\"\\\"}\\n\"));}},color:\"white\"},p.rulename)// console.log(p.rulename)\n;}):// console.log(\"jjhghguyg\")\nReact.createElement(React.Fragment,null,React.createElement(Text,null,\"No recent files...\"))))))),React.createElement(Stack,{py:4,direction:\"row\"},React.createElement(Button// paddingLeft={-2}\n,{colorScheme:\"yellow\",onClick:function onClick(){// perdata.slice(0,perdata.length -1)\nif(!fl){console.log(typeof rules[0]);for(var i=0;i<rules.length;i++){rules[i]=\"\\\"\"+rules[i]+\"\\\"\";}fl=true;}setdata(\"{\\\"objects_used\\\":[\".concat(rules,\"],\\\"rules\\\":[\").concat(perdata,\"]}\"));toast({title:\"JSON is validated, click next to continue\",status:\"success\",duration:5000,isClosable:true,position:\"top-right\"});// console.log(data);\n},disabled:!perdata,isLoading:submitting},\"Validate\"),React.createElement(Button,{onClick:function onClick(){set_perdata(\"\");// fl = false;\n}// disabled={!validated || !grammarid}\n,isLoading:submitting,colorScheme:\"red\"// variant={\"outline\"}\n},\"Flush\"),React.createElement(Button,{onClick:function onClick(){return setSeed(Math.random());}// disabled={!validated || !grammarid}\n,isLoading:submitting,colorScheme:\"green\"// variant={\"outline\"}\n},\"Update\"),React.createElement(Button,{colorScheme:\"green\",disabled:!downloadable,onClick:downloadTxtFile,leftIcon:React.createElement(BiDownload,null)},\"Download File\")),React.createElement(Flex,{width:\"100%\",justify:\"flex-end\"},React.createElement(Button,{size:\"sm\",onClick:onNextStep// disabled={!validated || !grammarid}\n,isLoading:submitting,colorScheme:\"yellow\",variant:\"outline\"},\"Next\")))))))))));};var CustomCard=React.forwardRef(function(_ref10,ref){var children=_ref10.children,rest=_objectWithoutProperties(_ref10,[\"children\"]);return React.createElement(Box,{p:\"1\"},React.createElement(Tag,Object.assign({ref:ref},rest),children));});export default ProjectPageContent;","map":{"version":3,"sources":["/home/shambhavi/Documents/SERC/VReqST-v3/VReqST/VReqST-main/VReqST/frontend/client/src/Components/Project/ProjectPageContent.jsx"],"names":["Box","Button","Flex","Grid","GridItem","Heading","List","ListIcon","ListItem","Modal","ModalBody","ModalCloseButton","ModalContent","ModalFooter","ModalOverlay","Select","Spinner","Stack","Tag","Text","Tooltip","useDisclosure","useToast","Tabs","TabList","TabPanels","Tab","TabPanel","FormControl","Textarea","Axios","React","useEffect","useState","AceEditor","FaExclamationCircle","BiDownload","CheckCircleIcon","useParams","isJson","e","semantics","errors","rules","valid_rule","grammarDataArray","flag","fl","tipcolors","number","object","boolean","string","array","jsonValidator","grammar","validating","console","log","keys","Object","keys22","grammarArray","filter","value","includes","extraEntries","map","en","app","i","length","root","proot","push","typeof","key","hasOwnProperty","a","c","repeat","obje","found","indexOf","req","alert","b","ProjectPageContent","stepslen","nextStep","prevStep","reset","activeStep","scene","action","asset","projectname","timeline","custom","toast","files","setfiles","loading","setLoading","submitting","setSubmitting","data","setdata","grammarid","setGrammarid","validated","setValidated","grammarbundle","setGrammarbundle","displayErrors","setDisplayErrors","valid_rule_list","setvalid_rule_list","downloadable","setDownloadable","val","setValue","isOpen","onOpen","onClose","description","set_description","perdata","set_perdata","seed","setSeed","projectid","rulename","setRulename","jwttoken","localStorage","getItem","textPointer","setTextPointer","position","setPosition","savebutton","setSavebutton","convertPointer","pointer","lines","pos","row","column","getfiles","url","requestOptions","headers","token","get","res","requestOption","res2","grammarName","p","name","title","status","duration","isClosable","f","downloadTxtFile","fileName","json","blob","Blob","type","href","URL","createObjectURL","downlink","document","createElement","download","body","appendChild","click","removeChild","revokeObjectURL","handleInputChange","inputValue","target","asset_valid","asset_list","valid_obj","d","j","assetValidator","all_object_ids","ret1","sourceObj","ret2","targetObj","repeatactionfor","repeat_assets","curr_word","Array","from","char","word","ret","onValidate2","data_name","onValidate","myjson","JSON","parse","mygrm","myobjs","articles","_sid","ObjAction","actresid","_objectname","ret_asset","showValidateHandler","code","jsonData","stringify","types","order","prev","next","constructs","conditionStart","conditionEnd","scopeStart","scopeEnd","pre","parent","conditionSeparator","specialSymbols","fetch","method","then","response","catch","err","valid","handleValidateButton","saveButton","post","project_id","res_rules","onNextStep","patch","message","handel_name","handel_description","onFinish","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets","showLineNumbers","tabSize","newvalue","event","str","splitarr","match","Val","m","newplace","cursor","$lines","doc","bg","newdata_part1","slice","newdata_part2","elements","editorDisplay","displayName","Math","random","btoa","CustomCard","forwardRef","ref","children","rest"],"mappings":"qqBAAA,OACEA,GADF,CAEEC,MAFF,CAGEC,IAHF,CAIEC,IAJF,CAKEC,QALF,CAMEC,OANF,CAOEC,IAPF,CAQEC,QARF,CASEC,QATF,CAUEC,KAVF,CAWEC,SAXF,CAYEC,gBAZF,CAaEC,YAbF,CAcEC,WAdF,CAeEC,YAfF,CAgBEC,MAhBF,CAiBEC,OAjBF,CAkBEC,KAlBF,CAmBEC,GAnBF,CAoBEC,IApBF,CAqBEC,OArBF,CAsBEC,aAtBF,CAuBEC,QAvBF,CAwBEC,IAxBF,CAyBEC,OAzBF,CA0BEC,SA1BF,CA2BEC,GA3BF,CA4BEC,QA5BF,CA6BEC,WA7BF,CA8BEC,QA9BF,KA+BO,kBA/BP,CAgCA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,SAAP,KAAsB,WAAtB,CACA,OAASC,mBAAT,KAAoC,gBAApC,CACA,OAASC,UAAT,KAA2B,gBAA3B,CACA,OAASC,eAAT,KAAgC,kBAAhC,CACA,OAASC,SAAT,KAA0B,kBAA1B,CAEA,MAAOC,CAAAA,MAAP,KAAmB,uBAAnB,CACA,MAAOC,CAAAA,CAAP,KAAc,MAAd,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CAEA,GAAIC,CAAAA,MAAM,CAAG,EAAb,CACA,GAAIC,CAAAA,KAAK,CAAG,EAAZ,CACA,GAAIC,CAAAA,UAAU,CAAG,EAAjB,CACA,GAAIC,CAAAA,gBAAgB,CAAG,EAAvB,CACA,GAAIC,CAAAA,IAAI,CAAG,KAAX,CACA,GAAIC,CAAAA,EAAE,CAAG,KAAT,CAEA;AAEA,GAAMC,CAAAA,SAAS,CAAG,CAChBC,MAAM,CAAE,QADQ,CAEhBC,MAAM,CAAE,OAFQ,CAGhBC,OAAO,CAAE,KAHO,CAIhBC,MAAM,CAAE,QAJQ,CAKhBC,KAAK,CAAE,MALS,CAAlB,CAQA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,OAAD,CAAUC,UAAV,CAAyB,CAE7CC,OAAO,CAACC,GAAR,CAAYH,OAAZ,EACA,GAAMI,CAAAA,IAAI,CAAGC,MAAM,CAACD,IAAP,CAAYJ,OAAZ,CAAb,CACA,GAAMM,CAAAA,MAAM,CAAGD,MAAM,CAACD,IAAP,CAAYH,UAAZ,CAAf,CAGA,GAAMM,CAAAA,YAAY,CAAGF,MAAM,CAACD,IAAP,CAAYJ,OAAZ,EAAqBQ,MAArB,CACnB,SAACC,KAAD,QAAW,CAACJ,MAAM,CAACD,IAAP,CAAYH,UAAZ,EAAwBS,QAAxB,CAAiCD,KAAjC,CAAZ,EADmB,CAArB,CAIA,GAAME,CAAAA,YAAY,CAAGN,MAAM,CAACD,IAAP,CAAYH,UAAZ,EAAwBO,MAAxB,CACnB,SAACC,KAAD,QAAW,CAACJ,MAAM,CAACD,IAAP,CAAYJ,OAAZ,EAAqBU,QAArB,CAA8BD,KAA9B,CAAZ,EADmB,CAArB,CAIAE,YAAY,CAACC,GAAb,CAAiB,SAACC,EAAD,CAAQ,CACvB,GAAIC,CAAAA,GAAG,CAAG,CAAV,CAEA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGX,IAAI,CAACY,MAAzB,CAAiCD,CAAC,EAAlC,CACA,CACE,GAAIX,IAAI,CAACW,CAAD,CAAJ,GAAYF,EAAZ,EAAkBb,OAAO,CAACI,IAAI,CAACW,CAAD,CAAL,CAAP,CAAiBE,IAAjB,GAA0BJ,EAA5C,EAAkDb,OAAO,CAACI,IAAI,CAACW,CAAD,CAAL,CAAP,CAAiBG,KAAjB,GAA2BL,EAAjF,CACEC,GAAG,CAAG,CAAN,CACH,CACD,GAAIA,GAAJ,CAAS,CACP3B,MAAM,CAACgC,IAAP,aAAgBN,EAAhB,mCACD,CACF,CAXD,EAaAN,YAAY,CAACK,GAAb,CAAiB,SAACC,EAAD,CAAQ,CACvB,GAAIC,CAAAA,GAAG,CAAG,CAAV,CACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGT,MAAM,CAACU,MAA3B,CAAmCD,CAAC,EAApC,CAAwC,CACtC,GAAIF,EAAE,GAAKP,MAAM,CAACS,CAAD,CAAb,EAAoBf,OAAO,CAACa,EAAD,CAAP,CAAYI,IAAZ,GAAqBX,MAAM,CAACS,CAAD,CAA/C,EAAsDf,OAAO,CAACa,EAAD,CAAP,CAAYK,KAAZ,GAAsBZ,MAAM,CAACS,CAAD,CAAtF,CAA2F,CACzFD,GAAG,CAAG,CAAN,CACD,CACF,CACD,GAAIA,GAAG,GAAK,CAAZ,CAAe,CACb3B,MAAM,CAACgC,IAAP,aACMN,EADN,+DAC6Db,OAAO,CAACa,EAAD,CAAP,CAAYO,MADzE,WAID,CACF,CAbD,EAeA,IAAK,GAAIL,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGX,IAAI,CAACY,MAAzB,CAAiCD,CAAC,EAAlC,CAAsC,CACpC,GAAIM,CAAAA,GAAG,CAAGjB,IAAI,CAACW,CAAD,CAAd,CACA,GAAIf,OAAO,CAACqB,GAAD,CAAP,CAAaC,cAAb,CAA4B,OAA5B,CAAJ,CAA0C,CACxC,GAAIC,CAAAA,CAAC,CAAGtB,UAAU,CAACD,OAAO,CAACqB,GAAD,CAAP,CAAaH,KAAd,CAAlB,CACA,IAAK,GAAIH,CAAAA,EAAC,CAAG,CAAb,CAAgBA,EAAC,CAAGQ,CAAC,CAACP,MAAtB,CAA8BD,EAAC,EAA/B,CAAmC,CACjC,GAAIS,CAAAA,CAAC,CAAGD,CAAC,CAACR,EAAD,CAAT,CACA,GAAIS,CAAC,CAACF,cAAF,CAAiBtB,OAAO,CAACqB,GAAD,CAAP,CAAaJ,IAA9B,CAAJ,CAAyC,CAEvC,GAAI,MAAOO,CAAAA,CAAC,CAACxB,OAAO,CAACqB,GAAD,CAAP,CAAaJ,IAAd,CAAD,CAAqBI,GAArB,CAAP,GAAqCrB,OAAO,CAACqB,GAAD,CAAP,CAAaD,MAAtD,CAA8D,CAC7D,CADD,IAEK,CACH,GAAI,MAAOI,CAAAA,CAAC,CAACxB,OAAO,CAACqB,GAAD,CAAP,CAAaJ,IAAd,CAAD,CAAqBI,GAArB,CAAP,GAAqC,WAAzC,CAAsD,CACpDlC,MAAM,CAACgC,IAAP,aACME,GADN,+DAC8DrB,OAAO,CAACqB,GAAD,CAAP,CAAaD,MAD3E,WAGD,CAJD,IAKK,CACHjC,MAAM,CAACgC,IAAP,cACOE,GADP,uCACuC,MAAOG,CAAAA,CAAC,CAACxB,OAAO,CAACqB,GAAD,CAAP,CAAaJ,IAAd,CAAD,CAAqBI,GAArB,CAD9C,gCAC8FrB,OAAO,CAACqB,GAAD,CAAP,CAAaD,MAD3G,GAGD,CACF,CACF,CACF,CACF,CAtBD,IAuBK,IAAIpB,OAAO,CAACqB,GAAD,CAAP,CAAaC,cAAb,CAA4B,QAA5B,GAAyCtB,OAAO,CAACqB,GAAD,CAAP,CAAaI,MAAb,GAAwB,OAArE,CAA8E,CACjF,GAAIF,CAAAA,EAAC,CAAGvB,OAAO,CAACqB,GAAD,CAAP,CAAaJ,IAArB,CACA,GAAIS,CAAAA,IAAI,CAAGrB,MAAM,CAACD,IAAP,CAAYH,UAAZ,CAAX,CACA,GAAI0B,CAAAA,KAAK,CAAGD,IAAI,CAACE,OAAL,CAAaL,EAAb,CAAZ,CAEA,GAAI,MAAOtB,CAAAA,UAAU,CAACsB,EAAD,CAAjB,GAAyB,QAA7B,CAAuC,CACrC,IAAK,GAAIR,CAAAA,GAAC,CAAG,CAAb,CAAgBA,GAAC,CAAGd,UAAU,CAACsB,EAAD,CAAV,CAAcP,MAAlC,CAA0CD,GAAC,EAA3C,CAA+C,CAC7C,GAAI,MAAOd,CAAAA,UAAU,CAACsB,EAAD,CAAV,CAAcR,GAAd,EAAiBM,GAAjB,CAAP,GAAiCrB,OAAO,CAACqB,GAAD,CAAP,CAAaD,MAA9C,EAAyD,MAAOnB,CAAAA,UAAU,CAACsB,EAAD,CAAV,CAAcR,GAAd,EAAiBM,GAAjB,CAAP,GAAiC,QAAjC,EAA6CrB,OAAO,CAACqB,GAAD,CAAP,CAAaD,MAAb,GAAwB,OAAlI,CAA4I,CAC3I,CADD,IAEK,CACH,GAAI,MAAOnB,CAAAA,UAAU,CAACsB,EAAD,CAAV,CAAcR,GAAd,EAAiBM,GAAjB,CAAP,GAAiC,WAArC,CAAkD,CAChDlC,MAAM,CAACgC,IAAP,aACME,GADN,+DAC8DrB,OAAO,CAACqB,GAAD,CAAP,CAAaD,MAD3E,WAGD,CAJD,IAKK,CACHjC,MAAM,CAACgC,IAAP,cACOE,GADP,uCACuC,MAAOpB,CAAAA,UAAU,CAACsB,EAAD,CAAV,CAAcR,GAAd,EAC5CM,GAD4C,CAD9C,gCAG0BrB,OAAO,CAACqB,GAAD,CAAP,CAAaD,MAHvC,GAKD,CACF,CACF,CAEF,CAEF,CA3BI,IA4BA,CACH,GAAIpB,OAAO,CAACqB,GAAD,CAAP,CAAaJ,IAAb,GAAsB,MAAtB,EAAgCjB,OAAO,CAACqB,GAAD,CAAP,CAAaJ,IAAb,GAAsB,WAAtD,EAAsE,CAACjB,OAAO,CAACqB,GAAD,CAAP,CAAaC,cAAb,CAA4B,MAA5B,CAA3E,CAAiH,CAE/G,GAAI,MAAOrB,CAAAA,UAAU,CAACoB,GAAD,CAAjB,GAA2B,WAA/B,CAA4C,CAC1C,SACD,CAED;AACA,GACE,MAAOpB,CAAAA,UAAU,CAACoB,GAAD,CAAjB,GAA2B,QAA3B,EACArB,OAAO,CAACqB,GAAD,CAAP,CAAaD,MAAb,GAAwB,QAF1B,CAGE,CACA,SACD,CAED,GAAI,MAAOnB,CAAAA,UAAU,CAACoB,GAAD,CAAjB,GAA2BrB,OAAO,CAACqB,GAAD,CAAP,CAAaD,MAA5C,CAAoD,CAClDjC,MAAM,CAACgC,IAAP,cACOE,GADP,uCACuC,MAAOpB,CAAAA,UAAU,CACtDoB,GADsD,CADxD,gCAG0BrB,OAAO,CAACqB,GAAD,CAAP,CAAaD,MAHvC,GAKD,CAND,IAOK,CACH;AACD,CAED,GACE,MAAOnB,CAAAA,UAAU,CAACoB,GAAD,CAAjB,GAA2B,QAA3B,EACA,MAAOpB,CAAAA,UAAU,CAACoB,GAAD,CAAjB,GAA2BrB,OAAO,CAACqB,GAAD,CAAP,CAAaD,MADxC,EAEApB,OAAO,CAACqB,GAAD,CAAP,CAAaQ,GAAb,GAAqB,WAFrB,EAGA5B,UAAU,CAACoB,GAAD,CAAV,CAAgBL,MAAhB,GAA2B,CAJ7B,CAKE,CACA7B,MAAM,CAACgC,IAAP,aAAgBE,GAAhB,kDACD,CACF,CAjCD,IAkCK,CAEH,GAAIE,CAAAA,GAAC,CAAGvB,OAAO,CAACqB,GAAD,CAAP,CAAaJ,IAArB,CACA,GAAI,KAAJ,CAAW,CACT,IAAK,GAAIF,CAAAA,GAAC,CAAG,CAAb,CAAgBA,GAAC,CAAGd,UAAU,CAACsB,GAAD,CAAV,CAAcP,MAAlC,CAA0CD,GAAC,EAA3C,CAA+C,CAC7C,GAAI,MAAOd,CAAAA,UAAU,CAACsB,GAAD,CAAV,CAAcR,GAAd,EAAiBM,GAAxB,GAAgCrB,OAAO,CAACqB,GAAD,CAAP,CAAaD,MAAjD,CAAyD,CACvDU,KAAK,CAAC,QAAD,CAAL,CACD,CAFD,IAGK,CACH;AACA;AACA3C,MAAM,CAACgC,IAAP,aAAgBE,GAAhB,4CAAoDrB,OAAO,CAACqB,GAAD,CAAP,CAAaD,MAAjE,QACD,CACF,CACF,CAXD,IAYK,CACH,GAAIW,CAAAA,CAAC,CAAG9B,UAAU,CAACsB,GAAD,CAAlB,CACA;AACA,GAAIC,CAAAA,EAAC,CAAGnB,MAAM,CAACD,IAAP,CAAY2B,CAAZ,CAAR,CACA,GAAIJ,CAAAA,MAAK,CAAGH,EAAC,CAACI,OAAF,CAAUP,GAAV,CAAZ,CACA,GAAI,MAAOpB,CAAAA,UAAU,CAACsB,GAAD,CAAV,CAAcC,EAAC,CAACG,MAAD,CAAf,CAAP,GAAmC3B,OAAO,CAACqB,GAAD,CAAP,CAAaD,MAAhD,EAA2D,MAAOnB,CAAAA,UAAU,CAACsB,GAAD,CAAV,CAAcC,EAAC,CAACG,MAAD,CAAf,CAAP,GAAmC,QAAnC,EAA+C3B,OAAO,CAACqB,GAAD,CAAP,CAAaD,MAAb,GAAwB,OAAtI,CAAgJ,CAC9I;AACD,CAFD,IAGK,CACH,GAAI,MAAOnB,CAAAA,UAAU,CAACsB,GAAD,CAAV,CAAcC,EAAC,CAACG,MAAD,CAAf,CAAP,GAAmC,WAAvC,CAAoD,CAClDxC,MAAM,CAACgC,IAAP,aACME,GADN,+DAC8DrB,OAAO,CAACqB,GAAD,CAAP,CAAaD,MAD3E,WAID,CALD,IAMK,CACHjC,MAAM,CAACgC,IAAP,cACOE,GADP,uCACuC,MAAOpB,CAAAA,UAAU,CAACsB,GAAD,CAAV,CAAcC,EAAC,CAACG,MAAD,CAAf,CAD9C,gCAEyB3B,OAAO,CAACqB,GAAD,CAAP,CAAaD,MAFtC,GAID,CACF,CACF,CACF,CACF,CACF,CAID,GAAIjC,MAAM,CAAC6B,MAAP,CAAgB,CAApB,CAAuB,CACrBd,OAAO,CAACC,GAAR,CAAYhB,MAAZ,EACA,MAAO,KAAP,CACD,CAED,MAAO,MAAP,CACD,CArLD,CAwLA,GAAM6C,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,MAYrB,IAXJC,CAAAA,QAWI,MAXJA,QAWI,CAVJC,QAUI,MAVJA,QAUI,CATJC,QASI,MATJA,QASI,CARJC,KAQI,MARJA,KAQI,CAPJC,UAOI,MAPJA,UAOI,CANJC,KAMI,MANJA,KAMI,CALJC,MAKI,MALJA,MAKI,CAJJC,KAII,MAJJA,KAII,CAHJC,WAGI,MAHJA,WAGI,CAFJC,QAEI,MAFJA,QAEI,CADJC,MACI,MADJA,MACI,CACJ,GAAMC,CAAAA,KAAK,CAAG7E,QAAQ,EAAtB,CADI,cAEsBW,QAAQ,CAAC,EAAD,CAF9B,wCAEGmE,KAFH,eAEUC,QAFV,8BAG0BpE,QAAQ,CAAC,KAAD,CAHlC,yCAGGqE,OAHH,eAGYC,UAHZ,8BAIgCtE,QAAQ,CAAC,KAAD,CAJxC,yCAIGuE,UAJH,eAIeC,aAJf,8BAKoBxE,QAAQ,CAAC,EAAD,CAL5B,yCAKGyE,IALH,eAKSC,OALT,8BAM8B1E,QAAQ,CAAC,EAAD,CANtC,0CAMG2E,SANH,gBAMcC,YANd,gCAO8B5E,QAAQ,CAAC,KAAD,CAPtC,2CAOG6E,SAPH,gBAOcC,YAPd,gBAQJ;AARI,gBASsC9E,QAAQ,CAAC,EAAD,CAT9C,2CASG+E,aATH,gBASkBC,gBATlB,gCAUsChF,QAAQ,CAAC,EAAD,CAV9C,2CAUGiF,aAVH,gBAUkBC,gBAVlB,gCAW0ClF,QAAQ,CAAC,EAAD,CAXlD,2CAWGmF,eAXH,gBAWoBC,kBAXpB,gCAaoCpF,QAAQ,CAAC,KAAD,CAb5C,2CAaGqF,YAbH,gBAaiBC,eAbjB,oCAckBxF,KAAK,CAACE,QAAN,CAAe,EAAf,CAdlB,oDAcCuF,GAdD,qBAcMC,QAdN,wCAegCpG,aAAa,EAf7C,CAeIqG,MAfJ,gBAeIA,MAfJ,CAeYC,MAfZ,gBAeYA,MAfZ,CAeoBC,OAfpB,gBAeoBA,OAfpB,iBAgBmC3F,QAAQ,CAAC,EAAD,CAhB3C,2CAgBG4F,WAhBH,gBAgBgBC,eAhBhB,gCAiB2B7F,QAAQ,CAAC,EAAD,CAjBnC,2CAiBG8F,OAjBH,gBAiBYC,WAjBZ,gCAkBoB/F,QAAQ,CAAC,CAAD,CAlB5B,2CAkBGgG,IAlBH,gBAkBSC,OAlBT,+BAmBkB5F,SAAS,EAnB3B,CAmBI6F,SAnBJ,YAmBIA,SAnBJ,iBAoB4BlG,QAAQ,CAAC,EAAD,CApBpC,2CAoBGmG,QApBH,gBAoBaC,WApBb,gBAqBJ,GAAMC,CAAAA,QAAQ,CAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAjB,CArBI,gBAsBkCvG,QAAQ,CAAC,CAAC,MAAO,CAAR,CAAW,SAAU,CAArB,CAAD,CAtB1C,2CAsBGwG,WAtBH,gBAsBgBC,cAtBhB,gCAwB4BzG,QAAQ,CAAC,CAAD,CAxBpC,2CAwBG0G,QAxBH,gBAwBaC,WAxBb,gCAyBgC3G,QAAQ,CAAC,KAAD,CAzBxC,2CAyBG4G,UAzBH,gBAyBeC,aAzBf,gBA0BJ,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,OAAD,CAAUC,KAAV,CAAoB,CACzC,GAAIC,CAAAA,GAAG,CAAG,CAAV,CACAzF,OAAO,CAACC,GAAR,CAAYuF,KAAZ,EACA,IAAI,GAAI3E,CAAAA,CAAC,CAAC,CAAV,CAAaA,CAAC,EAAE0E,OAAO,CAACG,GAAR,CAAc,CAA9B,CAAiC7E,CAAC,EAAlC,CACA,CACE4E,GAAG,EAAID,KAAK,CAAC3E,CAAD,CAAL,CAASC,MAAhB,CACA,GAAG0E,KAAK,CAAC3E,CAAD,CAAL,CAASC,MAAT,GAAoB,CAAvB,CACE2E,GAAG,EAAE,CAAL,CACFzF,OAAO,CAACC,GAAR,CAAY,GAAZ,CAAgBuF,KAAK,CAAC3E,CAAD,CAAL,CAASC,MAAzB,EACD,CACD2E,GAAG,EAAIF,OAAO,CAACI,MAAf,CACA,GAAGJ,OAAO,CAACI,MAAR,GAAmB,CAAtB,CACEF,GAAG,EAAE,CAAL,CACFzF,OAAO,CAACC,GAAR,CAAY,GAAZ,CAAiBsF,OAAO,CAACI,MAAzB,EACA3F,OAAO,CAACC,GAAR,CAAYwF,GAAZ,EACAzF,OAAO,CAACC,GAAR,CAAYgD,IAAZ,EACAjD,OAAO,CAACC,GAAR,CAAYgD,IAAI,CAACnC,MAAjB,EACAqE,WAAW,CAACM,GAAD,CAAX,CACAzF,OAAO,CAACC,GAAR,CAAYiF,QAAZ,EACD,CAnBD,CAqBA,GAAMU,CAAAA,QAAQ,2FAAG,iLACXC,GADW,CACL,EADK,CAEf;AACAA,GAAG,0CAAH,CACA;AACA;AACA;AACA;AACA;AARe,gBAUPC,cAVO,CAUU,CACrBC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAAsCC,KAAK,CAAEnB,QAA7C,CADY,CAVV,uBAaKxG,CAAAA,KAAK,CAAC4H,GAAN,CAAUJ,GAAV,CAAeC,cAAf,CAbL,QAaPI,GAbO,eAcb;AACA;AACMC,aAhBO,CAgBS,CACpBJ,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAAsCC,KAAK,CAAEnB,QAA7C,CADW,CAhBT,wBAmBMxG,CAAAA,KAAK,CAAC4H,GAAN,6CACoBvB,SADpB,iBAEjByB,aAFiB,CAnBN,SAmBPC,IAnBO,eAuBbpG,OAAO,CAACC,GAAR,CAAYmG,IAAI,CAACnD,IAAL,CAAUoD,WAAtB,EACAzD,QAAQ,CAACsD,GAAG,CAACjD,IAAL,CAAR,CACA;AACA;AACAiD,GAAG,CAACjD,IAAJ,CAASvC,GAAT,CAAa,SAAC4F,CAAD,CAAO,CAClB;AAEA,GAAIA,CAAC,CAACC,IAAF,EAAUH,IAAI,CAACnD,IAAL,CAAUoD,WAAxB,CAAqC,CACnC,GAAIjH,gBAAgB,CAAC0B,MAAjB,EAA2B,CAA/B,CAAkC,CAChC1B,gBAAgB,CAAC6B,IAAjB,CAAsBqF,CAAC,CAAClE,KAAxB,EACAhD,gBAAgB,CAAC6B,IAAjB,CAAsBqF,CAAC,CAAChE,KAAxB,EACAlD,gBAAgB,CAAC6B,IAAjB,CAAsBqF,CAAC,CAACjE,MAAxB,EACAjD,gBAAgB,CAAC6B,IAAjB,CAAsBqF,CAAC,CAAC7D,MAAxB,EACArD,gBAAgB,CAAC6B,IAAjB,CAAsBqF,CAAC,CAAC9D,QAAxB,EACD,CACD;AACD,CACF,CAbD,EAeA;AA1Ca,iFA4CbE,KAAK,CAAC,CACJ8D,KAAK,CAAE,wBADH,CAC8B;AAClCC,MAAM,CAAE,OAFJ,CAGJC,QAAQ,CAAE,KAHN,CAIJC,UAAU,CAAE,IAJR,CAKJzB,QAAQ,CAAE,KALN,CAAD,CAAL,CAOAlF,OAAO,CAACC,GAAR,cAnDa,qEAAH,kBAAR2F,CAAAA,QAAQ,2CAAd,CAuDArH,SAAS,CAAC,UAAM,CACd,GAAMqI,CAAAA,CAAC,2FAAG,wIACR9D,UAAU,CAAC,IAAD,CAAV,CADQ,uBAEF8C,CAAAA,QAAQ,EAFN,QAGR9C,UAAU,CAAC,KAAD,CAAV,CAHQ,wDAAH,kBAAD8D,CAAAA,CAAC,2CAAP,CAMAA,CAAC,GACF,CARQ,CAQN,EARM,CAAT,CAUArI,SAAS,CAAC,UAAM,CACdqH,QAAQ,GACR,GAAIzD,UAAU,EAAI,CAAlB,CAAqB,CACnBe,OAAO,CAACd,KAAD,CAAP,CACAwD,QAAQ,GACRtG,EAAE,CAAG,KAAL,CACA,GAAIR,MAAM,CAACsD,KAAD,CAAV,CAAmB,CACjB0B,eAAe,CAAC,IAAD,CAAf,CACD,CACF,CACD,GAAI3B,UAAU,EAAI,CAAlB,CAAqB,CACnBe,OAAO,CAACZ,KAAD,CAAP,CACAhD,EAAE,CAAG,KAAL,CACA,GAAIR,MAAM,CAACwD,KAAD,CAAV,CAAmB,CACjBwB,eAAe,CAAC,IAAD,CAAf,CACD,CACF,CACD,GAAI3B,UAAU,EAAI,CAAlB,CAAqB,CACnBe,OAAO,CAACb,MAAD,CAAP,CACA/C,EAAE,CAAG,KAAL,CACA,GAAIR,MAAM,CAACuD,MAAD,CAAV,CAAoB,CAClByB,eAAe,CAAC,IAAD,CAAf,CACD,CACF,CACD,GAAI3B,UAAU,EAAI,CAAlB,CAAqB,CACnBe,OAAO,CAACT,MAAD,CAAP,CACAnD,EAAE,CAAG,KAAL,CACA,GAAIR,MAAM,CAAC2D,MAAD,CAAV,CAAoB,CAClBqB,eAAe,CAAC,IAAD,CAAf,CACD,CACF,CACD,GAAI3B,UAAU,EAAI,CAAlB,CAAqB,CACnBe,OAAO,CAACV,QAAD,CAAP,CACAlD,EAAE,CAAG,KAAL,CACA,GAAIR,MAAM,CAAC0D,QAAD,CAAV,CAAsB,CACpBsB,eAAe,CAAC,IAAD,CAAf,CACD,CACF,CACF,CAtCQ,CAsCN,EAtCM,CAAT,CAuCA,GAAM+C,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5B,GAAI5D,IAAI,GAAK,EAAT,EAAe,CAACnE,MAAM,CAACmE,IAAD,CAA1B,CAAkC,CAChCP,KAAK,CAAC,CACJ8D,KAAK,CAAE,4BADH,CAEJC,MAAM,CAAE,OAFJ,CAGJC,QAAQ,CAAE,IAHN,CAIJC,UAAU,CAAE,IAJR,CAKJzB,QAAQ,CAAE,WALN,CAAD,CAAL,CAOApB,eAAe,CAAC,KAAD,CAAf,CACA,OACD,CACD,GAAIgD,CAAAA,QAAQ,CAAG,EAAf,CACA,GAAI3E,UAAU,GAAK,CAAnB,CAAsB2E,QAAQ,CAAG,OAAX,CACtB,GAAI3E,UAAU,GAAK,CAAnB,CAAsB2E,QAAQ,CAAG,OAAX,CACtB,GAAI3E,UAAU,GAAK,CAAnB,CAAsB2E,QAAQ,CAAG,QAAX,CACtB,GAAI3E,UAAU,GAAK,CAAnB,CAAsB2E,QAAQ,CAAG,QAAX,CACtB,GAAI3E,UAAU,GAAK,CAAnB,CAAsB2E,QAAQ,CAAG,UAAX,CACtB,GAAMC,CAAAA,IAAI,CAAG9D,IAAb,CACA,GAAM+D,CAAAA,IAAI,CAAG,GAAIC,CAAAA,IAAJ,CAAS,CAACF,IAAD,CAAT,CAAiB,CAAEG,IAAI,CAAE,kBAAR,CAAjB,CAAb,CACA,GAAMC,CAAAA,IAAI,CAAGC,GAAG,CAACC,eAAJ,CAAoBL,IAApB,CAAb,CAEA,GAAMM,CAAAA,QAAQ,CAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAjB,CACAF,QAAQ,CAACH,IAAT,CAAgBA,IAAhB,CACAG,QAAQ,CAACG,QAAT,CAAoBlF,WAAW,CAAG,GAAd,CAAoBuE,QAApB,CAA+B,OAAnD,CACAS,QAAQ,CAACG,IAAT,CAAcC,WAAd,CAA0BL,QAA1B,EACAA,QAAQ,CAACM,KAAT,GAEA;AACAL,QAAQ,CAACG,IAAT,CAAcG,WAAd,CAA0BP,QAA1B,EACAF,GAAG,CAACU,eAAJ,CAAoBX,IAApB,EACD,CA/BD,CAgCA,GAAIY,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAAChJ,CAAD,CAAO,CAC7B,GAAIiJ,CAAAA,UAAU,CAAGjJ,CAAC,CAACkJ,MAAF,CAAS1H,KAA1B,CACAyD,QAAQ,CAACgE,UAAD,CAAR,CACD,CAHD,CAKA,GAAIE,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAC5F,KAAD,CAAQ6F,UAAR,CAAoB9I,IAApB,CAA6B,CAE7C;AACA,GAAI+I,CAAAA,SAAS,CAAG,KAAhB,CAEAD,UAAU,CAACzH,GAAX,CAAgB,SAAC2H,CAAD,CAAGC,CAAH,CAAO,CAErB;AACA,GAAGhG,KAAK,GAAK+F,CAAb,CACED,SAAS,CAAG,IAAZ,CAEF;AACA;AAED,CATD,EAWA,GAAIA,SAAS,GAAK,KAAlB,CACA,CACE9E,YAAY,CAAC,KAAD,CAAZ,CACAQ,eAAe,CAAC,KAAD,CAAf,CACA,GAAGzE,IAAH,CAAQ,CACNqD,KAAK,CAAC,CACJ8D,KAAK,CACH,UAAWlE,KAAX,CAAkB,4EAAlB,CAA+FA,KAA/F,CAAqG,IAArG,CAA0G6F,UAFxG,CAGJ1B,MAAM,CAAE,SAHJ,CAIJC,QAAQ,CAAE,IAJN,CAKJC,UAAU,CAAE,IALR,CAMJzB,QAAQ,CAAE,WANN,CAAD,CAAL,CAQD,CACD,MAAO,CAAC,CAAR,CACD,CACD,MAAO,EAAP,CACD,CAjCD,CAmCA,GAAIqD,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAAClH,CAAD,CAAImH,cAAJ,CAAuB,CAE1CnH,CAAC,CAACX,GAAF,CAAM,SAACY,CAAD,CAAGT,CAAH,CAAO,CAEX;AAEA,GAAI4H,CAAAA,IAAI,CAAGP,WAAW,CAAC5G,CAAC,CAACoH,SAAH,CAAcF,cAAd,CAA8B,CAA9B,CAAtB,CACA,GAAIG,CAAAA,IAAJ,CACA,GAAGrH,CAAC,CAACsH,SAAF,CAAYtH,CAAC,CAACsH,SAAF,CAAY9H,MAAZ,CAAqB,CAAjC,IAAwC,GAA3C,CACA,CACE;AACA6H,IAAI,CAAG,CAAP,CACD,CAJD,IAMEA,CAAAA,IAAI,CAAGT,WAAW,CAAC5G,CAAC,CAACsH,SAAH,CAAcJ,cAAd,CAA8B,CAA9B,CAAlB,CAEF;AAEA,GAAIC,IAAI,GAAK,CAAC,CAAd,CACA,CACE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAO,MAAP,CACD,CACD;AACA,GAAInH,CAAC,CAACuH,eAAF,GAAsB,IAAtB,EAA8BvH,CAAC,CAACuH,eAAF,CAAkB/H,MAAlB,GAA6B,CAA3D,EAAgEQ,CAAC,CAACuH,eAAF,CAAkB,CAAlB,IAAyB,GAA7F,CACA,CACE,GAAIC,CAAAA,aAAa,CAAG,EAApB,CACA,GAAIC,CAAAA,SAAS,CAAG,EAAhB,CACAC,KAAK,CAACC,IAAN,CAAW3H,CAAC,CAACuH,eAAb,EAA8BnI,GAA9B,CAAkC,SAACwI,IAAD,CAAO/H,GAAP,CAAa,CAC7C,GAAG+H,IAAI,GAAK,GAAT,EAAgBA,IAAI,GAAK,GAA5B,CACA,CACE,GAAGH,SAAS,GAAK,EAAd,EAAoBA,SAAS,GAAK,GAAlC,EAAyCA,SAAS,CAACjI,MAAV,GAAqB,CAAjE,CACA,CACEgI,aAAa,CAAC7H,IAAd,CAAmB8H,SAAnB,EACAA,SAAS,CAAG,EAAZ,CACD,CACF,CAPD,IASA,CACEA,SAAS,CAAGA,SAAS,CAAGG,IAAxB,CACD,CACF,CAbD,EAcA,GAAGH,SAAS,EAAI,EAAb,EAAmBA,SAAS,EAAI,GAAhC,EAAuCA,SAAS,CAACjI,MAAV,EAAoB,CAA9D,CACEgI,aAAa,CAAC7H,IAAd,CAAmB8H,SAAnB,EAEF;AAEAD,aAAa,CAACpI,GAAd,CAAkB,SAACyI,IAAD,CAAOhI,GAAP,CAAa,CAC7B,GAAIiI,CAAAA,GAAG,CAAGlB,WAAW,CAACiB,IAAD,CAAOX,cAAP,CAAuB,CAAvB,CAArB,CACA;AACA,GAAIY,GAAG,GAAK,CAAC,CAAb,CACA,CACE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAO,MAAP,CACD,CACF,CAfD,EAiBA,GAAGT,IAAI,GAAK,CAAC,CAAV,EAAerH,CAAC,CAACsH,SAAF,CAAYtH,CAAC,CAACsH,SAAF,CAAY9H,MAAZ,CAAqB,CAAjC,IAAuC,GAAzD,CACA,CACE4B,KAAK,CAAC,CACJ8D,KAAK,CACH,mFAFE,CAGJC,MAAM,CAAE,SAHJ,CAIJC,QAAQ,CAAE,IAJN,CAKJC,UAAU,CAAE,IALR,CAMJzB,QAAQ,CAAE,WANN,CAAD,CAAL,CAQA,MAAO,MAAP,CACD,CAXD,IAaA,CACE,GAAGgD,WAAW,CAAC5G,CAAC,CAACsH,SAAH,CAAcE,aAAd,CAA6B,CAA7B,CAAX,GAA+C,CAAlD,CACA,CACEpG,KAAK,CAAC,CACJ8D,KAAK,CACH,wDAFE,CAGJC,MAAM,CAAE,SAHJ,CAIJC,QAAQ,CAAE,IAJN,CAKJC,UAAU,CAAE,IALR,CAMJzB,QAAQ,CAAE,WANN,CAAD,CAAL,CAQA,MAAO,MAAP,CACD,CACF,CACF,CACF,CAjGD,EAmGA,MAAO,KAAP,CACD,CAtGD,CAwGA,GAAImE,CAAAA,WAAW,2FAAG,wIAEhB3G,KAAK,CAAC,CACJ8D,KAAK,CAAE,wBADH,CAEJC,MAAM,CAAE,SAFJ,CAGJC,QAAQ,CAAE,IAHN,CAIJC,UAAU,CAAE,IAJR,CAKJzB,QAAQ,CAAE,WALN,CAAD,CAAL,CAQAlF,OAAO,CAACC,GAAR,CAAY,QAAZ,EACA6D,eAAe,CAAC,IAAD,CAAf,CAEA3E,UAAU,CAAC8B,IAAX,CAAgB,CACd0D,QAAQ,CAAEA,QADI,CAEd2E,SAAS,CAAErG,IAFG,CAGdmB,WAAW,CAAEA,WAHC,CAAhB,EAMAiB,aAAa,CAAC,IAAD,CAAb,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEArF,OAAO,CAACC,GAAR,CAAYd,UAAZ,EApCgB,wDAAH,kBAAXkK,CAAAA,WAAW,2CAAf,CAuCA,GAAME,CAAAA,UAAU,2FAAG,qOAEZzK,MAAM,CAACmE,IAAD,CAFM,0BAGfK,YAAY,CAAC,KAAD,CAAZ,CACAQ,eAAe,CAAC,KAAD,CAAf,CACApB,KAAK,CAAC,CACJ8D,KAAK,CAAE,4BADH,CAEJC,MAAM,CAAE,OAFJ,CAGJC,QAAQ,CAAE,IAHN,CAIJC,UAAU,CAAE,IAJR,CAKJzB,QAAQ,CAAE,WALN,CAAD,CAAL,CALe,yCAcjBxB,gBAAgB,CAAC,EAAD,CAAhB,CACAzE,MAAM,CAAG,EAAT,CACIuK,MAhBa,CAgBJC,IAAI,CAACC,KAAL,CAAWzG,IAAX,CAhBI,CAiBjB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA,GAAI,CACE0G,KADF,CACU,EADV,CAEF,GAAIxH,UAAU,EAAI,CAAlB,CAAqBwH,KAAK,CAAGF,IAAI,CAACC,KAAL,CAAWtK,gBAAgB,CAAC,CAAD,CAA3B,CAAR,CAArB,IACK,IAAI+C,UAAU,EAAI,CAAlB,CAAqBwH,KAAK,CAAGF,IAAI,CAACC,KAAL,CAAWtK,gBAAgB,CAAC,CAAD,CAA3B,CAAR,CAArB,IACA,IAAI+C,UAAU,EAAI,CAAlB,CAAqBwH,KAAK,CAAGF,IAAI,CAACC,KAAL,CAAWtK,gBAAgB,CAAC,CAAD,CAA3B,CAAR,CAArB,IACA,IAAI+C,UAAU,EAAI,CAAlB,CAAqBwH,KAAK,CAAGF,IAAI,CAACC,KAAL,CAAWtK,gBAAgB,CAAC,CAAD,CAA3B,CAAR,CAArB,IACA,IAAI+C,UAAU,EAAI,CAAlB,CAAqBwH,KAAK,CAAGF,IAAI,CAACC,KAAL,CAAWtK,gBAAgB,CAAC,CAAD,CAA3B,CAAR,CAE3B,CAAC,MAAOL,CAAP,CAAU,CACViB,OAAO,CAACC,GAAR,CAAYlB,CAAZ,EACD,CA9DgB,sBAkEXoD,UAAU,EAAI,CAlEH,8CAqET;AAEIqG,cAvEK,CAuEY,EAvEZ,CAwEHoB,MAxEG,CAwEMH,IAAI,CAACC,KAAL,CAAWpH,KAAX,CAxEN,CA0ETsH,MAAM,CAACC,QAAP,CAAgBnJ,GAAhB,CAAoB,SAACY,CAAD,CAAGT,CAAH,CAAO,CACzB2H,cAAc,CAACvH,IAAf,CAAoBK,CAAC,CAACwI,IAAtB,EACD,CAFD,EAIA;AACIzI,CA/EK,CA+EDmI,MAAM,CAACO,SA/EN,CAiFT,IAASlJ,CAAT,CAAa,CAAb,CAAgBA,CAAC,CAAGQ,CAAC,CAACP,MAAtB,CAA8BD,CAAC,EAA/B,CAAmC,CAC7BS,CAD6B,CACzBD,CAAC,CAACR,CAAD,CAAD,CAAKmJ,QADoB,CAEjC3K,IAAI,CAAG,IAAP,CACA,GAAIiC,CAAJ,CAAO,CACLpC,KAAK,CAAC+B,IAAN,CAAWK,CAAX,EACD,CACF,CAvFQ,sFA0FXtB,OAAO,CAACC,GAAR,eACAqD,YAAY,CAAC,KAAD,CAAZ,CACAQ,eAAe,CAAC,KAAD,CAAf,CACApB,KAAK,CAAC,CACJ8D,KAAK,CACH,2EAFE,CAGJC,MAAM,CAAE,SAHJ,CAIJC,QAAQ,CAAE,IAJN,CAKJC,UAAU,CAAE,IALR,CAMJzB,QAAQ,CAAE,WANN,CAAD,CAAL,CA7FW,+EAuGJ/C,UAAU,EAAI,CAvGV,8CA0GLd,CA1GK,CA0GDmI,MAAM,CAACK,QA1GN,CA2GT;AACA;AACA,IAAShJ,GAAT,CAAa,CAAb,CAAgBA,GAAC,CAAGQ,CAAC,CAACP,MAAtB,CAA8BD,GAAC,EAA/B,CAAmC,CAC7BS,CAD6B,CACzBD,CAAC,CAACR,GAAD,CAAD,CAAKoJ,WADoB,CAEjC;AACA5K,IAAI,CAAG,IAAP,CACA,GAAIiC,CAAJ,CAAO,CACLpC,KAAK,CAAC+B,IAAN,CAAWK,CAAX,EACD,CACF,CApHQ,sFAuHXtB,OAAO,CAACC,GAAR,eACAqD,YAAY,CAAC,KAAD,CAAZ,CACAQ,eAAe,CAAC,KAAD,CAAf,CACApB,KAAK,CAAC,CACJ8D,KAAK,CACH,8DAFE,CAGJC,MAAM,CAAE,SAHJ,CAIJC,QAAQ,CAAE,IAJN,CAKJC,UAAU,CAAE,IALR,CAMJzB,QAAQ,CAAE,WANN,CAAD,CAAL,CA1HW,+HAsIflF,OAAO,CAACC,GAAR,CAAYlB,CAAZ,EAtIe,aAwIbK,gBAAgB,CAAC0B,MAAjB,GAA4B,CAxIf,oDAyIT8E,CAAAA,QAAQ,EAzIC,2BA8IX+D,MA9IW,CA8IH,EA9IG,CA+If,GAAIxH,UAAU,EAAI,CAAlB,CAAqBwH,MAAK,CAAGF,IAAI,CAACC,KAAL,CAAWtK,gBAAgB,CAAC,CAAD,CAA3B,CAAR,CAArB,IACK,IAAI+C,UAAU,EAAI,CAAlB,CAAqBwH,MAAK,CAAGF,IAAI,CAACC,KAAL,CAAWtK,gBAAgB,CAAC,CAAD,CAA3B,CAAR,CAArB,IACA,IAAI+C,UAAU,EAAI,CAAlB,CAAqBwH,MAAK,CAAGF,IAAI,CAACC,KAAL,CAAWtK,gBAAgB,CAAC,CAAD,CAA3B,CAAR,CAArB,IACA,IAAI+C,UAAU,EAAI,CAAlB,CAAqBwH,MAAK,CAAGF,IAAI,CAACC,KAAL,CAAWtK,gBAAgB,CAAC,CAAD,CAA3B,CAAR,CAArB,IACA,IAAI+C,UAAU,EAAI,CAAlB,CAAqBwH,MAAK,CAAGF,IAAI,CAACC,KAAL,CAAWtK,gBAAgB,CAAC,CAAD,CAA3B,CAAR,CAnJX,GAsJVS,aAAa,CAAC8J,MAAD,CAAQH,MAAR,CAtJH,gCAuJVrH,UAAU,GAAK,CAvJL,4BAyJPqG,eAzJO,CAyJU,EAzJV,CA0JLoB,OA1JK,CA0JIH,IAAI,CAACC,KAAL,CAAWpH,KAAX,CA1JJ,CA4JXsH,OAAM,CAACC,QAAP,CAAgBnJ,GAAhB,CAAoB,SAACY,CAAD,CAAGT,CAAH,CAAO,CACzB2H,eAAc,CAACvH,IAAf,CAAoBK,CAAC,CAACwI,IAAtB,EACD,CAFD,EAGA;AAEMI,SAjKK,CAiKO3B,cAAc,CAACiB,MAAM,CAACO,SAAR,CAAmBvB,eAAnB,CAjKrB,CAkKX;AAlKW,GAmKP0B,SAnKO,2BAqKTlK,OAAO,CAACC,GAAR,CAAYhB,MAAZ,EACAyD,KAAK,CAAC,CACJ8D,KAAK,CAAE,8DADH,CAEJC,MAAM,CAAE,SAFJ,CAGJC,QAAQ,CAAE,IAHN,CAIJC,UAAU,CAAE,IAJR,CAKJzB,QAAQ,CAAE,WALN,CAAD,CAAL,CAtKS,0CAgLT5B,YAAY,CAAC,IAAD,CAAZ,CACAQ,eAAe,CAAC,IAAD,CAAf,CACApB,KAAK,CAAC,CACJ8D,KAAK,CAAE,6BADH,CAEJC,MAAM,CAAE,SAFJ,CAGJC,QAAQ,CAAE,IAHN,CAIJC,UAAU,CAAE,IAJR,CAKJzB,QAAQ,CAAE,WALN,CAAD,CAAL,CAlLS,wCA4LX5B,YAAY,CAAC,IAAD,CAAZ,CACAQ,eAAe,CAAC,IAAD,CAAf,CACApB,KAAK,CAAC,CACJ8D,KAAK,CAAE,6BADH,CAEJC,MAAM,CAAE,SAFJ,CAGJC,QAAQ,CAAE,IAHN,CAIJC,UAAU,CAAE,IAJR,CAKJzB,QAAQ,CAAE,WALN,CAAD,CAAL,CA9LW,wCAuMblF,OAAO,CAACC,GAAR,CAAYhB,MAAZ,EACAyD,KAAK,CAAC,CACJ8D,KAAK,CAAE,8DADH,CAEJC,MAAM,CAAE,SAFJ,CAGJC,QAAQ,CAAE,IAHN,CAIJC,UAAU,CAAE,IAJR,CAKJzB,QAAQ,CAAE,WALN,CAAD,CAAL,CAxMa,QAgNf;AACAxB,gBAAgB,CAACzE,MAAD,CAAhB,CAjNe,sFAoNfe,OAAO,CAACC,GAAR,eACAyC,KAAK,CAAC,CACJ8D,KAAK,CAAE,uEADH,CAEJC,MAAM,CAAE,SAFJ,CAGJC,QAAQ,CAAE,IAHN,CAIJC,UAAU,CAAE,IAJR,CAKJzB,QAAQ,CAAE,WALN,CAAD,CAAL,CArNe,+FAAH,kBAAVqE,CAAAA,UAAU,2CAAhB,CA+NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAMY,CAAAA,mBAAmB,2FAAG,0JAC1BnK,OAAO,CAACC,GAAR,CAAYgD,IAAZ,EACImH,IAFsB,CAEfnH,IAFe,CAGtBoH,QAHsB,CAGXZ,IAAI,CAACa,SAAL,CAAe,CAC5BC,KAAK,CAAE,CACL,CACErD,IAAI,CAAE,IADR,CAEEsD,KAAK,CAAE,CAAC,CAAC,WAAD,CAAD,CAAgB,CAAC,OAAD,CAAhB,CAFT,CADK,CAML,CACEtD,IAAI,CAAE,MADR,CAEEuD,IAAI,CAAE,CAAC,IAAD,CAAO,SAAP,CAFR,CAGED,KAAK,CAAE,CAAC,CAAC,OAAD,CAAD,CAHT,CANK,CAYL,CACEtD,IAAI,CAAE,SADR,CAEEuD,IAAI,CAAE,CAAC,IAAD,CAAO,SAAP,CAFR,CAGED,KAAK,CAAE,CAAC,CAAC,WAAD,CAAD,CAAgB,CAAC,OAAD,CAAhB,CAHT,CAZK,CAkBL,CACEtD,IAAI,CAAE,QADR,CAEEsD,KAAK,CAAE,CAAC,CAAC,WAAD,CAAD,CAAgB,CAAC,OAAD,CAAU,CAAC,MAAD,CAAV,CAAoB,CAAC,SAAD,CAApB,CAAhB,CAFT,CAlBK,CAuBL,CACEtD,IAAI,CAAE,aADR,CAEEsD,KAAK,CAAE,CAAC,CAAC,WAAD,CAAD,CAAgB,CAAC,OAAD,CAAhB,CAFT,CAvBK,CA4BL,CACEtD,IAAI,CAAE,qBADR,CAEEsD,KAAK,CAAE,CAAC,CAAC,OAAD,CAAD,CAFT,CA5BK,CAiCL,CACEtD,IAAI,CAAE,KADR,CAEEsD,KAAK,CAAE,CACL,CAAC,WAAD,CAAc,CAAC,oBAAD,CAAuB,oBAAvB,CAAd,CADK,CAEL,CAAC,OAAD,CAFK,CAFT,CAjCK,CAyCL,CACEtD,IAAI,CAAE,OADR,CAEEsD,KAAK,CAAE,CAAC,CAAC,WAAD,CAAD,CAAgB,CAAC,OAAD,CAAhB,CAFT,CAzCK,CA8CL,CACEtD,IAAI,CAAE,IADR,CAEEsD,KAAK,CAAE,CAAC,CAAC,OAAD,CAAD,CAFT,CAGEE,IAAI,CAAE,CAAC,UAAD,CAHR,CA9CK,CAoDL,CACExD,IAAI,CAAE,UADR,CAEEsD,KAAK,CAAE,CAAC,CAAC,WAAD,CAAD,CAFT,CAGEC,IAAI,CAAE,CAAC,IAAD,CAHR,CApDK,CADqB,CA2D5BE,UAAU,CAAE,CACV,CACEpE,IAAI,CAAE,IADR,CAEEW,IAAI,CAAE,IAFR,CAGE0D,cAAc,CAAE,GAHlB,CAIEC,YAAY,CAAE,GAJhB,CAKEC,UAAU,CAAE,GALd,CAMEC,QAAQ,CAAE,GANZ,CADU,CAUV,CACExE,IAAI,CAAE,SADR,CAEEW,IAAI,CAAE,SAFR,CAGE0D,cAAc,CAAE,GAHlB,CAIEC,YAAY,CAAE,GAJhB,CAKEC,UAAU,CAAE,GALd,CAMEC,QAAQ,CAAE,GANZ,CAOEC,GAAG,CAAE,CAAC,IAAD,CAAO,SAAP,CAPP,CAVU,CAoBV,CACEzE,IAAI,CAAE,MADR,CAEEW,IAAI,CAAE,MAFR,CAGE4D,UAAU,CAAE,GAHd,CAIEC,QAAQ,CAAE,GAJZ,CAKEC,GAAG,CAAE,CAAC,IAAD,CAAO,SAAP,CALP,CApBU,CA4BV,CACEzE,IAAI,CAAE,QADR,CAEEW,IAAI,CAAE,QAFR,CAGE0D,cAAc,CAAE,GAHlB,CAIEC,YAAY,CAAE,GAJhB,CAKEnD,IAAI,CAAE,MALR,CAMEoD,UAAU,CAAE,GANd,CAOEC,QAAQ,CAAE,GAPZ,CAQE,WAAY,SARd,CA5BU,CAuCV,CACExE,IAAI,CAAE,MADR,CAEEW,IAAI,CAAE,aAFR,CAGE0D,cAAc,CAAE,GAHlB,CAIEC,YAAY,CAAE,GAJhB,CAKEC,UAAU,CAAE,GALd,CAMEC,QAAQ,CAAE,GANZ,CAOEE,MAAM,CAAE,QAPV,CAvCU,CAiDV,CACE1E,IAAI,CAAE,SADR,CAEEW,IAAI,CAAE,qBAFR,CAGE4D,UAAU,CAAE,GAHd,CAIEC,QAAQ,CAAE,GAJZ,CAKEE,MAAM,CAAE,QALV,CAjDU,CAyDV,CACE1E,IAAI,CAAE,KADR,CAEEW,IAAI,CAAE,KAFR,CAGE0D,cAAc,CAAE,GAHlB,CAIEC,YAAY,CAAE,GAJhB,CAKEK,kBAAkB,CAAE,GALtB,CAMEJ,UAAU,CAAE,GANd,CAOEC,QAAQ,CAAE,GAPZ,CAzDU,CAmEV,CACExE,IAAI,CAAE,OADR,CAEEW,IAAI,CAAE,OAFR,CAGE0D,cAAc,CAAE,GAHlB,CAIEC,YAAY,CAAE,GAJhB,CAKEC,UAAU,CAAE,GALd,CAMEC,QAAQ,CAAE,GANZ,CAnEU,CA4EV,CACExE,IAAI,CAAE,IADR,CAEEW,IAAI,CAAE,IAFR,CAGE4D,UAAU,CAAE,GAHd,CAIEC,QAAQ,CAAE,GAJZ,CAKEL,IAAI,CAAE,UALR,CA5EU,CAoFV,CACEnE,IAAI,CAAE,UADR,CAEEW,IAAI,CAAE,UAFR,CAGE0D,cAAc,CAAE,GAHlB,CAIEC,YAAY,CAAE,GAJhB,CApFU,CA3DgB,CAsJ5BM,cAAc,CAAE,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAAgB,GAAhB,CAAqB,GAArB,CAA0B,GAA1B,CAtJY,CAAf,CAHW,CA4J1B;AACAC,KAAK,oCAAqC,CACxCrF,OAAO,CAAE,CACP,SAAU,mCADH,CAEP,eAAgB,kBAFT,CAD+B,CAKxCsF,MAAM,CAAE,MALgC,CAMxC3D,IAAI,CAAE+B,IAAI,CAACa,SAAL,CAAe,CAACD,QAAQ,CAARA,QAAD,CAAf,CANkC,CAArC,CAAL,CAOGiB,IAPH,CAOQ,SAACC,QAAD,CAAc,CACpBvL,OAAO,CAACC,GAAR,CAAYsL,QAAZ,EACAA,QAAQ,CAACxE,IAAT,GAAgBuE,IAAhB,CAAqB,SAACvH,GAAD,CAAS,CAC5B/D,OAAO,CAACC,GAAR,CAAY,UAAZ,EACAD,OAAO,CAACC,GAAR,CAAY8D,GAAZ,EACD,CAHD,EAICyH,KAJD,CAIO,SAACC,GAAD,CAAO,CACZzL,OAAO,CAACC,GAAR,CAAYwL,GAAZ,EACD,CAND,EAOA;AACD,CAjBD,EAkBCD,KAlBD,CAkBO,SAACC,GAAD,CAAO,CACZzL,OAAO,CAACC,GAAR,CAAYwL,GAAZ,EACD,CApBD,EAuBAzL,OAAO,CAACC,GAAR,CAAYmK,IAAZ,EACAgB,KAAK,qCAAsC,CACzCrF,OAAO,CAAE,CACP,SAAU,mCADH,CAEP,eAAgB,kBAFT,CADgC,CAKzCsF,MAAM,CAAE,MALiC,CAMzC3D,IAAI,CAAE+B,IAAI,CAACa,SAAL,CAAe,CAACF,IAAI,CAAJA,IAAD,CAAf,CANmC,CAAtC,CAAL,CAOGkB,IAPH,CAOQ,SAACC,QAAD,CAAc,CACpBvL,OAAO,CAACC,GAAR,CAAYsL,QAAZ,EACAA,QAAQ,CAACxE,IAAT,GAAgBuE,IAAhB,CAAqB,SAACvH,GAAD,CAAS,CAC5B/D,OAAO,CAACC,GAAR,CAAY,iCAAZ,EACAD,OAAO,CAACC,GAAR,CAAY8D,GAAG,CAAC2H,KAAhB,EACA,GAAI3H,GAAG,CAAC2H,KAAR,CAAe,CACbrC,WAAW,GACZ,CAFD,IAEO,CACL/F,YAAY,CAAC,KAAD,CAAZ,CACAQ,eAAe,CAAC,KAAD,CAAf,CACApB,KAAK,CAAC,CACJ8D,KAAK,CAAE,0CADH,CAEJC,MAAM,CAAE,OAFJ,CAGJC,QAAQ,CAAE,IAHN,CAIJC,UAAU,CAAE,IAJR,CAKJzB,QAAQ,CAAE,WALN,CAAD,CAAL,CAQA,OACD,CACF,CAlBD,EAmBCsG,KAnBD,CAmBO,SAACC,GAAD,CAAO,CACZzL,OAAO,CAACC,GAAR,CAAYwL,GAAZ,EACD,CArBD,EAsBD,CA/BD,EAgCCD,KAhCD,CAgCO,SAACC,GAAD,CAAO,CACZzL,OAAO,CAACC,GAAR,CAAYwL,GAAZ,EACD,CAlCD,EArL0B,wDAAH,kBAAnBtB,CAAAA,mBAAmB,2CAAzB,CA0NA,GAAMwB,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,EAAM,CACjC3L,OAAO,CAACC,GAAR,CAAY,SAAZ,EACAkK,mBAAmB,CAAC,IAAD,CAAnB,CACD,CAHD,CAKA,GAAMyB,CAAAA,UAAU,2FAAG,0JACjB5L,OAAO,CAACC,GAAR,CAAY,QAAZ,EADiB,wCAGG5B,CAAAA,KAAK,CAACwN,IAAN,CAChB,qDADgB,CACuC,CACrD9F,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,KAAK,CAAEnB,QAFA,CAD4C,CAKrD5B,IAAI,CAAE,CACJ6I,UAAU,CAAEpH,SADR,CAEJC,QAAQ,CAAEA,QAFN,CAGJ2E,SAAS,CAAErG,IAHP,CAIJmB,WAAW,CAAEA,WAJT,CAL+C,CADvC,CAHH,QAGT8B,GAHS,gBAiBfxD,KAAK,CAAC,CACJ8D,KAAK,CAAE,iBADH,CAEJC,MAAM,CAAE,SAFJ,CAGJC,QAAQ,CAAE,IAHN,CAIJC,UAAU,CAAE,IAJR,CAKJzB,QAAQ,CAAE,WALN,CAAD,CAAL,CAQAlF,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAzBe,uBA0BS5B,CAAAA,KAAK,CAACwN,IAAN,CACtB,mDADsB,CAC+B,CACnD9F,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,KAAK,CAAEnB,QAFA,CAD0C,CAKnD5B,IAAI,CAAE,CACJ6I,UAAU,CAAEpH,SADR,CAL6C,CAD/B,CA1BT,QA0BTqH,SA1BS,gBAqCf/L,OAAO,CAACC,GAAR,CAAY8L,SAAS,CAAC9I,IAAtB,EACAW,kBAAkB,CAACmI,SAAS,CAAC9I,IAAX,CAAlB,CAtCe,qFAyCfjD,OAAO,CAACC,GAAR,eAzCe,uEAAH,kBAAV2L,CAAAA,UAAU,2CAAhB,CA6CA,GAAMI,CAAAA,UAAU,2FAAG,wKACb,CAAClN,MAAM,CAACmE,IAAD,CAAP,EAAiBd,UAAU,GAAK,CADnB,2BAEfmB,YAAY,CAAC,KAAD,CAAZ,CACAZ,KAAK,CAAC,CACJ8D,KAAK,CAAE,4BADH,CAEJC,MAAM,CAAE,OAFJ,CAGJC,QAAQ,CAAE,IAHN,CAIJC,UAAU,CAAE,IAJR,CAKJzB,QAAQ,CAAE,KALN,CAAD,CAAL,CAHe,yCAYjBlC,aAAa,CAAC,IAAD,CAAb,CACI6C,GAba,CAaP,EAbO,CAcjB,GAAI1D,UAAU,GAAK,CAAnB,CACE0D,GAAG,6CAAwCnB,SAAxC,UAAH,CADF,IAEK,IAAIvC,UAAU,GAAK,CAAnB,CACH0D,GAAG,6CAAwCnB,SAAxC,UAAH,CADG,IAEA,IAAIvC,UAAU,GAAK,CAAnB,CACH0D,GAAG,6CAAwCnB,SAAxC,WAAH,CADG,IAEA,IAAIvC,UAAU,GAAK,CAAnB,CAAsB,CACzB0D,GAAG,6CAAwCnB,SAAxC,WAAH,CACD,CAFI,IAGA,IAAIvC,UAAU,GAAK,CAAnB,CACH0D,GAAG,6CAAwCnB,SAAxC,aAAH,CAxBe,iBA0BToB,cA1BS,CA0BQ,CACrBC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAAsCC,KAAK,CAAEnB,QAA7C,CADY,CA1BR,yBA6BGxG,CAAAA,KAAK,CAAC4N,KAAN,CAAYpG,GAAZ,CAAiB,CAAE5C,IAAI,CAAJA,IAAF,CAAjB,CAA2B6C,cAA3B,CA7BH,SA6BTI,GA7BS,gBA+BfxD,KAAK,CAAC,CACJ8D,KAAK,CAAEN,GAAG,CAACjD,IAAJ,CAASiJ,OADZ,CAEJzF,MAAM,CAAE,SAFJ,CAGJC,QAAQ,CAAE,IAHN,CAIJC,UAAU,CAAE,IAJR,CAKJzB,QAAQ,CAAE,WALN,CAAD,CAAL,CA/Be,qFAuCfxC,KAAK,CAAC,CACJ8D,KAAK,CAAE,wBADH,CAEJC,MAAM,CAAE,OAFJ,CAGJC,QAAQ,CAAE,KAHN,CAIJC,UAAU,CAAE,IAJR,CAKJzB,QAAQ,CAAE,KALN,CAAD,CAAL,CAOAlF,OAAO,CAACC,GAAR,eA9Ce,QAgDjB+C,aAAa,CAAC,KAAD,CAAb,CACA;AACA;AACA;AACA;AAEAhB,QAAQ,GAtDS,uEAAH,kBAAVgK,CAAAA,UAAU,2CAAhB,CAwDA,GAAMG,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACpN,CAAD,CAAO,CACzB6F,WAAW,CAAC7F,CAAC,CAACkJ,MAAF,CAAS1H,KAAV,CAAX,CACD,CAFD,CAIA,GAAM6L,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACrN,CAAD,CAAO,CAChCsF,eAAe,CAACtF,CAAC,CAACkJ,MAAF,CAAS1H,KAAV,CAAf,CACD,CAFD,CAIA,GAAM8L,CAAAA,QAAQ,2FAAG,sKACVvN,MAAM,CAACmE,IAAD,CADI,0BAEbK,YAAY,CAAC,KAAD,CAAZ,CACAZ,KAAK,CAAC,CACJ8D,KAAK,CAAE,4BADH,CAEJC,MAAM,CAAE,OAFJ,CAGJC,QAAQ,CAAE,IAHN,CAIJC,UAAU,CAAE,IAJR,CAKJzB,QAAQ,CAAE,KALN,CAAD,CAAL,CAHa,yCAYflC,aAAa,CAAC,IAAD,CAAb,CACI6C,GAbW,CAaL,EAbK,CAcf,GAAI1D,UAAU,GAAK,CAAnB,CACE0D,GAAG,6CAAwCnB,SAAxC,UAAH,CADF,IAEK,IAAIvC,UAAU,GAAK,CAAnB,CACH0D,GAAG,6CAAwCnB,SAAxC,UAAH,CADG,IAEA,IAAIvC,UAAU,GAAK,CAAnB,CACH0D,GAAG,6CAAwCnB,SAAxC,WAAH,CADG,IAEA,IAAIvC,UAAU,GAAK,CAAnB,CAAsB,CACzB0D,GAAG,6CAAwCnB,SAAxC,WAAH,CACD,CAFI,IAGA,IAAIvC,UAAU,GAAK,CAAnB,CACH0D,GAAG,6CAAwCnB,SAAxC,aAAH,CAxBa,iBA0BPoB,cA1BO,CA0BU,CACrBC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAAsCC,KAAK,CAAEnB,QAA7C,CADY,CA1BV,yBA6BKxG,CAAAA,KAAK,CAAC4N,KAAN,CAAYpG,GAAZ,CAAiB,CAAE5C,IAAI,CAAJA,IAAF,CAAjB,CAA2B6C,cAA3B,CA7BL,SA6BPI,GA7BO,gBA+BbxD,KAAK,CAAC,CACJ8D,KAAK,CAAEN,GAAG,CAACjD,IAAJ,CAASiJ,OADZ,CAEJzF,MAAM,CAAE,SAFJ,CAGJC,QAAQ,CAAE,IAHN,CAIJC,UAAU,CAAE,IAJR,CAKJzB,QAAQ,CAAE,WALN,CAAD,CAAL,CA/Ba,qFAuCbxC,KAAK,CAAC,CACJ8D,KAAK,CAAE,wBADH,CAEJC,MAAM,CAAE,OAFJ,CAGJC,QAAQ,CAAE,KAHN,CAIJC,UAAU,CAAE,IAJR,CAKJzB,QAAQ,CAAE,KALN,CAAD,CAAL,CAOAlF,OAAO,CAACC,GAAR,eA9Ca,QAgDf+C,aAAa,CAAC,KAAD,CAAb,CACAkB,MAAM,GAjDS,uEAAH,kBAARmI,CAAAA,QAAQ,2CAAd,CAoDA,MAAOxJ,CAAAA,OAAO,CACZ,wCACE,oBAAC,IAAD,EACE,KAAK,CAAE,MADT,CAEE,MAAM,CAAE,MAFV,CAGE,cAAc,CAAC,QAHjB,CAIE,UAAU,CAAE,QAJd,EAME,oBAAC,OAAD,EACE,SAAS,CAAC,KADZ,CAEE,KAAK,CAAC,OAFR,CAGE,UAAU,CAAC,UAHb,CAIE,KAAK,CAAC,UAJR,CAKE,IAAI,CAAC,IALP,EANF,CADF,CADY,CAkBZ,wCACGV,UAAU,GAAK,CAAf,CACC,oBAAC,IAAD,EAAM,eAAe,CAAC,gBAAtB,CAAuC,GAAG,CAAE,CAA5C,EACE,oBAAC,QAAD,EAAU,OAAO,CAAE,CAAnB,CAAsB,OAAO,CAAE,CAA/B,EACE,oBAAC,IAAD,EAAM,OAAO,CAAE,QAAf,CAAyB,EAAE,CAAE,EAA7B,CAAiC,EAAE,CAAE,GAArC,EADF,CADF,CAgCE,oBAAC,QAAD,EAAU,OAAO,CAAE,CAAnB,CAAsB,OAAO,CAAE,CAA/B,EACE,oBAAC,IAAD,EAAM,EAAE,CAAE,CAAV,CAAa,UAAU,CAAE,QAAzB,CAAmC,OAAO,CAAC,QAA3C,EAcE,oBAAC,IAAD,EAAM,SAAS,CAAE,EAAjB,CAAqB,YAAY,CAAE,EAAnC,EACE,oBAAC,SAAD,EACE,QAAQ,CAAE,EADZ,CAEE,eAAe,CAAE,IAFnB,CAGE,UAAU,CAAE,IAHd,CAIE,mBAAmB,CAAE,IAJvB,CAKE,UAAU,CAAE,CACVmK,yBAAyB,CAAE,IADjB,CAEVC,wBAAwB,CAAE,IAFhB,CAGVC,cAAc,CAAE,KAHN,CAIVC,eAAe,CAAE,IAJP,CAKVC,OAAO,CAAE,CALC,CALd,CAYE,IAAI,CAAC,MAZP,CAaE,KAAK,CAAC,UAbR,CAcE,QAAQ,CAAE,kBAACC,QAAD,CAAWC,KAAX,CAAqB,CAC7B5M,OAAO,CAACC,GAAR,CAAY2M,KAAZ,EACA1J,OAAO,CAACyJ,QAAD,CAAP,CACA3M,OAAO,CAACC,GAAR,CAAYgD,IAAZ,EACAa,eAAe,CAAC,KAAD,CAAf,CACD,CAnBH,CAoBE,KAAK,CAAEb,IApBT,CAqBE,IAAI,CAAC,gBArBP,CAsBE,WAAW,KAtBb,CAuBE,MAAM,CAAC,MAvBT,CAwBE,KAAK,CAAE,MAxBT,EADF,CAdF,CA0CE,oBAAC,KAAD,EAAO,EAAE,CAAE,CAAX,CAAc,SAAS,CAAC,KAAxB,EACE,oBAAC,MAAD,EACE,WAAW,CAAC,QADd,CAEE,QAAQ,CAAE,CAACA,IAFb,CAGE,OAAO,CAAEsG,UAHX,cADF,CAQE,oBAAC,MAAD,EACE,WAAW,CAAC,OADd,CAEE,QAAQ,CAAE,CAAC1F,YAFb,CAGE,OAAO,CAAEgD,eAHX,CAIE,QAAQ,CAAE,oBAAC,UAAD,MAJZ,kBARF,CA1CF,CA4DG1E,UAAU,GAAKJ,QAAf,CACC,oBAAC,IAAD,EAAM,EAAE,CAAE,CAAV,CAAa,EAAE,CAAE,CAAjB,CAAoB,KAAK,CAAC,MAA1B,CAAiC,aAAa,CAAC,QAA/C,EACE,oBAAC,OAAD,EAAS,QAAQ,CAAC,IAAlB,CAAuB,SAAS,CAAC,QAAjC,iCADF,CAIE,oBAAC,MAAD,EAAQ,EAAE,CAAC,MAAX,CAAkB,EAAE,CAAE,CAAtB,CAAyB,IAAI,CAAC,IAA9B,CAAmC,OAAO,CAAEG,KAA5C,UAJF,CADD,CAUC,oBAAC,IAAD,EAAM,KAAK,CAAC,MAAZ,CAAmB,OAAO,CAAC,UAA3B,EACE,oBAAC,MAAD,EACE,UAAU,CAAEC,UAAU,GAAK,CAD7B,CAEE,EAAE,CAAE,CAFN,CAGE,OAAO,CAAEF,QAHX,CAIE,IAAI,CAAC,IAJP,CAKE,OAAO,CAAE,SALX,SADF,CAWGE,UAAU,GAAKJ,QAAQ,CAAG,CAA1B,CACC,oBAAC,MAAD,EACE,IAAI,CAAC,IADP,CAEE,OAAO,CAAEsK,QAFX,CAGE,QAAQ,CAAE,CAAChJ,SAHb,CAIE,SAAS,CAAEN,UAJb,CAKE,WAAW,CAAC,OALd,CAME,OAAO,CAAE,SANX,WADD,CAYC,oBAAC,MAAD,EACE,IAAI,CAAC,IADP,CAEE,OAAO,CAAEiJ,UAFX,CAGE,QAAQ,CAAE,CAAC3I,SAHb,CAIE,SAAS,CAAEN,UAJb,CAKE,WAAW,CAAC,QALd,CAME,OAAO,CAAE,SANX,SAvBJ,CAtEJ,CADF,CAhCF,CA6IE,oBAAC,QAAD,EAAU,OAAO,CAAE,CAAnB,CAAsB,OAAO,CAAE,CAA/B,CAAkC,EAAE,CAAE,GAAtC,EACE,oBAAC,IAAD,EAAM,OAAO,CAAE,QAAf,CAAyB,EAAE,CAAE,EAA7B,EACGU,aAAa,CAAC3C,MAAd,CAAuB,CAAvB,CACC,oBAAC,IAAD,EAAM,OAAO,CAAE,CAAf,EACG2C,aAAa,CAAC/C,GAAd,CAAkB,SAAC3B,CAAD,CAAI8B,CAAJ,CAAU,CAC3B,GAAIgM,CAAAA,GAAG,CAAG,EAAV,CACA,GAAMC,CAAAA,QAAQ,CAAG/N,CAAC,CAACgO,KAAF,CAAQ,uBAAR,CAAjB,CACA,GAAIC,CAAAA,GAAJ,CACA,GAAIF,QAAQ,CAAChM,MAAT,GAAoB,EAAxB,CAA4B,CAC1BgM,QAAQ,CAACpM,GAAT,CACE,SAACuM,CAAD,CAAIpM,CAAJ,QAAUA,CAAAA,CAAC,GAAK,CAAN,EAAWA,CAAC,GAAK,EAAjB,GAAwBgM,GAAG,CAAGA,GAAG,CAAG,GAAN,CAAYI,CAA1C,CAAV,EADF,EAGAD,GAAG,CAAG,qBACJ,yCACE,oBAAC,IAAD,EAAM,EAAE,CAAC,MAAT,EACE,oBAAC,IAAD,EACE,EAAE,CAAC,MADL,CAEE,UAAU,CAAE,MAFd,CAGE,KAAK,CAAEzN,SAAS,CAACuN,QAAQ,CAAC,EAAD,CAAT,CAHlB,EAKGA,QAAQ,CAAC,CAAD,CALX,CADF,CAQE,oBAAC,IAAD,EAAM,EAAE,CAAC,MAAT,EAAiBD,GAAjB,CARF,CASE,oBAAC,IAAD,EACE,EAAE,CAAC,MADL,CAEE,UAAU,CAAE,MAFd,CAGE,KAAK,CAAEtN,SAAS,CAACuN,QAAQ,CAAC,EAAD,CAAT,CAHlB,EAKG,IAAMA,QAAQ,CAAC,EAAD,CALjB,CATF,CADF,CADI,EAAN,CAqBD,CAED,GAAIA,QAAQ,CAAChM,MAAT,GAAoB,CAApB,EAAyBgM,QAAQ,CAAChM,MAAT,GAAoB,CAAjD,CAAoD,CAClDgM,QAAQ,CAACpM,GAAT,CAAa,SAACuM,CAAD,CAAIpM,CAAJ,QAAUA,CAAAA,CAAC,GAAK,CAAN,GAAYgM,GAAG,CAAGA,GAAG,CAAG,GAAN,CAAYI,CAA9B,CAAV,EAAb,EACAD,GAAG,CAAG,qBACJ,yCACE,oBAAC,IAAD,EAAM,EAAE,CAAC,MAAT,EACE,oBAAC,IAAD,EACE,EAAE,CAAC,MADL,CAEE,UAAU,CAAE,MAFd,CAGE,KAAK,CAAE,UAHT,EAKGF,QAAQ,CAAC,CAAD,CALX,CADF,CAQE,oBAAC,IAAD,EAAM,EAAE,CAAC,MAAT,EAAiBD,GAAjB,CARF,CADF,CADI,EAAN,CAcD,CAED,GAAIC,QAAQ,CAAChM,MAAT,GAAoB,EAAxB,CAA4B,CAC1BgM,QAAQ,CAACpM,GAAT,CACE,SAACuM,CAAD,CAAIpM,CAAJ,QAAUA,CAAAA,CAAC,GAAK,CAAN,EAAWA,CAAC,GAAK,EAAjB,GAAwBgM,GAAG,CAAGA,GAAG,CAAG,GAAN,CAAYI,CAA1C,CAAV,EADF,EAGAD,GAAG,CAAG,qBACJ,yCACE,oBAAC,IAAD,EAAM,EAAE,CAAC,MAAT,EACE,oBAAC,IAAD,EACE,EAAE,CAAC,MADL,CAEE,UAAU,CAAE,MAFd,CAGE,KAAK,CAAEzN,SAAS,CAACuN,QAAQ,CAAC,EAAD,CAAT,CAHlB,EAKGA,QAAQ,CAAC,CAAD,CALX,CADF,CAQE,oBAAC,IAAD,EAAM,EAAE,CAAC,MAAT,EAAiBD,GAAjB,CARF,CASE,oBAAC,IAAD,EACE,EAAE,CAAC,MADL,CAEE,UAAU,CAAE,MAFd,CAGE,KAAK,CAAEtN,SAAS,CAACuN,QAAQ,CAAC,EAAD,CAAT,CAHlB,EAKG,IAAMA,QAAQ,CAAC,EAAD,CALjB,CATF,CADF,CADI,EAAN,CAqBD,CAED,MACE,qBAAC,QAAD,EAAU,GAAG,CAAEjM,CAAf,EACE,oBAAC,QAAD,EAAU,EAAE,CAAEnC,mBAAd,CAAmC,KAAK,CAAC,SAAzC,EADF,CAEG,oBAAC,GAAD,MAFH,CADF,CAMD,CAlFA,CADH,CADD,CAuFC,wCAxFJ,CADF,CA7IF,CA0OE,oBAAC,KAAD,EAAO,OAAO,CAAEyF,OAAhB,CAAyB,MAAM,CAAEF,MAAjC,CAAyC,UAAU,KAAnD,EACE,oBAAC,YAAD,MADF,CAEE,oBAAC,YAAD,MACE,oBAAC,gBAAD,MADF,CAEE,oBAAC,SAAD,MACE,oBAAC,GAAD,EAAK,SAAS,CAAC,QAAf,CAAwB,EAAE,CAAE,EAA5B,CAAgC,EAAE,CAAE,CAApC,EACE,oBAAC,eAAD,EAAiB,OAAO,CAAE,MAA1B,CAAkC,KAAK,CAAE,WAAzC,EADF,CAEE,oBAAC,OAAD,EAAS,EAAE,CAAC,IAAZ,CAAiB,IAAI,CAAC,IAAtB,CAA2B,EAAE,CAAE,CAA/B,CAAkC,EAAE,CAAE,CAAtC,gCAFF,CAKE,oBAAC,IAAD,EAAM,KAAK,CAAE,UAAb,sGALF,CADF,CAFF,CAcE,oBAAC,WAAD,MACE,oBAAC,MAAD,EAAQ,OAAO,CAAE,kBAAM,CACrBE,OAAO,GACP;AACD,CAHD,UADF,CAdF,CAFF,CA1OF,CADD,CAqQC,wCACE,oBAAC,IAAD,EAAM,QAAQ,KAAd,CAAe,OAAO,CAAC,UAAvB,CAAkC,SAAS,CAAE,EAA7C,EACE,oBAAC,OAAD,EAAS,EAAE,CAAC,KAAZ,EACE,oBAAC,GAAD,cADF,CAEE,oBAAC,GAAD,aAFF,CADF,CAKE,oBAAC,SAAD,MACE,oBAAC,QAAD,MACE,+BACE,oBAAC,IAAD,EAAM,eAAe,CAAC,gBAAtB,CAAuC,GAAG,CAAE,CAA5C,EACE,oBAAC,QAAD,EAAU,OAAO,CAAE,CAAnB,CAAsB,QAAQ,CAAE,CAAhC,CAAmC,MAAM,CAAE,CAA3C,EACE,oBAAC,IAAD,EAAM,EAAE,CAAE,CAAV,CAAa,UAAU,CAAE,QAAzB,CAAmC,OAAO,CAAC,QAA3C,EAEE,+BACE,oBAAC,IAAD,cAEE,oBAAC,WAAD,EACE,YAAY,CAAE,EADhB,CAEE,WAAW,CAAE,CACf;AAHA,EAKE,6BACE,KAAK,CAAEQ,QADT,CAEE,QAAQ,CAAEwH,WAFZ,CAGE,WAAW,CAAC,QAHd,CAIE,SAAS,KAJX,EALF,CAFF,gBAeE,oBAAC,WAAD,EACE,WAAW,CAAE,CAEf;AAHA,EAKE,6BACE,KAAK,CAAE/H,WADT,CAEE,QAAQ,CAAEgI,kBAFZ,CAGE,WAAW,CAAC,eAHd,EALF,CAfF,CADF,CAFF,CAgCE,oBAAC,IAAD,EAAM,OAAO,CAAC,KAAd,CAAoB,UAAU,CAAE,EAAhC,CAAoC,WAAW,CAAE,EAAjD,CAAqD,UAAU,CAAE,EAAjE,EAGE,oBAAC,IAAD,EAAM,UAAU,CAAE,EAAlB,CAAsB,WAAW,CAAE,EAAnC,CAAuC,YAAY,CAAE,EAArD,EACE,oBAAC,SAAD,EACE,QAAQ,CAAE,EADZ,CAEE,eAAe,CAAE,IAFnB,CAGE,UAAU,CAAE,IAHd,CAIE,mBAAmB,CAAE,IAJvB,CAKE,UAAU,CAAE,CACVE,yBAAyB,CAAE,IADjB,CAEVC,wBAAwB,CAAE,IAFhB,CAGVC,cAAc,CAAE,KAHN,CAIVC,eAAe,CAAE,IAJP,CAKVC,OAAO,CAAE,CALC,CALd,CAYE,IAAI,CAAC,MAZP,CAaE,KAAK,CAAC,UAbR,CAcE,QAAQ,CAAE,kBAACC,QAAD,CAAWC,KAAX,CAAqB,CAC7B;AACAtN,EAAE,CAAG,KAAL,CACA;AACA;AACA4D,OAAO,CAACyJ,QAAD,CAAP,CACA;AACA;AACA7I,eAAe,CAAC,KAAD,CAAf,CACD,CACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/BF,CAgCE,cAAc,CAAE,wBAACoJ,QAAD,CAAY,CAC1B;AACA;AACA;AACA5H,cAAc,CAAC,CAAC,MAAM4H,QAAQ,CAACC,MAAT,CAAgBzH,GAAvB,CAA4B,SAAUwH,QAAQ,CAACC,MAAT,CAAgBxH,MAAtD,CAAD,CAAgEuH,QAAQ,CAACC,MAAT,CAAgB5F,QAAhB,CAAyB6F,MAAzF,CAAd,CACA;AACA;AACD,CAvCH,CAwCE,iBAAiB,CAAE,2BAACrO,CAAD,CAAK,CACtB;AACA;AACAuG,cAAc,CAAC,CAAC,MAAOvG,CAAC,CAACoO,MAAF,CAASzH,GAAjB,CAAsB,SAAU3G,CAAC,CAACoO,MAAF,CAASxH,MAAzC,CAAD,CAAmD5G,CAAC,CAACsO,GAAF,CAAMD,MAAzD,CAAd,CACD,CA5CH,CA6CE,KAAK,CAAEnK,IA7CT,CA8CE,IAAI,CAAC,gBA9CP,CA+CE,WAAW,KA/Cb,CAgDE,MAAM,CAAE,MAhDV,CAiDE,KAAK,CAAE,MAjDT,CAkDE,EAAE,CAAC,QAlDL,EADF,CAHF,CAyDE,oBAAC,GAAD,EACE,EAAE,CAAC,MADL,CAEE,EAAE,CAAC,MAFL,CAGE,KAAK,CAAE,CACLqK,EAAE,CAAE,UADC,CAHT,CAME,CAAC,CAAC,MANJ,CAOE,CAAC,CAAC,MAPJ,EASE,oBAAC,GAAI;AAAL,EACE,EAAE,CAAC,MADL,CAEE,MAAM,CAAC,OAFT,CAGE,CAAC,CAAC,OAHJ,CAIE,EAAE,CAAC,IAJL,CAKE,SAAS,CAAC,QALZ,CAME,SAAS,CAAC,MANZ,CAOE,EAAE,CAAC,MAPL,CAQE,CAAC,CAAC,OARJ,EAUE,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,EAAE,CAAC,GAAhB,CAAoB,EAAE,CAAC,GAAvB,CAA2B,KAAK,CAAC,QAAjC,EACE,kCACE,oBAAC,IAAD,EACE,QAAQ,CAAC,KADX,CAEE,EAAE,CAAC,GAFL,CAGE,KAAK,CAAC,OAHR,CAIE,UAAU,CAAC,UAJb,YADF,CADF,CAVF,CAuBE,oBAAC,IAAD,EACE,SAAS,CAAC,QADZ,CAEE,EAAE,CAAC,KAFL,CAGE,QAAQ,CAAC,IAHX,CAIE,KAAK,CAAC,OAJR,CAKE,aAAW,iBALb,CAME,MAAM,CAAE,CANV,CAOE,SAAS,CAAE,CAPb,CAQE,UAAU,CAAE,CARd,EAUGjO,IAAI,CACHH,KAAK,CAACwB,GAAN,CAAU,SAAC4F,CAAD,QACR,0BACE,OAAO,CAAE,kBAAM,CACb,GAAIiH,CAAAA,aAAa,CAAGtK,IAAI,CAACuK,KAAL,CAAW,CAAX,CAAatI,QAAb,CAApB,CACA,GAAIuI,CAAAA,aAAa,CAAGxK,IAAI,CAACuK,KAAL,CAAWtI,QAAX,CAApB,CACAhC,OAAO,CAACqK,aAAa,CAAGjH,CAAhB,CAAoBmH,aAArB,CAAP,CACA;AACD,CANH,CAOE,KAAK,CAAC,OAPR,EASGnH,CATH,CADQ,EAAV,CADG,CAeH,wCACE,oBAAC,IAAD,2BADF,CAzBJ,CAvBF,CATF,CA+DE,oBAAC,GAAD,EAAK,EAAE,CAAC,MACR;AADA,CAEA,EAAE,CAAC,OACH;AAHA,CAIA,KAAK,CAAE,CACLgH,EAAE,CAAE,UADC,CAJP,CAOA,CAAC,CAAC,MAPF,CAQA,CAAC,CAAC,MARF,EAWF,oBAAC,GAAD,EACI,EAAE,CAAC,MADP,CAEI,MAAM,CAAC,OAFX,CAGI,CAAC,CAAC,OAHN,CAII,SAAS,CAAC,QAJd,CAKI,SAAS,CAAC,MALd,CAMI,CAAC,CAAC,OANN,CAOI,WAAW,CAAC,QAPhB,EASI,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,EAAE,CAAC,GAAhB,CAAoB,EAAE,CAAC,GAAvB,CAA2B,KAAK,CAAC,QAAjC,EACE,kCACE,oBAAC,IAAD,EACE,QAAQ,CAAC,KADX,CAEE,EAAE,CAAC,GAFL,CAGE,KAAK,CAAC,OAHR,CAIE,UAAU,CAAC,UAJb,cADF,CADF,CATJ,CAqBI,oBAAC,IAAD,EACE,SAAS,CAAC,QADZ,CAEE,EAAE,CAAC,KAFL,CAGE,QAAQ,CAAC,IAHX,CAIE,KAAK,CAAC,OAJR,CAKE,aAAW,iBALb,CAME,MAAM,CAAE,CANV,CAOE,SAAS,CAAE,CAPb,CAQE,UAAU,CAAE,CARd,EAWItO,SAAS,CAAC0O,QAAV,CAAmBhN,GAAnB,CAAuB,SAAC4F,CAAD,QACrB,0BACE,OAAO,CAAE,kBAAM,CACbtG,OAAO,CAACC,GAAR,CAAYiF,QAAZ,EACA,GAAIqI,CAAAA,aAAa,CAAGtK,IAAI,CAACuK,KAAL,CAAW,CAAX,CAAatI,QAAb,CAApB,CACA,GAAIuI,CAAAA,aAAa,CAAGxK,IAAI,CAACuK,KAAL,CAAWtI,QAAX,CAApB,CACAlF,OAAO,CAACC,GAAR,CAAYsN,aAAZ,EACAvN,OAAO,CAACC,GAAR,CAAYwN,aAAZ,EACAvK,OAAO,CAACqK,aAAa,CAAGjH,CAAC,CAACqH,aAAlB,CAAkCF,aAAnC,CAAP,CAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACD,CApBH,CAqBE,KAAK,CAAC,OArBR,EAuBE,gCAAOnH,CAAC,CAACsH,WAAT,CAvBF,CADqB,EAAvB,CAXJ,CArBJ,CAXE,CA/DF,CAzDF,CAhCF,CAqOE,oBAAC,KAAD,EAAO,EAAE,CAAE,CAAX,CAAc,SAAS,CAAC,KAAxB,EACE,oBAAC,MAAD,EACE,WAAW,CAAC,QADd,CAEE,QAAQ,CAAE,CAAC3K,IAAD,EAAS,CAAC0B,QAFtB,CAGE,OAAO,CAAE,kBAAM,CACbgH,oBAAoB,GACpBlH,OAAO,CAACoJ,IAAI,CAACC,MAAL,EAAD,CAAP,CACD,CANH,aADF,CAWE,oBAAC,MAAD,EACE,WAAW,CAAC,OADd,CAEE,QAAQ,CAAE,CAAC7K,IAAD,EAAS,CAAC0B,QAAV,EAAsB,CAACS,UAFnC,CAGE,OAAO,CAAE,kBAAM,CACbwG,UAAU,GACX,CALH,SAXF,CArOF,CA2PGzJ,UAAU,GAAKJ,QAAf,CACC,oBAAC,IAAD,EACE,EAAE,CAAE,CADN,CAEE,EAAE,CAAE,CAFN,CAGE,KAAK,CAAC,MAHR,CAIE,aAAa,CAAC,QAJhB,EAME,oBAAC,OAAD,EAAS,QAAQ,CAAC,IAAlB,CAAuB,SAAS,CAAC,QAAjC,iCANF,CASE,oBAAC,MAAD,EAAQ,EAAE,CAAC,MAAX,CAAkB,EAAE,CAAE,CAAtB,CAAyB,IAAI,CAAC,IAA9B,CAAmC,OAAO,CAAEG,KAA5C,UATF,CADD,CAeC,oBAAC,IAAD,EAAM,KAAK,CAAC,MAAZ,CAAmB,OAAO,CAAC,UAA3B,EACE,oBAAC,MAAD,EACE,UAAU,CAAEC,UAAU,GAAK,CAD7B,CAEE,EAAE,CAAE,CAFN,CAGE,OAAO,CAAEF,QAHX,CAIE,IAAI,CAAC,IAJP,CAKE,OAAO,CAAE,SALX,SADF,CA1QJ,CADF,CADF,CAgSE,oBAAC,QAAD,EAAU,OAAO,CAAE,CAAnB,CAAsB,OAAO,CAAE,CAA/B,CAAkC,EAAE,CAAE,GAAtC,EACE,oBAAC,IAAD,EAAM,OAAO,CAAE,QAAf,CAAyB,EAAE,CAAE,EAA7B,EACGwB,aAAa,CAAC3C,MAAd,CAAuB,CAAvB,CACC,oBAAC,IAAD,EAAM,OAAO,CAAE,CAAf,EACG2C,aAAa,CAAC/C,GAAd,CAAkB,SAAC3B,CAAD,CAAI8B,CAAJ,CAAU,CAC3B,GAAIgM,CAAAA,GAAG,CAAG,EAAV,CACA,GAAMC,CAAAA,QAAQ,CAAG/N,CAAC,CAACgO,KAAF,CAAQ,uBAAR,CAAjB,CACA,GAAIC,CAAAA,GAAJ,CACA,GAAIF,QAAQ,CAAChM,MAAT,GAAoB,EAAxB,CAA4B,CAC1BgM,QAAQ,CAACpM,GAAT,CACE,SAACuM,CAAD,CAAIpM,CAAJ,QACEA,CAAAA,CAAC,GAAK,CAAN,EAAWA,CAAC,GAAK,EAAjB,GAAwBgM,GAAG,CAAGA,GAAG,CAAG,GAAN,CAAYI,CAA1C,CADF,EADF,EAIAD,GAAG,CAAG,qBACJ,yCACE,oBAAC,IAAD,EAAM,EAAE,CAAC,MAAT,EACE,oBAAC,IAAD,EACE,EAAE,CAAC,MADL,CAEE,UAAU,CAAE,MAFd,CAGE,KAAK,CAAEzN,SAAS,CAACuN,QAAQ,CAAC,EAAD,CAAT,CAHlB,EAKGA,QAAQ,CAAC,CAAD,CALX,CADF,CAQE,oBAAC,IAAD,EAAM,EAAE,CAAC,MAAT,EAAiBD,GAAjB,CARF,CASE,oBAAC,IAAD,EACE,EAAE,CAAC,MADL,CAEE,UAAU,CAAE,MAFd,CAGE,KAAK,CAAEtN,SAAS,CAACuN,QAAQ,CAAC,EAAD,CAAT,CAHlB,EAKG,IAAMA,QAAQ,CAAC,EAAD,CALjB,CATF,CADF,CADI,EAAN,CAqBD,CAED,GACEA,QAAQ,CAAChM,MAAT,GAAoB,CAApB,EACAgM,QAAQ,CAAChM,MAAT,GAAoB,CAFtB,CAGE,CACAgM,QAAQ,CAACpM,GAAT,CACE,SAACuM,CAAD,CAAIpM,CAAJ,QAAUA,CAAAA,CAAC,GAAK,CAAN,GAAYgM,GAAG,CAAGA,GAAG,CAAG,GAAN,CAAYI,CAA9B,CAAV,EADF,EAGAD,GAAG,CAAG,qBACJ,yCACE,oBAAC,IAAD,EAAM,EAAE,CAAC,MAAT,EACE,oBAAC,IAAD,EACE,EAAE,CAAC,MADL,CAEE,UAAU,CAAE,MAFd,CAGE,KAAK,CAAE,UAHT,EAKGF,QAAQ,CAAC,CAAD,CALX,CADF,CAQE,oBAAC,IAAD,EAAM,EAAE,CAAC,MAAT,EAAiBD,GAAjB,CARF,CADF,CADI,EAAN,CAcD,CAED,GAAIC,QAAQ,CAAChM,MAAT,GAAoB,EAAxB,CAA4B,CAC1BgM,QAAQ,CAACpM,GAAT,CACE,SAACuM,CAAD,CAAIpM,CAAJ,QACEA,CAAAA,CAAC,GAAK,CAAN,EAAWA,CAAC,GAAK,EAAjB,GAAwBgM,GAAG,CAAGA,GAAG,CAAG,GAAN,CAAYI,CAA1C,CADF,EADF,EAIAD,GAAG,CAAG,qBACJ,yCACE,oBAAC,IAAD,EAAM,EAAE,CAAC,MAAT,EACE,oBAAC,IAAD,EACE,EAAE,CAAC,MADL,CAEE,UAAU,CAAE,MAFd,CAGE,KAAK,CAAEzN,SAAS,CAACuN,QAAQ,CAAC,EAAD,CAAT,CAHlB,EAKGA,QAAQ,CAAC,CAAD,CALX,CADF,CAQE,oBAAC,IAAD,EAAM,EAAE,CAAC,MAAT,EAAiBD,GAAjB,CARF,CASE,oBAAC,IAAD,EACE,EAAE,CAAC,MADL,CAEE,UAAU,CAAE,MAFd,CAGE,KAAK,CAAEtN,SAAS,CAACuN,QAAQ,CAAC,EAAD,CAAT,CAHlB,EAKG,IAAMA,QAAQ,CAAC,EAAD,CALjB,CATF,CADF,CADI,EAAN,CAqBD,CAED,MACE,qBAAC,QAAD,EAAU,GAAG,CAAEjM,CAAf,EACE,oBAAC,QAAD,EACE,EAAE,CAAEnC,mBADN,CAEE,KAAK,CAAC,SAFR,EADF,CAKG,oBAAC,GAAD,MALH,CADF,CASD,CA5FA,CADH,CADD,CAiGC,wCAlGJ,CADF,CAhSF,CADF,CADF,CADF,CA6YE,oBAAC,QAAD,MACE,+BACE,oBAAC,IAAD,EAAM,eAAe,CAAC,gBAAtB,CAAuC,GAAG,CAAE,CAA5C,CAA+C,SAAS,CAAE,EAA1D,EACE,oBAAC,QAAD,EAAU,OAAO,CAAE,CAAnB,CAAsB,QAAQ,CAAE,CAAhC,CAAmC,MAAM,CAAE,CAA3C,EACE,oBAAC,IAAD,EAAM,EAAE,CAAE,CAAV,CAAa,UAAU,CAAE,QAAzB,CAAmC,OAAO,CAAC,QAA3C,EAEE,oBAAC,IAAD,MACE,oBAAC,IAAD,EAAM,WAAW,CAAE,EAAnB,CAAuB,YAAY,CAAE,EAArC,EACE,oBAAC,SAAD,EACE,QAAQ,CAAE,EADZ,CAEE,eAAe,CAAE,IAFnB,CAGE,UAAU,CAAE,IAHd,CAIE,mBAAmB,CAAE,IAJvB,CAKE,UAAU,CAAE,CACV4N,yBAAyB,CAAE,IADjB,CAEVC,wBAAwB,CAAE,IAFhB,CAGVC,cAAc,CAAE,KAHN,CAIVC,eAAe,CAAE,IAJP,CAKVC,OAAO,CAAE,CALC,CALd,CAYE,IAAI,CAAC,MAZP,CAaE,KAAK,CAAC,UAbR,CAcE,KAAK,CAAEpI,OAdT,CAeE,IAAI,CAAC,gBAfP,CAgBE,WAAW,KAhBb,CAiBE,MAAM,CAAE,MAjBV,CAkBE,KAAK,CAAE,MAlBT,CAmBE,QAAQ,CAAE,IAnBZ,EADF,CADF,CAwBE,oBAAC,GAAD,EACE,EAAE,CAAC,MADL,CAEE,EAAE,CAAC,YAFL,CAGE,KAAK,CAAE,CACLgJ,EAAE,CAAE,UADC,CAGT;AANA,EAQE,oBAAC,GAAI;AAAL,EACE,EAAE,CAAC,MADL,CAEE,GAAG,CAAC,UACJ;AACA;AAJF,CAKE,MAAM,CAAC,OALT,CAME,CAAC,CAAC,OANJ,CAOE,EAAE,CAAC,IAPL,CAQE,SAAS,CAAC,QARZ,CASE,SAAS,CAAC,MATZ,CAUE,EAAE,CAAC,MAVL,CAWE,WAAW,CAAC,OAXd,CAYE,gBAAgB,CAAC,KAZnB,CAaE,CAAC,CAAC,OAbJ,EAeE,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,EAAE,CAAC,GAAhB,CAAoB,KAAK,CAAC,QAA1B,EACE,kCACE,oBAAC,IAAD,EACE,QAAQ,CAAC,KADX,CAEE,EAAE,CAAC,GAFL,CAGE,KAAK,CAAC,OAHR,CAIE,UAAU,CAAC,UAJb,eADF,CADF,CAfF,CA4BE,oBAAC,IAAD,EACE,SAAS,CAAC,QADZ,CAEE,EAAE,CAAC,KAFL,CAGE,QAAQ,CAAC,IAHX,CAIE,KAAK,CAAC,OAJR,CAKE,aAAW,iBALb,CAME,MAAM,CAAE,CANV,EAQE,wCACG3J,eAAe,CAAC7C,MAAhB,CAAyB,CAAzB,CACC6C,eAAe,CAACjD,GAAhB,CAAoB,SAAC4F,CAAD,QAClB,0BACE;AACA,OAAO,CAAE,kBAAM,CACb,GAAIhC,OAAO,CAACxD,MAAR,CAAiB,CAArB,CAAwB,CACtByD,WAAW,CACTD,OAAO,4BACUgC,CAAC,CAAC3B,QADZ,kCAEc2B,CAAC,CAAClC,WAFhB,4BAGQ2J,IAAI,CACjBzH,CAAC,CAACgD,SADe,CAHZ,SADE,CAAX,CAQD,CATD,IASO,CACL/E,WAAW,CACTD,OAAO,2BACSgC,CAAC,CAAC3B,QADX,kCAEc2B,CAAC,CAAClC,WAFhB,4BAGQ2J,IAAI,CACjBzH,CAAC,CAACgD,SADe,CAHZ,SADE,CAAX,CAQD,CACF,CAtBH,CAuBE,KAAK,CAAC,OAvBR,EAyBGhD,CAAC,CAAC3B,QAzBL,CA4BA;AA7BkB,EAApB,CADD,CAiCC;AACA,wCACE,oBAAC,IAAD,2BADF,CAnCJ,CARF,CA5BF,CARF,CAxBF,CAFF,CAsHE,oBAAC,KAAD,EAAO,EAAE,CAAE,CAAX,CAAc,SAAS,CAAC,KAAxB,EACE,oBAAC,MACC;AADF,EAEE,WAAW,CAAC,QAFd,CAGE,OAAO,CAAE,kBAAM,CACb;AAEA,GAAI,CAACrF,EAAL,CAAS,CACPU,OAAO,CAACC,GAAR,CAAY,MAAOf,CAAAA,KAAK,CAAC,CAAD,CAAxB,EACA,IAAK,GAAI2B,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAG3B,KAAK,CAAC4B,MAA1B,CAAkCD,CAAC,EAAnC,CAAuC,CACrC3B,KAAK,CAAC2B,CAAD,CAAL,CAAW,KAAM3B,KAAK,CAAC2B,CAAD,CAAX,KAAX,CACD,CACDvB,EAAE,CAAG,IAAL,CACD,CACD4D,OAAO,8BACehE,KADf,yBACkCoF,OADlC,OAAP,CAGA5B,KAAK,CAAC,CACJ8D,KAAK,CACH,2CAFE,CAGJC,MAAM,CAAE,SAHJ,CAIJC,QAAQ,CAAE,IAJN,CAKJC,UAAU,CAAE,IALR,CAMJzB,QAAQ,CAAE,WANN,CAAD,CAAL,CAQA;AACD,CAzBH,CA0BE,QAAQ,CAAE,CAACZ,OA1Bb,CA2BE,SAAS,CAAEvB,UA3Bb,aADF,CAiCE,oBAAC,MAAD,EACE,OAAO,CAAE,kBAAM,CACbwB,WAAW,CAAC,EAAD,CAAX,CACA;AACD,CACD;AALF,CAME,SAAS,CAAExB,UANb,CAOE,WAAW,CAAC,KACd;AARA,UAjCF,CA6CE,oBAAC,MAAD,EACE,OAAO,CAAE,yBAAM0B,CAAAA,OAAO,CAACoJ,IAAI,CAACC,MAAL,EAAD,CAAb,EACT;AAFF,CAGE,SAAS,CAAE/K,UAHb,CAIE,WAAW,CAAC,OACd;AALA,WA7CF,CAsDE,oBAAC,MAAD,EACE,WAAW,CAAC,OADd,CAEE,QAAQ,CAAE,CAACc,YAFb,CAGE,OAAO,CAAEgD,eAHX,CAIE,QAAQ,CAAE,oBAAC,UAAD,MAJZ,kBAtDF,CAtHF,CAqLE,oBAAC,IAAD,EAAM,KAAK,CAAC,MAAZ,CAAmB,OAAO,CAAC,UAA3B,EACE,oBAAC,MAAD,EACE,IAAI,CAAC,IADP,CAEE,OAAO,CAAEmF,UACT;AAHF,CAIE,SAAS,CAAEjJ,UAJb,CAKE,WAAW,CAAC,QALd,CAME,OAAO,CAAE,SANX,SADF,CArLF,CADF,CADF,CADF,CADF,CA7YF,CALF,CADF,CAtQJ,CAlBF,CA23BD,CAx4DD,CA04DA,GAAMiL,CAAAA,UAAU,CAAG1P,KAAK,CAAC2P,UAAN,CAAiB,gBAAwBC,GAAxB,KAAGC,CAAAA,QAAH,QAAGA,QAAH,CAAgBC,IAAhB,qDAClC,qBAAC,GAAD,EAAK,CAAC,CAAC,GAAP,EACE,oBAAC,GAAD,gBAAK,GAAG,CAAEF,GAAV,EAAmBE,IAAnB,EACGD,QADH,CADF,CADkC,EAAjB,CAAnB,CAQA,cAAerM,CAAAA,kBAAf","sourcesContent":["import {\n  Box,\n  Button,\n  Flex,\n  Grid,\n  GridItem,\n  Heading,\n  List,\n  ListIcon,\n  ListItem,\n  Modal,\n  ModalBody,\n  ModalCloseButton,\n  ModalContent,\n  ModalFooter,\n  ModalOverlay,\n  Select,\n  Spinner,\n  Stack,\n  Tag,\n  Text,\n  Tooltip,\n  useDisclosure,\n  useToast,\n  Tabs,\n  TabList,\n  TabPanels,\n  Tab,\n  TabPanel,\n  FormControl,\n  Textarea,\n} from \"@chakra-ui/react\";\nimport Axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport AceEditor from \"react-ace\";\nimport { FaExclamationCircle } from \"react-icons/fa\";\nimport { BiDownload } from \"react-icons/bi\";\nimport { CheckCircleIcon } from \"@chakra-ui/icons\";\nimport { useParams } from \"react-router-dom\";\n\nimport isJson from \"../../utils/checkjson\";\nimport e from \"cors\";\nimport semantics from \"../../utils/syntax.json\";\n\nlet errors = [];\nlet rules = [];\nlet valid_rule = [];\nlet grammarDataArray = [];\nlet flag = false;\nlet fl = false;\n\n// const reactAceComponent = this.refs.reactAceComponent;\n\nconst tipcolors = {\n  number: \"orange\",\n  object: \"green\",\n  boolean: \"red\",\n  string: \"yellow\",\n  array: \"blue\",\n};\n\nconst jsonValidator = (grammar, validating) => {\n\n  console.log(grammar);\n  const keys = Object.keys(grammar);\n  const keys22 = Object.keys(validating);\n\n\n  const grammarArray = Object.keys(grammar).filter(\n    (value) => !Object.keys(validating).includes(value)\n  );\n\n  const extraEntries = Object.keys(validating).filter(\n    (value) => !Object.keys(grammar).includes(value)\n  );\n\n  extraEntries.map((en) => {\n    let app = 1;\n\n    for (let i = 0; i < keys.length; i++) \n    {\n      if (keys[i] === en || grammar[keys[i]].root === en || grammar[keys[i]].proot === en) \n        app = 0;\n    }\n    if (app) {\n      errors.push(`\"${en}\" is invalid key in the JSON`);\n    }\n  });\n\n  grammarArray.map((en) => {\n    let app = 1;\n    for (let i = 0; i < keys22.length; i++) {\n      if (en === keys22[i] || grammar[en].root === keys22[i] || grammar[en].proot === keys22[i]) {\n        app = 0;\n      }\n    }\n    if (app === 1) {\n      errors.push(\n        `\"${en}\" is a mandatory field! Please add the field with ${grammar[en].typeof} type`\n      );\n\n    }\n  })\n\n  for (let i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (grammar[key].hasOwnProperty('proot')) {\n      let a = validating[grammar[key].proot];\n      for (let i = 0; i < a.length; i++) {\n        let c = a[i];\n        if (c.hasOwnProperty(grammar[key].root)) {\n\n          if (typeof c[grammar[key].root][key] === grammar[key].typeof) {\n          }\n          else {\n            if (typeof c[grammar[key].root][key] === \"undefined\") {\n              errors.push(\n                `\"${key}\" is a mandatory field! Please add the field with ${grammar[key].typeof} type`\n              );\n            }\n            else {\n              errors.push(\n                ` \"${key}\" has an invalid type of '${typeof c[grammar[key].root][key]}'. Expected type of ${grammar[key].typeof}`\n              );\n            }\n          }\n        }\n      }\n    }\n    else if (grammar[key].hasOwnProperty('repeat') && grammar[key].repeat === \"allow\") {\n      let a = grammar[key].root;\n      var obje = Object.keys(validating);\n      let found = obje.indexOf(a);\n\n      if (typeof validating[a] === \"object\") {\n        for (let i = 0; i < validating[a].length; i++) {\n          if (typeof validating[a][i][key] === grammar[key].typeof || (typeof validating[a][i][key] === \"object\" && grammar[key].typeof === \"array\")) {\n          }\n          else {\n            if (typeof validating[a][i][key] === \"undefined\") {\n              errors.push(\n                `\"${key}\" is a mandatory field! Please add the field with ${grammar[key].typeof} type`\n              );\n            }\n            else {\n              errors.push(\n                ` \"${key}\" has an invalid type of '${typeof validating[a][i][\n                key\n                ]}'. Expected type of ${grammar[key].typeof}`\n              );\n            }\n          }\n        }\n\n      }\n\n    }\n    else {\n      if (grammar[key].root === 'null' || grammar[key].root === 'undefined' || (!grammar[key].hasOwnProperty('root'))) {\n\n        if (typeof validating[key] === \"undefined\") {\n          continue;\n        }\n\n        // Handling nested objects recursively\n        if (\n          typeof validating[key] === \"object\" &&\n          grammar[key].typeof === \"object\"\n        ) {\n          continue;\n        }\n\n        if (typeof validating[key] !== grammar[key].typeof) {\n          errors.push(\n            ` \"${key}\" has an invalid type of '${typeof validating[\n            key\n            ]}'. Expected type of ${grammar[key].typeof}`\n          );\n        }\n        else {\n          //alert(\"sucess\");\n        }\n\n        if (\n          typeof validating[key] === \"string\" &&\n          typeof validating[key] === grammar[key].typeof &&\n          grammar[key].req === \"mandatory\" &&\n          validating[key].length === 0\n        ) {\n          errors.push(`\"${key}\" is mandatory, empty string is not allowed`);\n        }\n      }\n      else {\n\n        let a = grammar[key].root;\n        if (false) {\n          for (let i = 0; i < validating[a].length; i++) {\n            if (typeof validating[a][i].key === grammar[key].typeof) {\n              alert(\"Sucess\");\n            }\n            else {\n              //alert(\"Failure\");\n              //errors.push(\"kindly see the json syntax\");\n              errors.push(`\"${key}\" has invalid type, expected \"${grammar[key].typeof}\"`);\n            }\n          }\n        }\n        else {\n          var b = validating[a];\n          //alert(a);\n          let c = Object.keys(b);\n          let found = c.indexOf(key)\n          if (typeof validating[a][c[found]] === grammar[key].typeof || (typeof validating[a][c[found]] === \"object\" && grammar[key].typeof === \"array\")) {\n            //alert(\"Sucess!!!!!!\");\n          }\n          else {\n            if (typeof validating[a][c[found]] === \"undefined\") {\n              errors.push(\n                `\"${key}\" is a mandatory field! Please add the field with ${grammar[key].typeof} type`\n              );\n\n            }\n            else {\n              errors.push(\n                ` \"${key}\" has an invalid type of '${typeof validating[a][c[found]]\n                }'. Expected type of ${grammar[key].typeof}`\n              );\n            }\n          }\n        }\n      }\n    }\n  }\n\n\n\n  if (errors.length > 0) {\n    console.log(errors);\n    return true;\n  }\n\n  return false;\n};\n\n\nconst ProjectPageContent = ({\n  stepslen,\n  nextStep,\n  prevStep,\n  reset,\n  activeStep,\n  scene,\n  action,\n  asset,\n  projectname,\n  timeline,\n  custom,\n}) => {\n  const toast = useToast();\n  const [files, setfiles] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const [data, setdata] = useState(\"\");\n  const [grammarid, setGrammarid] = useState(\"\");\n  const [validated, setValidated] = useState(false);\n  // const [grammarData, setGrammarData] = useState({});\n  const [grammarbundle, setGrammarbundle] = useState({});\n  const [displayErrors, setDisplayErrors] = useState([]);\n  const [valid_rule_list, setvalid_rule_list] = useState([]);\n\n  const [downloadable, setDownloadable] = useState(false);\n  let [val, setValue] = React.useState(\"\");\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  const [description, set_description] = useState(\"\");\n  const [perdata, set_perdata] = useState(\"\");\n  const [seed, setSeed] = useState(0);\n  const { projectid } = useParams();\n  const [rulename, setRulename] = useState(\"\");\n  const jwttoken = localStorage.getItem(\"jwtToken\");\n  const [textPointer, setTextPointer] = useState({\"row\": 0, \"column\": 0});\n\n  const [position, setPosition] = useState(0);\n  const [savebutton, setSavebutton] = useState(false);\n  const convertPointer = (pointer, lines) => {\n    let pos = 0;\n    console.log(lines);\n    for(let i=0; i<=pointer.row - 1; i++)\n    {\n      pos += lines[i].length;\n      if(lines[i].length === 0)\n        pos+=1;\n      console.log(\"+\",lines[i].length);\n    }\n    pos += pointer.column;\n    if(pointer.column === 0)\n      pos+=1;\n    console.log(\"+\", pointer.column);\n    console.log(pos);\n    console.log(data);\n    console.log(data.length);\n    setPosition(pos);\n    console.log(position);\n  }\n\n  const getfiles = async () => {\n    let url = \"\";\n    // console.log(\"hey\");\n    url = `http://localhost:5002/api/json/timeline`;\n    // if (activeStep === 0) url = `http://localhost:5002/api/json/scene`;\n    // else if (activeStep === 1) url = `http://localhost:5002/api/json/scene`;\n    // else if (activeStep === 2) url = `http://localhost:5002/api/json/scene`;\n    // else if (activeStep === 3) url = `http://localhost:5002/api/json/scene`;\n    // else if (activeStep === 4) url = `http://localhost:5002/api/json/scene`;\n    try {\n      const requestOptions = {\n        headers: { \"Content-Type\": \"application/json\", token: jwttoken },\n      };\n      const res = await Axios.get(url, requestOptions);\n      // console.log(res);\n      ////////////////////////\n      const requestOption = {\n        headers: { \"Content-Type\": \"application/json\", token: jwttoken },\n      };\n      const res2 = await Axios.get(\n        `http://localhost:5002/api/project/${projectid}/grammarName`,\n        requestOption\n      );\n      console.log(res2.data.grammarName);\n      setfiles(res.data);\n      // console.log(res.data);\n      // console.log(files);\n      res.data.map((p) => {\n        // console.log(p.name);\n\n        if (p.name == res2.data.grammarName) {\n          if (grammarDataArray.length != 5) {\n            grammarDataArray.push(p.scene);\n            grammarDataArray.push(p.asset);\n            grammarDataArray.push(p.action);\n            grammarDataArray.push(p.custom);\n            grammarDataArray.push(p.timeline);\n          }\n          // console.log(grammarDataArray);\n        }\n      })\n\n      // setfiles(res.data);\n    } catch (error) {\n      toast({\n        title: \"Something went wrong 1\",  //Goes wrong\n        status: \"error\",\n        duration: 10000,\n        isClosable: true,\n        position: \"top\",\n      });\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    const f = async () => {\n      setLoading(true);\n      await getfiles();\n      setLoading(false);\n    };\n\n    f();\n  }, []);\n\n  useEffect(() => {\n    getfiles();\n    if (activeStep == 0) {\n      setdata(scene);\n      getfiles();\n      fl = false;\n      if (isJson(scene)) {\n        setDownloadable(true);\n      }\n    }\n    if (activeStep == 1) {\n      setdata(asset);\n      fl = false;\n      if (isJson(asset)) {\n        setDownloadable(true);\n      }\n    }\n    if (activeStep == 2) {\n      setdata(action);\n      fl = false;\n      if (isJson(action)) {\n        setDownloadable(true);\n      }\n    }\n    if (activeStep == 3) {\n      setdata(custom);\n      fl = false\n      if (isJson(custom)) {\n        setDownloadable(true);\n      }\n    }\n    if (activeStep == 4) {\n      setdata(timeline);\n      fl = false;\n      if (isJson(timeline)) {\n        setDownloadable(true);\n      }\n    }\n  }, []);\n  const downloadTxtFile = () => {\n    if (data === \"\" || !isJson(data)) {\n      toast({\n        title: \"JSON Syntax is not correct\",\n        status: \"error\",\n        duration: 5000,\n        isClosable: true,\n        position: \"top-right\",\n      });\n      setDownloadable(false);\n      return;\n    }\n    let fileName = \"\";\n    if (activeStep === 0) fileName = \"scene\";\n    if (activeStep === 1) fileName = \"asset\";\n    if (activeStep === 2) fileName = \"action\";\n    if (activeStep === 3) fileName = \"custom\";\n    if (activeStep === 4) fileName = \"timeline\";\n    const json = data;\n    const blob = new Blob([json], { type: \"application/json\" });\n    const href = URL.createObjectURL(blob);\n\n    const downlink = document.createElement(\"a\");\n    downlink.href = href;\n    downlink.download = projectname + \"-\" + fileName + \".json\";\n    document.body.appendChild(downlink);\n    downlink.click();\n\n    // clean up \"a\" element & remove ObjectURL\n    document.body.removeChild(downlink);\n    URL.revokeObjectURL(href);\n  };\n  let handleInputChange = (e) => {\n    let inputValue = e.target.value;\n    setValue(inputValue);\n  };\n\n  let asset_valid = (asset, asset_list, flag) => {\n\n    // if flag is zero, dont print any errors\n    let valid_obj = false;\n\n    asset_list.map(((d,j)=>{\n\n      // console.log(asset, d);\n      if(asset === d)\n        valid_obj = true;\n\n      // if(c.targetObj == d)\n      //   valid_target = true;\n            \n    }))\n\n    if( valid_obj === false )\n    {\n      setValidated(false);\n      setDownloadable(false);\n      if(flag){\n        toast({\n          title:\n            \"Object \"+ asset +\" is not listed in Asset JSON. Only assets present in Asset JSON are valid.\"+asset+\"  \"+asset_list,\n          status: \"warning\",\n          duration: 5000,\n          isClosable: true,\n          position: \"top-right\",\n        });\n      }\n      return -1;\n    }\n    return 1;\n  }\n\n  let assetValidator = (a, all_object_ids) => {\n\n    a.map((c,i)=>{\n\n      // console.log(c);\n\n      let ret1 = asset_valid(c.sourceObj, all_object_ids, 1);\n      let ret2;\n      if(c.targetObj[c.targetObj.length - 1] === '*' )\n      {\n        // console.log(\"yes\");\n        ret2 = 1;\n      }\n      else\n        ret2 = asset_valid(c.targetObj, all_object_ids, 1);\n\n      // console.log(\"rets:\", ret1, ret2);\n\n      if( ret1 === -1 )\n      {\n        // toast({\n        //   title:\n        //     \"Source object should be a part of Asset JSON.\",\n        //   status: \"warning\",\n        //   duration: 5000,\n        //   isClosable: true,\n        //   position: \"top-right\",\n        // });\n        return false;\n      }\n      // console.log(c.repeatactionfor.length);\n      if( c.repeatactionfor !== null && c.repeatactionfor.length !== 0 && c.repeatactionfor[0] !== \" \")\n      {\n        let repeat_assets = [];\n        let curr_word = \"\";\n        Array.from(c.repeatactionfor).map((char, key)=>{\n          if(char === ',' || char === ' ')\n          {\n            if(curr_word !== \"\" && curr_word !== \" \" && curr_word.length !== 0 )\n            {\n              repeat_assets.push(curr_word);\n              curr_word = \"\";\n            }\n          }\n          else\n          {\n            curr_word = curr_word + char;\n          }\n        })\n        if(curr_word != \"\" || curr_word != \" \" || curr_word.length != 0)\n          repeat_assets.push(curr_word);\n        \n        // console.log(repeat_assets);\n\n        repeat_assets.map((word, key)=>{\n          let ret = asset_valid(word, all_object_ids, 1);\n          // console.log(\"ret\", ret);\n          if( ret === -1 )\n          {\n            // toast({\n            //   title:\n            //     \"Objects in repeatactionfor must be a part of Asset JSON.\",\n            //   status: \"warning\",\n            //   duration: 5000,\n            //   isClosable: true,\n            //   position: \"top-right\",\n            // });\n            return false;\n          }\n        })\n\n        if(ret2 === -1 && c.targetObj[c.targetObj.length - 1] !==\"*\")\n        {\n          toast({\n            title:\n              \"Please update the Target Object according to the reccomendations in the document.\",\n            status: \"warning\",\n            duration: 5000,\n            isClosable: true,\n            position: \"top-right\",\n          });\n          return false;\n        }\n        else\n        {\n          if(asset_valid(c.targetObj, repeat_assets, 0) === 1)\n          {\n            toast({\n              title:\n                \"Target object should not be a part of repeatactionfor.\",\n              status: \"warning\",\n              duration: 5000,\n              isClosable: true,\n              position: \"top-right\",\n            });\n            return false;\n          }\n        }\n      }\n    })\n\n    return true;\n  }\n\n  let onValidate2 = async () => {\n\n    toast({\n      title: \"Validation successfull\",\n      status: \"success\",\n      duration: 5000,\n      isClosable: true,\n      position: \"top-right\",\n    });\n\n    console.log(\"output\");\n    setDownloadable(true);\n\n    valid_rule.push({\n      rulename: rulename,\n      data_name: data,\n      description: description\n    });\n\n    setSavebutton(true);\n\n    // fetch('http://localhost:5002/api/upload-custom-rule', {\n    //   headers: {\n    //     'Accept': 'application/json, text/plain, */*',\n    //     'Content-Type': 'application/json'\n    //   },\n    //   method: \"POST\",\n    //   body: JSON.stringify({\n    //     rulename: rulename,\n    //     data_name: data,\n    //     description: description\n    //   })      \n    // }).then((response)=>{\n    //   console.log(response);\n    // })\n\n    console.log(valid_rule);\n  };\n\n  const onValidate = async () => {\n    // console.log(\"onValidate Entered\");\n    if (!isJson(data)) {\n      setValidated(false);\n      setDownloadable(false);\n      toast({\n        title: \"JSON Syntax is not correct\",\n        status: \"error\",\n        duration: 5000,\n        isClosable: true,\n        position: \"top-right\",\n      });\n      return;\n    }\n    setDisplayErrors([]);\n    errors = [];\n    var myjson = JSON.parse(data);\n    // console.log(myjson);\n\n    // try {\n    //   if (activeStep == 2) {\n    //     try {\n    //       {\n    //         rules = myjson.objlist;\n    //         var a = myjson.ObjAction;\n    //         //console.log(a[0]);\n    //         //alert(a[0]);\n    //         for (let i = 0; i < a.length; i++) {\n    //           var c = a[i].actresid;\n    //           //  console.log(c);\n    //           flag = true;\n    //           rules.push(c);\n    //         }\n    //       }\n    //     }\n    //     catch (e) {\n    //       console.log(e);\n    //       setValidated(false);\n    //       setDownloadable(false);\n    //     }\n    //   }\n    // }\n    // catch {\n    //   console.log(e);\n    // }\n    // if (grammarDataArray.length === 0) {\n    //   await getfiles();\n    //   //var temp=Object.keys(grammarDataArray);\n    //   // console.log(grammarDataArray);\n    // }\n\n    // console.log(grammarDataArray[0]);\n    try {\n      var mygrm = \"\";\n      if (activeStep == 0) mygrm = JSON.parse(grammarDataArray[0]);\n      else if (activeStep == 1) mygrm = JSON.parse(grammarDataArray[1]);\n      else if (activeStep == 2) mygrm = JSON.parse(grammarDataArray[2]);\n      else if (activeStep == 3) mygrm = JSON.parse(grammarDataArray[3]);\n      else if (activeStep == 4) mygrm = JSON.parse(grammarDataArray[4]);\n\n    } catch (e) {\n      console.log(e);\n    }\n\n    try {\n      // console.log(\"I am trying:\", activeStep);\n      if (activeStep == 2) {\n        try {\n          {\n            // console.log(\"Shambhaviiiiiiiiiiii\");\n\n            let all_object_ids = [];\n            const myobjs = JSON.parse(asset);\n\n            myobjs.articles.map((c,i)=>{\n              all_object_ids.push(c._sid);\n            })\n\n            // console.log(all_object_ids);\n            var a = myjson.ObjAction;\n            \n            for (let i = 0; i < a.length; i++) {\n              var c = a[i].actresid;\n              flag = true;\n              if (c) {\n                rules.push(c);\n              }\n            }\n          }\n        } catch (e) {\n          console.log(e);\n          setValidated(false);\n          setDownloadable(false);\n          toast({\n            title:\n              \"There are errors in the entered JSON, please check them out! Caught error\",\n            status: \"warning\",\n            duration: 5000,\n            isClosable: true,\n            position: \"top-right\",\n          });\n          return;\n        }\n      } else if (activeStep == 1) {\n        try {\n          {\n            var a = myjson.articles;\n            //console.log(a[0]);\n            //alert(a[0]);\n            for (let i = 0; i < a.length; i++) {\n              var c = a[i]._objectname;\n              //  console.log(c);\n              flag = true;\n              if (c) {\n                rules.push(c);\n              }\n            }\n          }\n        } catch (e) {\n          console.log(e);\n          setValidated(false);\n          setDownloadable(false);\n          toast({\n            title:\n              \"There are errors in the entered JSON, please check them out!\",\n            status: \"warning\",\n            duration: 5000,\n            isClosable: true,\n            position: \"top-right\",\n          });\n          return;\n        }\n      } \n    } catch {\n      console.log(e);\n    }\n    if (grammarDataArray.length === 0) {\n      await getfiles();\n    }\n\n\n    try {\n      let mygrm = \"\";\n      if (activeStep == 0) mygrm = JSON.parse(grammarDataArray[0]);\n      else if (activeStep == 1) mygrm = JSON.parse(grammarDataArray[1]);\n      else if (activeStep == 2) mygrm = JSON.parse(grammarDataArray[2]);\n      else if (activeStep == 3) mygrm = JSON.parse(grammarDataArray[3]);\n      else if (activeStep == 4) mygrm = JSON.parse(grammarDataArray[4]);\n\n\n      if (!jsonValidator(mygrm, myjson)) {\n        if(activeStep === 2)\n        {\n          let all_object_ids = [];\n          const myobjs = JSON.parse(asset);\n\n          myobjs.articles.map((c,i)=>{\n            all_object_ids.push(c._sid);\n          })\n          // console.log(all_object_ids);\n\n          const ret_asset = assetValidator(myjson.ObjAction, all_object_ids);\n          // console.log(ret_asset);\n          if(!ret_asset)\n          {\n            console.log(errors);\n            toast({\n              title: \"There are errors in the entered JSON, please check them out!\",\n              status: \"warning\",\n              duration: 5000,\n              isClosable: true,\n              position: \"top-right\",\n            });\n            return;\n          }\n          else{\n            setValidated(true);\n            setDownloadable(true);\n            toast({\n              title: \"JSON Validated Successfully\",\n              status: \"success\",\n              duration: 5000,\n              isClosable: true,\n              position: \"top-right\",\n            });\n          }\n        }\n        else{\n          setValidated(true);\n          setDownloadable(true);\n          toast({\n            title: \"JSON Validated Successfully\",\n            status: \"success\",\n            duration: 5000,\n            isClosable: true,\n            position: \"top-right\",\n          });\n        }\n      } else {\n        console.log(errors);\n        toast({\n          title: \"There are errors in the entered JSON, please check them out!\",\n          status: \"warning\",\n          duration: 5000,\n          isClosable: true,\n          position: \"top-right\",\n        });\n      }\n      // console.log(typeof errors);\n      setDisplayErrors(errors);\n    }\n    catch (e) {\n      console.log(e);\n      toast({\n        title: \"There are errors in the entered JSON, please check them outkljljulij!\",\n        status: \"warning\",\n        duration: 5000,\n        isClosable: true,\n        position: \"top-right\",\n      });\n    }\n  };\n\n  // const onChangeFile = async (e) => {\n  //   setGrammarid(e.target.value);\n  //   if (!e.target.value) {\n  //     setGrammarData({});\n  //     return;\n  //   }\n  //   try {\n  //     const requestOptions = {\n  //       headers: { \"Content-Type\": \"application/json\", token: jwttoken },\n  //     };\n  //     const res = await Axios.get(\n  //       `http://localhost:5002/api/json/${e.target.value}`,\n  //       requestOptions\n  //     );\n  //     const grammarjson = JSON.parse(res.data.data);\n  //     setGrammarData(grammarjson);\n  //   } catch (error) {\n  //     toast({\n  //       title: \"Something went wrong 4\",\n  //       status: \"error\",\n  //       duration: 10000,\n  //       isClosable: true,\n  //       position: \"top\",\n  //     });\n  //     console.log(error);\n  //   }\n  // };\n\n  // const onChangeFile = async (e) => {\n  //   setGrammarid(e.target.value);\n  //   if (!e.target.value) {\n  //     // setGrammarData({});\n  //     return;\n  //   }\n  //   try {\n  //     //   if(activeStep==0) setGrammarData\n  //     //   if(activeStep==0) setGrammarData(grammarbundle.scene)\n  //     //  else if(activeStep==1) setGrammarData(grammarbundle.asset)\n  //     //  else if(activeStep==2) setGrammarData(grammarbundle.action)\n  //     //  else if(activeStep==3) setGrammarData(grammarbundle.custom)\n  //     //  else if(activeStep==4) setGrammarData(grammarbundle.timeline)\n  //   } catch (error) {\n  //     toast({\n  //       title: \"Something went wrong 4\",\n  //       status: \"error\",\n  //       duration: 10000,\n  //       isClosable: true,\n  //       position: \"top\",\n  //     });\n  //     console.log(error);\n  //   }\n  // };\n  const showValidateHandler = async () => {\n    console.log(data);\n    let code = data;\n    let jsonData = JSON.stringify({\n      types: [\n        {\n          type: \"if\",\n          order: [[\"condition\"], [\"scope\"]],\n        },\n\n        {\n          type: \"else\",\n          prev: [\"if\", \"else-if\"],\n          order: [[\"scope\"]],\n        },\n\n        {\n          type: \"else-if\",\n          prev: [\"if\", \"else-if\"],\n          order: [[\"condition\"], [\"scope\"]],\n        },\n\n        {\n          type: \"switch\",\n          order: [[\"condition\"], [\"scope\", [\"Case\"], [\"Default\"]]],\n        },\n\n        {\n          type: \"switch-case\",\n          order: [[\"condition\"], [\"scope\"]],\n        },\n\n        {\n          type: \"switch-case-default\",\n          order: [[\"scope\"]],\n        },\n\n        {\n          type: \"for\",\n          order: [\n            [\"condition\", [\"conditionSeparator\", \"conditionSeparator\"]],\n            [\"scope\"],\n          ],\n        },\n\n        {\n          type: \"while\",\n          order: [[\"condition\"], [\"scope\"]],\n        },\n\n        {\n          type: \"do\",\n          order: [[\"scope\"]],\n          next: [\"do-while\"],\n        },\n\n        {\n          type: \"do-while\",\n          order: [[\"condition\"]],\n          prev: [\"do\"],\n        },\n      ],\n      constructs: [\n        {\n          name: \"if\",\n          type: \"if\",\n          conditionStart: \"(\",\n          conditionEnd: \")\",\n          scopeStart: \"(\",\n          scopeEnd: \")\",\n        },\n\n        {\n          name: \"else-if\",\n          type: \"else-if\",\n          conditionStart: \"(\",\n          conditionEnd: \")\",\n          scopeStart: \"(\",\n          scopeEnd: \")\",\n          pre: [\"if\", \"else-if\"],\n        },\n\n        {\n          name: \"else\",\n          type: \"else\",\n          scopeStart: \"(\",\n          scopeEnd: \")\",\n          pre: [\"if\", \"else-if\"],\n        },\n\n        {\n          name: \"switch\",\n          type: \"switch\",\n          conditionStart: \"(\",\n          conditionEnd: \")\",\n          body: \"Case\",\n          scopeStart: \"(\",\n          scopeEnd: \")\",\n          \"end-body\": \"default\",\n        },\n\n        {\n          name: \"Case\",\n          type: \"switch-case\",\n          conditionStart: \"(\",\n          conditionEnd: \")\",\n          scopeStart: \"(\",\n          scopeEnd: \")\",\n          parent: \"switch\",\n        },\n\n        {\n          name: \"Default\",\n          type: \"switch-case-default\",\n          scopeStart: \"(\",\n          scopeEnd: \")\",\n          parent: \"switch\",\n        },\n\n        {\n          name: \"for\",\n          type: \"for\",\n          conditionStart: \"(\",\n          conditionEnd: \")\",\n          conditionSeparator: \"/\",\n          scopeStart: \"(\",\n          scopeEnd: \")\",\n        },\n\n        {\n          name: \"while\",\n          type: \"while\",\n          conditionStart: \"(\",\n          conditionEnd: \")\",\n          scopeStart: \"(\",\n          scopeEnd: \")\",\n        },\n\n        {\n          name: \"do\",\n          type: \"do\",\n          scopeStart: \"(\",\n          scopeEnd: \")\",\n          next: \"do-while\",\n        },\n\n        {\n          name: \"do-while\",\n          type: \"do-while\",\n          conditionStart: \"(\",\n          conditionEnd: \")\",\n        },\n      ],\n      specialSymbols: [\"#\", \":\", \"!\", \"/\", \"(\", \")\"],\n    });\n\n    // console.log(jsonData);\n    fetch(`http://localhost:5001/api/upload`, {\n      headers: {\n        'Accept': 'application/json, text/plain, */*',\n        'Content-Type': 'application/json'\n      },\n      method: \"POST\",\n      body: JSON.stringify({jsonData}),\n    }).then((response) => {\n      console.log(response);\n      response.json().then((val) => {\n        console.log(\"Uploaded\");\n        console.log(val);\n      })\n      .catch((err)=>{\n        console.log(err);\n      });\n      // console.log(`Response: ${response.json()}`)\n    })\n    .catch((err)=>{\n      console.log(err);\n    });\n\n\n    console.log(code);\n    fetch(`http://localhost:5001/api/process`, {\n      headers: {\n        'Accept': 'application/json, text/plain, */*',\n        'Content-Type': 'application/json'\n      },\n      method: \"POST\",\n      body: JSON.stringify({code}),\n    }).then((response) => {\n      console.log(response);\n      response.json().then((val) => {\n        console.log(\"Validation response from server\");\n        console.log(val.valid);\n        if (val.valid) {\n          onValidate2();\n        } else {\n          setValidated(false);\n          setDownloadable(false);\n          toast({\n            title: \"Error! Please follow conditional syntax.\",\n            status: \"error\",\n            duration: 5000,\n            isClosable: true,\n            position: \"top-right\",\n          });\n\n          return;\n        }\n      })\n      .catch((err)=>{\n        console.log(err);\n      });\n    })\n    .catch((err)=>{\n      console.log(err);\n    });\n  };\n\n  const handleValidateButton = () => {\n    console.log(\"Showing\");\n    showValidateHandler(true);\n  };\n\n  const saveButton = async () => {\n    console.log(\"saving\");\n    try{\n      const res = await Axios.post(\n        \"http://localhost:5002/api/custom/upload-custom-rule\", {\n          headers: {\n            \"Content-Type\": \"application/json\", \n            token: jwttoken \n          },\n          data: {\n            project_id: projectid,\n            rulename: rulename,\n            data_name: data,\n            description: description\n          }\n        }\n      );\n      toast({\n        title: \"Behaviour Added\",\n        status: \"success\",\n        duration: 5000,\n        isClosable: true,\n        position: \"top-right\",\n      });\n      \n      console.log(\"fetching behaviours\");\n      const res_rules = await Axios.post(\n        \"http://localhost:5002/api/custom/get-custom-rules\", {\n          headers: {\n            \"Content-Type\": \"application/json\", \n            token: jwttoken \n          },\n          data: {\n            project_id: projectid\n          }\n        }\n      );\n      console.log(res_rules.data);\n      setvalid_rule_list(res_rules.data);\n      \n    } catch(err){\n      console.log(err);\n    }\n  }\n\n  const onNextStep = async () => {\n    if (!isJson(data) && activeStep !== 3) {\n      setValidated(false);\n      toast({\n        title: \"JSON Syntax is not correct\",\n        status: \"error\",\n        duration: 5000,\n        isClosable: true,\n        position: \"top\",\n      });\n      return;\n    }\n    setSubmitting(true);\n    let url = \"\";\n    if (activeStep === 0)\n      url = `http://localhost:5002/api/project/${projectid}/scene`;\n    else if (activeStep === 1)\n      url = `http://localhost:5002/api/project/${projectid}/asset`;\n    else if (activeStep === 2)\n      url = `http://localhost:5002/api/project/${projectid}/action`;\n    else if (activeStep === 3) {\n      url = `http://localhost:5002/api/project/${projectid}/custom`;\n    }\n    else if (activeStep === 4)\n      url = `http://localhost:5002/api/project/${projectid}/timeline`;\n    try {\n      const requestOptions = {\n        headers: { \"Content-Type\": \"application/json\", token: jwttoken },\n      };\n      const res = await Axios.patch(url, { data }, requestOptions);\n\n      toast({\n        title: res.data.message,\n        status: \"success\",\n        duration: 5000,\n        isClosable: true,\n        position: \"top-right\",\n      });\n    } catch (error) {\n      toast({\n        title: \"Something went wrong 3\",\n        status: \"error\",\n        duration: 10000,\n        isClosable: true,\n        position: \"top\",\n      });\n      console.log(error);\n    }\n    setSubmitting(false);\n    // if (activeStep == 2) {\n    //   activeStep = 3;\n    //   return;\n    // }\n\n    nextStep();\n  };\n  const handel_name = (e) => {\n    setRulename(e.target.value);\n  };\n\n  const handel_description = (e) => {\n    set_description(e.target.value);\n  };\n\n  const onFinish = async () => {\n    if (!isJson(data)) {\n      setValidated(false);\n      toast({\n        title: \"JSON Syntax is not correct\",\n        status: \"error\",\n        duration: 5000,\n        isClosable: true,\n        position: \"top\",\n      });\n      return;\n    }\n    setSubmitting(true);\n    let url = \"\";\n    if (activeStep === 0)\n      url = `http://localhost:5002/api/project/${projectid}/scene`;\n    else if (activeStep === 1)\n      url = `http://localhost:5002/api/project/${projectid}/asset`;\n    else if (activeStep === 2)\n      url = `http://localhost:5002/api/project/${projectid}/action`;\n    else if (activeStep === 3) {\n      url = `http://localhost:5002/api/project/${projectid}/custom`;\n    }\n    else if (activeStep === 4)\n      url = `http://localhost:5002/api/project/${projectid}/timeline`;\n    try {\n      const requestOptions = {\n        headers: { \"Content-Type\": \"application/json\", token: jwttoken },\n      };\n      const res = await Axios.patch(url, { data }, requestOptions);\n\n      toast({\n        title: res.data.message,\n        status: \"success\",\n        duration: 5000,\n        isClosable: true,\n        position: \"top-right\",\n      });\n    } catch (error) {\n      toast({\n        title: \"Something went wrong 2\",\n        status: \"error\",\n        duration: 10000,\n        isClosable: true,\n        position: \"top\",\n      });\n      console.log(error);\n    }\n    setSubmitting(false);\n    onOpen();\n  };\n\n  return loading ? (\n    <>\n      <Flex\n        width={\"80vw\"}\n        height={\"90vh\"}\n        justifyContent=\"center\"\n        alignItems={\"center\"}\n      >\n        <Spinner\n          thickness=\"4px\"\n          speed=\"0.65s\"\n          emptyColor=\"gray.200\"\n          color=\"blue.500\"\n          size=\"xl\"\n        />\n      </Flex>\n    </>\n  ) : (\n    <>\n      {activeStep !== 3 ? (\n        <Grid templateColumns=\"repeat(6, 1fr)\" gap={4}>\n          <GridItem rowSpan={3} colSpan={1}>\n            <Flex flexDir={\"column\"} pr={20} pt={120}>\n              {/* {Object.keys(grammarData).length > 0 ? (\n              <>\n                {Object.keys(grammarData).map((e, i) => (\n                  <Tooltip key={i} label={grammarData[e][\"%comment%\"]}>\n                    <CustomCard\n                      colorScheme={tipcolors[grammarData[e].typeof]}\n                      variant={\n                        grammarData[e].req === \"mandatory\" ? \"solid\" : \"outline\"\n                      }\n                      cursor=\"pointer\"\n                    >\n                      {e}: {grammarData[e].typeof}\n                    </CustomCard>\n                  </Tooltip>\n                ))}\n              </>\n            ) : (\n              <Flex\n                flexDir={\"row\"}\n                alignItems=\"center\"\n                minH=\"60vh\"\n                justifyContent={\"center\"}\n                pl=\"50px\"\n              >\n                Please select a grammar file to validate\n              </Flex>\n            )} */}\n            </Flex>\n          </GridItem>\n          <GridItem rowSpan={3} colSpan={3}>\n            <Flex py={4} alignItems={\"center\"} flexDir=\"column\">\n              {/* <Select\n              placeholder=\"Select Grammar File\"\n              py={4}\n              maxW={80}\n              // onChange={onChangeFile}\n              defaultValue={grammarid}\n            > */}\n              {/* {files.map((file) => (\n                <option key={file._id} value={file._id}>\n                  {file.scene}\n                </option>\n              ))} */}\n              {/* </Select> */}\n              <Flex marginTop={20} marginBottom={10}>\n                <AceEditor\n                  fontSize={16}\n                  showPrintMargin={true}\n                  showGutter={true}\n                  highlightActiveLine={true}\n                  setOptions={{\n                    enableBasicAutocompletion: true,\n                    enableLiveAutocompletion: true,\n                    enableSnippets: false,\n                    showLineNumbers: true,\n                    tabSize: 2,\n                  }}\n                  mode=\"json\"\n                  theme=\"terminal\"\n                  onChange={(newvalue, event) => {\n                    console.log(event);\n                    setdata(newvalue);\n                    console.log(data);\n                    setDownloadable(false);\n                  }}\n                  value={data}\n                  name=\"grammar-editor\"\n                  wrapEnabled\n                  height=\"40em\"\n                  width={\"40em\"}\n                />\n              </Flex>\n              <Stack py={4} direction=\"row\">\n                <Button\n                  colorScheme=\"yellow\"\n                  disabled={!data}\n                  onClick={onValidate}\n                >\n                  Validate_\n                </Button>\n                <Button\n                  colorScheme=\"green\"\n                  disabled={!downloadable}\n                  onClick={downloadTxtFile}\n                  leftIcon={<BiDownload />}\n                >\n                  Download File\n                </Button>\n              </Stack>\n\n              {activeStep === stepslen ? (\n                <Flex px={4} py={4} width=\"100%\" flexDirection=\"column\">\n                  <Heading fontSize=\"xl\" textAlign=\"center\">\n                    Woohoo! All steps completed!\n                  </Heading>\n                  <Button mx=\"auto\" mt={6} size=\"sm\" onClick={reset}>\n                    Reset\n                  </Button>\n                </Flex>\n              ) : (\n                <Flex width=\"100%\" justify=\"flex-end\">\n                  <Button\n                    isDisabled={activeStep === 0}\n                    mr={4}\n                    onClick={prevStep}\n                    size=\"sm\"\n                    variant={\"outline\"}\n                  >\n                    Prev\n                  </Button>\n\n                  {activeStep === stepslen - 1 ? (\n                    <Button\n                      size=\"sm\"\n                      onClick={onFinish}\n                      disabled={!validated}\n                      isLoading={submitting}\n                      colorScheme=\"green\"\n                      variant={\"outline\"}\n                    >\n                      Finish\n                    </Button>\n                  ) : (\n                    <Button\n                      size=\"sm\"\n                      onClick={onNextStep}\n                      disabled={!validated}\n                      isLoading={submitting}\n                      colorScheme=\"yellow\"\n                      variant={\"outline\"}\n                    >\n                      Next\n                    </Button>\n                  )}\n                </Flex>\n              )}\n            </Flex>\n          </GridItem>\n          <GridItem rowSpan={3} colSpan={2} pt={120}>\n            <Flex flexDir={\"column\"} pl={20}>\n              {displayErrors.length > 0 ? (\n                <List spacing={2}>\n                  {displayErrors.map((e, i) => {\n                    let str = \"\";\n                    const splitarr = e.match(/(?:[^\\s\"]+|\"[^\"]*\")+/g);\n                    let Val;\n                    if (splitarr.length === 12) {\n                      splitarr.map(\n                        (m, i) => i !== 0 && i !== 10 && (str = str + \" \" + m)\n                      );\n                      Val = () => (\n                        <>\n                          <Text as=\"span\">\n                            <Text\n                              as=\"span\"\n                              fontWeight={\"bold\"}\n                              color={tipcolors[splitarr[10]]}\n                            >\n                              {splitarr[0]}\n                            </Text>\n                            <Text as=\"span\">{str}</Text>\n                            <Text\n                              as=\"span\"\n                              fontWeight={\"bold\"}\n                              color={tipcolors[splitarr[10]]}\n                            >\n                              {\" \" + splitarr[10]}\n                            </Text>\n                          </Text>\n                        </>\n                      );\n                    }\n\n                    if (splitarr.length === 7 || splitarr.length === 8) {\n                      splitarr.map((m, i) => i !== 0 && (str = str + \" \" + m));\n                      Val = () => (\n                        <>\n                          <Text as=\"span\">\n                            <Text\n                              as=\"span\"\n                              fontWeight={\"bold\"}\n                              color={\"teal.400\"}\n                            >\n                              {splitarr[0]}\n                            </Text>\n                            <Text as=\"span\">{str}</Text>\n                          </Text>\n                        </>\n                      );\n                    }\n\n                    if (splitarr.length === 11) {\n                      splitarr.map(\n                        (m, i) => i !== 0 && i !== 10 && (str = str + \" \" + m)\n                      );\n                      Val = () => (\n                        <>\n                          <Text as=\"span\">\n                            <Text\n                              as=\"span\"\n                              fontWeight={\"bold\"}\n                              color={tipcolors[splitarr[10]]}\n                            >\n                              {splitarr[0]}\n                            </Text>\n                            <Text as=\"span\">{str}</Text>\n                            <Text\n                              as=\"span\"\n                              fontWeight={\"bold\"}\n                              color={tipcolors[splitarr[10]]}\n                            >\n                              {\" \" + splitarr[10]}\n                            </Text>\n                          </Text>\n                        </>\n                      );\n                    }\n\n                    return (\n                      <ListItem key={i}>\n                        <ListIcon as={FaExclamationCircle} color=\"red.500\" />\n                        {<Val />}\n                      </ListItem>\n                    );\n                  })}\n                </List>\n              ) : (\n                <></>\n              )}\n            </Flex>\n          </GridItem>\n          <Modal onClose={onClose} isOpen={isOpen} isCentered>\n            <ModalOverlay />\n            <ModalContent>\n              <ModalCloseButton />\n              <ModalBody>\n                <Box textAlign=\"center\" py={10} px={6}>\n                  <CheckCircleIcon boxSize={\"50px\"} color={\"green.500\"} />\n                  <Heading as=\"h2\" size=\"xl\" mt={6} mb={2}>\n                    JSON Validation Successful!\n                  </Heading>\n                  <Text color={\"gray.500\"}>\n                    We have made sure that your data is free from any data-types\n                    or syntax errors. Happy Development!\n                  </Text>\n                </Box>\n              </ModalBody>\n              <ModalFooter>\n                <Button onClick={() => {\n                  onClose();\n                  // history.push(\"/projects\");\n                }}>Close</Button>\n              </ModalFooter>\n            </ModalContent>\n          </Modal>\n        </Grid>\n      ) : (\n        <>\n          <Tabs isFitted variant=\"enclosed\" marginTop={10}>\n            <TabList mb=\"1em\">\n              <Tab >Write</Tab>\n              <Tab >Read</Tab>\n            </TabList>\n            <TabPanels>\n              <TabPanel>\n                <div>\n                  <Grid templateColumns=\"repeat(8, 1fr)\" gap={2}>\n                    <GridItem rowSpan={8} colStart={1} colEnd={8}>\n                      <Flex py={4} alignItems={\"center\"} flexDir=\"column\">\n                        \n                        <div>\n                          <Flex>\n                            Name:\n                            <FormControl\n                              paddingRight={10}\n                              paddingLeft={2}\n                            // value={rulename} onChange={(e) => { setRulename(e) }} placeholder=\"name\"\n                            >\n                              <input\n                                value={rulename}\n                                onChange={handel_name}\n                                placeholder=\"  Name\"\n                                autoFocus\n                              ></input>\n                            </FormControl>\n                            Description:\n                            <FormControl\n                              paddingLeft={2}\n\n                            // value={description} onChange={(e) => { set_description(e) }} placeholder=\"description\"\n                            >\n                              <input\n                                value={description}\n                                onChange={handel_description}\n                                placeholder=\"  Description\"\n                              ></input>\n                            </FormControl>\n                          </Flex>\n                        </div>\n                        \n                        <Flex flexDir=\"row\" paddingTop={10} paddingLeft={20} marginLeft={20}>\n                          {/* All three boxes inside this */}\n                          \n                          <Flex marginLeft={10} marginRight={10} marginBottom={10}>\n                            <AceEditor\n                              fontSize={16}\n                              showPrintMargin={true}\n                              showGutter={true}\n                              highlightActiveLine={true}\n                              setOptions={{\n                                enableBasicAutocompletion: true,\n                                enableLiveAutocompletion: true,\n                                enableSnippets: false,\n                                showLineNumbers: true,\n                                tabSize: 2,\n                              }}\n                              mode=\"json\"\n                              theme=\"terminal\"\n                              onChange={(newvalue, event) => {\n                                // console.log(newvalue);\n                                fl = false;\n                                // setTextPointer({\"row\": event.end.row, \"column\": event.end.column});\n                                // console.log(event);\n                                setdata(newvalue);\n                                // console.log(data);\n                                // console.log(data.length);\n                                setDownloadable(false);\n                              }}\n                              // onClick={(event) => {   \n                              //   console.log(\"clicked here\");     \n                              //   console.log(event);            \n                              //   // setTextPointer(event.target.selectionStart);\n                              //   setTextPointer({\"row\": event.end.row, \"column\": event.end.column});\n                              //   console.log(textPointer);\n                              //   // convertPointer(textPointer, )\n                              // }}\n                              onCursorChange={(newplace)=>{\n                                // console.log(\"changed text pointer\");\n                                // console.log(newplace);\n                                // setTextPointer({\"row\": newplace.cursor.row, \"column\": newplace.cursor.column});\n                                convertPointer({\"row\":newplace.cursor.row, \"column\": newplace.cursor.column}, newplace.cursor.document.$lines);\n                                // console.log(textPointer);\n                                // console.log(position);\n                              }}\n                              onSelectionChange={(e)=>{\n                                // console.log(e);\n                                // setTextPointer({\"row\": e.cursor.row, \"column\": e.cursor.column});\n                                convertPointer({\"row\": e.cursor.row, \"column\": e.cursor.column}, e.doc.$lines);\n                              }}\n                              value={data}\n                              name=\"grammar-editor\"\n                              wrapEnabled\n                              height={\"40em\"}\n                              width={\"40em\"}\n                              id=\"editor\"\n                            />\n                          </Flex>\n                          <Box\n                            as=\"pane\"\n                            bg=\"grey\"\n                            _dark={{\n                              bg: \"gray.800\",\n                            }}\n                            h=\"40em\"\n                            w=\"24em\"\n                          >\n                            <Box // navbar\n                              as=\"pane\"\n                              zIndex=\"fixed\"\n                              h=\"300px\"\n                              pb=\"10\"\n                              overflowX=\"hidden\"\n                              overflowY=\"auto\"\n                              bg=\"grey\"\n                              w=\"400px\"\n                            >\n                              <Flex px=\"4\" pb=\"3\" pt=\"5\" align=\"center\">\n                                <center>\n                                  <Text\n                                    fontSize=\"2xl\"\n                                    ml=\"2\"\n                                    color=\"white\"\n                                    fontWeight=\"semibold\"\n                                  >\n                                    Actions\n                                  </Text>\n                                </center>\n                              </Flex>\n\n                              <Flex\n                                direction=\"column\"\n                                as=\"nav\"\n                                fontSize=\"lg\"\n                                color=\"white\"\n                                aria-label=\"Main Navigation\"\n                                margin={5}\n                                marginTop={2}\n                                marginLeft={7}\n                              >\n                                {flag ? (\n                                  rules.map((p) => (\n                                    <a\n                                      onClick={() => {\n                                        var newdata_part1 = data.slice(0,position);\n                                        var newdata_part2 = data.slice(position);\n                                        setdata(newdata_part1 + p + newdata_part2);\n                                        // setdata(data + p);\n                                      }}\n                                      color=\"white\"\n                                    >\n                                      {p}\n                                    </a>\n                                  ))\n                                ) : (\n                                  <>\n                                    <Text>No recent files...</Text>\n                                  </>\n                                )}\n                              </Flex>\n                            </Box>\n                            <Box as=\"pane\"\n                            // bg=\"#D69E2E\"\n                            bg=\"black\"\n                            // colorScheme=\"#D69E2E\"\n                            _dark={{\n                              bg: \"gray.800\",\n                            }} \n                            h=\"40em\"\n                            w=\"13em\"\n                            >\n                          \n                          <Box \n                              as=\"pane\"\n                              zIndex=\"fixed\"\n                              h=\"300px\"\n                              overflowX=\"hidden\"\n                              overflowY=\"auto\"\n                              w=\"400px\"\n                              colorScheme=\"yellow\"\n                            >\n                              <Flex px=\"4\" pb=\"3\" pt=\"5\" align=\"center\">\n                                <center>\n                                  <Text\n                                    fontSize=\"2xl\"\n                                    ml=\"2\"\n                                    color=\"white\"\n                                    fontWeight=\"semibold\"\n                                  >\n                                    Semantics\n                                  </Text>\n                                </center>\n                              </Flex>\n                              <Flex\n                                direction=\"column\"\n                                as=\"nav\"\n                                fontSize=\"lg\"\n                                color=\"white\"\n                                aria-label=\"Main Navigation\"\n                                margin={5}\n                                marginTop={2}\n                                marginLeft={7}\n                              >\n                                {\n                                  semantics.elements.map((p) => (\n                                    <a\n                                      onClick={() => {\n                                        console.log(position);\n                                        var newdata_part1 = data.slice(0,position);\n                                        var newdata_part2 = data.slice(position);\n                                        console.log(newdata_part1);\n                                        console.log(newdata_part2);\n                                        setdata(newdata_part1 + p.editorDisplay + newdata_part2);\n\n                                        // if(textPointer.column)\n                                        // const reactAceComponent = this.refs.reactAceComponent;\n                                        // const editor = reactAceComponent.editor;\n                                        // editor.session.insert(textPointer, p.editorDisplay);\n\n                                        // var newdata_part2 = data.slice(textPointer);\n                                        // var x = newdata_part1 + 'x';\n                                        // console.log(x);\n                                        // console.log(newdata_part1 + p.editorDisplay);\n                                        // setdata(newdata_part1 + p.editorDisplay + newdata_part2);\n                                        // setdata(data + p.editorDisplay);\n                                      }}\n                                      color=\"white\"\n                                    >\n                                      <span>{p.displayName}</span>\n                                    </a>\n                                  ))\n                                }\n                              </Flex>\n                            </Box>\n                          </Box>\n                          </Box>\n                        </Flex>\n\n                        <Stack py={4} direction=\"row\">\n                          <Button\n                            colorScheme=\"yellow\"\n                            disabled={!data || !rulename}\n                            onClick={() => {\n                              handleValidateButton();\n                              setSeed(Math.random());\n                            }}\n                          >\n                            Validate\n                          </Button>\n                          <Button\n                            colorScheme=\"green\"\n                            disabled={!data || !rulename || !savebutton}\n                            onClick={() => {\n                              saveButton();\n                            }}\n                          >\n                            Save\n                          </Button>\n                        </Stack>\n\n                        {activeStep === stepslen ? (\n                          <Flex\n                            px={4}\n                            py={4}\n                            width=\"100%\"\n                            flexDirection=\"column\"\n                          >\n                            <Heading fontSize=\"xl\" textAlign=\"center\">\n                              Woohoo! All steps completed!\n                            </Heading>\n                            <Button mx=\"auto\" mt={6} size=\"sm\" onClick={reset}>\n                              Reset\n                            </Button>\n                          </Flex>\n                        ) : (\n                          <Flex width=\"100%\" justify=\"flex-end\">\n                            <Button\n                              isDisabled={activeStep === 0}\n                              mr={4}\n                              onClick={prevStep}\n                              size=\"sm\"\n                              variant={\"outline\"}\n                            >\n                              Prev\n                            </Button>\n                          </Flex>\n                        )}\n                      \n                      </Flex>\n                    </GridItem>\n\n\n\n                      \n                    {/* </GridItem> */}\n                    <GridItem rowSpan={3} colSpan={2} pt={120}>\n                      <Flex flexDir={\"column\"} pl={20}>\n                        {displayErrors.length > 0 ? (\n                          <List spacing={2}>\n                            {displayErrors.map((e, i) => {\n                              let str = \"\";\n                              const splitarr = e.match(/(?:[^\\s\"]+|\"[^\"]*\")+/g);\n                              let Val;\n                              if (splitarr.length === 12) {\n                                splitarr.map(\n                                  (m, i) =>\n                                    i !== 0 && i !== 10 && (str = str + \" \" + m)\n                                );\n                                Val = () => (\n                                  <>\n                                    <Text as=\"span\">\n                                      <Text\n                                        as=\"span\"\n                                        fontWeight={\"bold\"}\n                                        color={tipcolors[splitarr[10]]}\n                                      >\n                                        {splitarr[0]}\n                                      </Text>\n                                      <Text as=\"span\">{str}</Text>\n                                      <Text\n                                        as=\"span\"\n                                        fontWeight={\"bold\"}\n                                        color={tipcolors[splitarr[10]]}\n                                      >\n                                        {\" \" + splitarr[10]}\n                                      </Text>\n                                    </Text>\n                                  </>\n                                );\n                              }\n\n                              if (\n                                splitarr.length === 7 ||\n                                splitarr.length === 8\n                              ) {\n                                splitarr.map(\n                                  (m, i) => i !== 0 && (str = str + \" \" + m)\n                                );\n                                Val = () => (\n                                  <>\n                                    <Text as=\"span\">\n                                      <Text\n                                        as=\"span\"\n                                        fontWeight={\"bold\"}\n                                        color={\"teal.400\"}\n                                      >\n                                        {splitarr[0]}\n                                      </Text>\n                                      <Text as=\"span\">{str}</Text>\n                                    </Text>\n                                  </>\n                                );\n                              }\n\n                              if (splitarr.length === 11) {\n                                splitarr.map(\n                                  (m, i) =>\n                                    i !== 0 && i !== 10 && (str = str + \" \" + m)\n                                );\n                                Val = () => (\n                                  <>\n                                    <Text as=\"span\">\n                                      <Text\n                                        as=\"span\"\n                                        fontWeight={\"bold\"}\n                                        color={tipcolors[splitarr[10]]}\n                                      >\n                                        {splitarr[0]}\n                                      </Text>\n                                      <Text as=\"span\">{str}</Text>\n                                      <Text\n                                        as=\"span\"\n                                        fontWeight={\"bold\"}\n                                        color={tipcolors[splitarr[10]]}\n                                      >\n                                        {\" \" + splitarr[10]}\n                                      </Text>\n                                    </Text>\n                                  </>\n                                );\n                              }\n\n                              return (\n                                <ListItem key={i}>\n                                  <ListIcon\n                                    as={FaExclamationCircle}\n                                    color=\"red.500\"\n                                  />\n                                  {<Val />}\n                                </ListItem>\n                              );\n                            })}\n                          </List>\n                        ) : (\n                          <></>\n                        )}\n                      </Flex>\n                    </GridItem>\n                  </Grid>\n                </div>\n              </TabPanel>\n              <TabPanel> \n                <div>\n                  <Grid templateColumns=\"repeat(6, 1fr)\" gap={4} marginTop={20}>\n                    <GridItem rowSpan={3} colStart={2} colEnd={5}>\n                      <Flex py={4} alignItems={\"center\"} flexDir=\"column\">\n\n                        <Flex>\n                          <Flex marginRight={10} marginBottom={10}>\n                            <AceEditor\n                              fontSize={16}\n                              showPrintMargin={true}\n                              showGutter={true}\n                              highlightActiveLine={true}\n                              setOptions={{\n                                enableBasicAutocompletion: true,\n                                enableLiveAutocompletion: true,\n                                enableSnippets: false,\n                                showLineNumbers: true,\n                                tabSize: 2,\n                              }}\n                              mode=\"json\"\n                              theme=\"terminal\"\n                              value={perdata}\n                              name=\"grammar-editor\"\n                              wrapEnabled\n                              height={\"40em\"}\n                              width={\"40em\"}\n                              readOnly={true}\n                            />\n                          </Flex>\n                          <Box\n                            as=\"pane\"\n                            bg=\"whitesmoke\"\n                            _dark={{\n                              bg: \"gray.800\",\n                            }}\n                          // minH=\"10vh\"\n                          >\n                            <Box // navbar\n                              as=\"pane\"\n                              pos=\"absolute\"\n                              // top=\"250\"\n                              // right=\"20\"\n                              zIndex=\"fixed\"\n                              h=\"300px\"\n                              pb=\"10\"\n                              overflowX=\"hidden\"\n                              overflowY=\"auto\"\n                              bg=\"grey\"\n                              borderColor=\"black\"\n                              borderRightWidth=\"1px\"\n                              w=\"400px\"\n                            >\n                              <Flex px=\"4\" py=\"5\" align=\"center\">\n                                <center>\n                                  <Text\n                                    fontSize=\"2xl\"\n                                    ml=\"2\"\n                                    color=\"white\"\n                                    fontWeight=\"semibold\"\n                                  >\n                                    Behaviours\n                                  </Text>\n                                </center>\n                              </Flex>\n\n                              <Flex\n                                direction=\"column\"\n                                as=\"nav\"\n                                fontSize=\"md\"\n                                color=\"white\"\n                                aria-label=\"Main Navigation\"\n                                margin={5}\n                              >\n                                <>\n                                  {valid_rule_list.length > 0 ? (\n                                    valid_rule_list.map((p) => (\n                                      <a\n                                        // key={p.rulename}\n                                        onClick={() => {\n                                          if (perdata.length > 0) {\n                                            set_perdata(\n                                              perdata +\n                                              `,{\"rulename\":\"${p.rulename\n                                              }\", \"description\":\"${p.description\n                                              }\",\"logic\": \"${btoa(\n                                                p.data_name\n                                              )}\"}\\n`\n                                            );\n                                          } else {\n                                            set_perdata(\n                                              perdata +\n                                              `{\"rulename\":\"${p.rulename\n                                              }\", \"description\":\"${p.description\n                                              }\",\"logic\": \"${btoa(\n                                                p.data_name\n                                              )}\"}\\n`\n                                            );\n                                          }\n                                        }}\n                                        color=\"white\"\n                                      >\n                                        {p.rulename}\n                                      </a>\n\n                                      // console.log(p.rulename)\n                                    ))\n                                  ) : (\n                                    // console.log(\"jjhghguyg\")\n                                    <>\n                                      <Text>No recent files...</Text>\n                                    </>\n\n                                  )}\n\n                                </>\n                              </Flex>\n                            </Box>\n                          </Box>\n                        </Flex>\n\n\n                        <Stack py={4} direction=\"row\">\n                          <Button\n                            // paddingLeft={-2}\n                            colorScheme=\"yellow\"\n                            onClick={() => {\n                              // perdata.slice(0,perdata.length -1)\n\n                              if (!fl) {\n                                console.log(typeof rules[0]);\n                                for (let i = 0; i < rules.length; i++) {\n                                  rules[i] = `\"` + rules[i] + `\"`;\n                                }\n                                fl = true;\n                              }\n                              setdata(\n                                `{\"objects_used\":[${rules}],\"rules\":[${perdata}]}`\n                              );\n                              toast({\n                                title:\n                                  \"JSON is validated, click next to continue\",\n                                status: \"success\",\n                                duration: 5000,\n                                isClosable: true,\n                                position: \"top-right\",\n                              });\n                              // console.log(data);\n                            }}\n                            disabled={!perdata}\n                            isLoading={submitting}\n                          >\n                            Validate\n                          </Button>\n\n                          <Button\n                            onClick={() => {\n                              set_perdata(\"\");\n                              // fl = false;\n                            }}\n                            // disabled={!validated || !grammarid}\n                            isLoading={submitting}\n                            colorScheme=\"red\"\n                          // variant={\"outline\"}\n                          >\n                            Flush\n                          </Button>\n                          <Button\n                            onClick={() => setSeed(Math.random())}\n                            // disabled={!validated || !grammarid}\n                            isLoading={submitting}\n                            colorScheme=\"green\"\n                          // variant={\"outline\"}\n                          >\n                            Update\n                          </Button>\n                          <Button\n                            colorScheme=\"green\"\n                            disabled={!downloadable}\n                            onClick={downloadTxtFile}\n                            leftIcon={<BiDownload />}\n                          >\n                            Download File\n                          </Button>\n                        </Stack>\n                        <Flex width=\"100%\" justify=\"flex-end\">\n                          <Button\n                            size=\"sm\"\n                            onClick={onNextStep}\n                            // disabled={!validated || !grammarid}\n                            isLoading={submitting}\n                            colorScheme=\"yellow\"\n                            variant={\"outline\"}\n                          >\n                            Next\n                          </Button>\n                        </Flex>\n                      </Flex>\n                    </GridItem>\n                  </Grid>\n                </div>\n              </TabPanel>\n            </TabPanels>\n          </Tabs>\n        </>\n      )}\n    </>\n  );\n};\n\nconst CustomCard = React.forwardRef(({ children, ...rest }, ref) => (\n  <Box p=\"1\">\n    <Tag ref={ref} {...rest}>\n      {children}\n    </Tag>\n  </Box>\n));\n\nexport default ProjectPageContent;\n"]},"metadata":{},"sourceType":"module"}