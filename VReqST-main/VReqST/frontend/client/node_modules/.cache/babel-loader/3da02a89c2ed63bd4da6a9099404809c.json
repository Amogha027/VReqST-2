{"ast":null,"code":"import _regeneratorRuntime from\"/home/shambhavi/Documents/SERC/VReqST-v3/VReqST/VReqST-main/VReqST/frontend/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/shambhavi/Documents/SERC/VReqST-v3/VReqST/VReqST-main/VReqST/frontend/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/shambhavi/Documents/SERC/VReqST-v3/VReqST/VReqST-main/VReqST/frontend/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Box,Button,Center,Flex,Heading,Image,Spinner,useToast}from\"@chakra-ui/react\";import{Link}from\"react-router-dom\";import axios from\"axios\";import FileRow from\"./FileRow\";var MyFiles=function MyFiles(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setdata=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var toast=useToast();var getmyfiles=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var jwttoken,requestOptions,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:jwttoken=localStorage.getItem(\"jwtToken\");_context.prev=1;requestOptions={headers:{\"Content-Type\":\"application/json\",token:jwttoken}};_context.next=5;return axios.get(\"http://localhost:5002/api/json/my\",requestOptions);case 5:res=_context.sent;setdata(res.data);_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);toast({title:\"Something went wrong\",status:\"error\",duration:10000,isClosable:true,position:\"top\"});console.log(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function getmyfiles(){return _ref.apply(this,arguments);};}();useEffect(function(){var f=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading(true);_context2.next=3;return getmyfiles();case 3:setLoading(false);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function f(){return _ref2.apply(this,arguments);};}();f();},[]);return loading?React.createElement(React.Fragment,null,React.createElement(Flex,{width:\"100vw\",height:\"85vh\",justifyContent:\"center\",alignItems:\"center\"},React.createElement(Spinner,{thickness:\"4px\",speed:\"0.65s\",emptyColor:\"gray.200\",color:\"blue.500\",size:\"xl\"}))):React.createElement(Box,{minH:\"85vh\"},React.createElement(Flex,{justifyContent:\"space-between\",mx:\"60px\",py:\"30px\"},React.createElement(Heading,null,\"My Files\"),React.createElement(Button,{colorScheme:\"gray\",as:Link,to:\"/myfiles/new\",border:\"1px\"},\"Add Files\")),React.createElement(Flex,{direction:\"column\",mx:\"60px\"},data.length>0?data.map(function(row){return React.createElement(FileRow,{key:row._id,name:row.name,organization:row.ownerid.organization,owner:row.ownerid.name,jsonid:row._id,data:data,setdata:setdata,own:true});}):React.createElement(Center,null,React.createElement(Image,{src:\"/assets/empty.png\",maxW:\"300px\"}))));};export default MyFiles;","map":{"version":3,"sources":["/home/shambhavi/Documents/SERC/VReqST-v3/VReqST/VReqST-main/VReqST/frontend/client/src/Components/MyFiles/MyFiles.jsx"],"names":["React","useState","useEffect","Box","Button","Center","Flex","Heading","Image","Spinner","useToast","Link","axios","FileRow","MyFiles","data","setdata","loading","setLoading","toast","getmyfiles","jwttoken","localStorage","getItem","requestOptions","headers","token","get","res","title","status","duration","isClosable","position","console","log","f","length","map","row","_id","name","ownerid","organization"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Box,\n  Button,\n  Center,\n  Flex,\n  Heading,\n  Image,\n  Spinner,\n  useToast,\n} from \"@chakra-ui/react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport FileRow from \"./FileRow\";\n\nconst MyFiles = () => {\n  const [data, setdata] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const toast = useToast();\n\n  const getmyfiles = async () => {\n    const jwttoken = localStorage.getItem(\"jwtToken\");\n    try {\n      const requestOptions = {\n        headers: { \"Content-Type\": \"application/json\", token: jwttoken },\n      };\n      const res = await axios.get(\n        \"http://localhost:5002/api/json/my\",\n        requestOptions\n      );\n\n      setdata(res.data);\n    } catch (error) {\n      toast({\n        title: \"Something went wrong\",\n        status: \"error\",\n        duration: 10000,\n        isClosable: true,\n        position: \"top\",\n      });\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    const f = async () => {\n      setLoading(true);\n      await getmyfiles();\n      setLoading(false);\n    };\n    f();\n  }, []);\n\n  return loading ? (\n    <>\n      <Flex\n        width={\"100vw\"}\n        height={\"85vh\"}\n        justifyContent=\"center\"\n        alignItems={\"center\"}\n      >\n        <Spinner\n          thickness=\"4px\"\n          speed=\"0.65s\"\n          emptyColor=\"gray.200\"\n          color=\"blue.500\"\n          size=\"xl\"\n        />\n      </Flex>\n    </>\n  ) : (\n    <Box minH=\"85vh\">\n      <Flex justifyContent={\"space-between\"} mx={\"60px\"} py={\"30px\"}>\n        <Heading>My Files</Heading>\n        <Button colorScheme=\"gray\" as={Link} to=\"/myfiles/new\" border=\"1px\">\n          Add Files\n        </Button>\n      </Flex>\n      <Flex direction=\"column\" mx={\"60px\"}>\n        {data.length > 0 ? (\n          data.map((row) => {\n            return (\n              <FileRow\n                key={row._id}\n                name={row.name}\n                organization={row.ownerid.organization}\n                owner={row.ownerid.name}\n                jsonid={row._id}\n                data={data}\n                setdata={setdata}\n                own\n              />\n            );\n          })\n        ) : (\n          <Center>\n            <Image src=\"/assets/empty.png\" maxW=\"300px\" />\n          </Center>\n        )}\n      </Flex>\n    </Box>\n  );\n};\n\nexport default MyFiles;\n"]},"metadata":{},"sourceType":"module"}