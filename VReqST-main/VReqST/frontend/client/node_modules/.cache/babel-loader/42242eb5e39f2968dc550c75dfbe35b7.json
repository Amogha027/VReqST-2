{"ast":null,"code":"var _jsxFileName = \"/home/shambhavi/Documents/SERC/VReqST-v3/VReqST/VReqST-main/VReqST/client/src/Components/MyFiles/MyFiles.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { Box, Button, Center, Flex, Heading, Image, Spinner, useToast } from \"@chakra-ui/react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport FileRow from \"./FileRow\";\n\nconst MyFiles = () => {\n  const [data, setdata] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const toast = useToast();\n\n  const getmyfiles = async () => {\n    const jwttoken = localStorage.getItem(\"jwtToken\");\n\n    try {\n      const requestOptions = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          token: jwttoken\n        }\n      };\n      const res = await axios.get(\"http://localhost:5002/api/json/my\", requestOptions);\n      setdata(res.data);\n    } catch (error) {\n      toast({\n        title: \"Something went wrong\",\n        status: \"error\",\n        duration: 10000,\n        isClosable: true,\n        position: \"top\"\n      });\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    const f = async () => {\n      setLoading(true);\n      await getmyfiles();\n      setLoading(false);\n    };\n\n    f();\n  }, []);\n  return loading ? React.createElement(React.Fragment, null, React.createElement(Flex, {\n    width: \"100vw\",\n    height: \"85vh\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(Spinner, {\n    thickness: \"4px\",\n    speed: \"0.65s\",\n    emptyColor: \"gray.200\",\n    color: \"blue.500\",\n    size: \"xl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }))) : React.createElement(Box, {\n    minH: \"85vh\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(Flex, {\n    justifyContent: \"space-between\",\n    mx: \"60px\",\n    py: \"30px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(Heading, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"My Files\"), React.createElement(Button, {\n    colorScheme: \"gray\",\n    as: Link,\n    to: \"/myfiles/new\",\n    border: \"1px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Add Files\")), React.createElement(Flex, {\n    direction: \"column\",\n    mx: \"60px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, data.length > 0 ? data.map(row => {\n    return React.createElement(FileRow, {\n      key: row._id,\n      name: row.name,\n      organization: row.ownerid.organization,\n      owner: row.ownerid.name,\n      jsonid: row._id,\n      data: data,\n      setdata: setdata,\n      own: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    });\n  }) : React.createElement(Center, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(Image, {\n    src: \"/assets/empty.png\",\n    maxW: \"300px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }))));\n};\n\nexport default MyFiles;","map":{"version":3,"sources":["/home/shambhavi/Documents/SERC/VReqST-v3/VReqST/VReqST-main/VReqST/client/src/Components/MyFiles/MyFiles.jsx"],"names":["React","useState","useEffect","Box","Button","Center","Flex","Heading","Image","Spinner","useToast","Link","axios","FileRow","MyFiles","data","setdata","loading","setLoading","toast","getmyfiles","jwttoken","localStorage","getItem","requestOptions","headers","token","res","get","error","title","status","duration","isClosable","position","console","log","f","length","map","row","_id","name","ownerid","organization"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Box,\n  Button,\n  Center,\n  Flex,\n  Heading,\n  Image,\n  Spinner,\n  useToast,\n} from \"@chakra-ui/react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport FileRow from \"./FileRow\";\n\nconst MyFiles = () => {\n  const [data, setdata] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const toast = useToast();\n\n  const getmyfiles = async () => {\n    const jwttoken = localStorage.getItem(\"jwtToken\");\n    try {\n      const requestOptions = {\n        headers: { \"Content-Type\": \"application/json\", token: jwttoken },\n      };\n      const res = await axios.get(\n        \"http://localhost:5002/api/json/my\",\n        requestOptions\n      );\n\n      setdata(res.data);\n    } catch (error) {\n      toast({\n        title: \"Something went wrong\",\n        status: \"error\",\n        duration: 10000,\n        isClosable: true,\n        position: \"top\",\n      });\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    const f = async () => {\n      setLoading(true);\n      await getmyfiles();\n      setLoading(false);\n    };\n    f();\n  }, []);\n\n  return loading ? (\n    <>\n      <Flex\n        width={\"100vw\"}\n        height={\"85vh\"}\n        justifyContent=\"center\"\n        alignItems={\"center\"}\n      >\n        <Spinner\n          thickness=\"4px\"\n          speed=\"0.65s\"\n          emptyColor=\"gray.200\"\n          color=\"blue.500\"\n          size=\"xl\"\n        />\n      </Flex>\n    </>\n  ) : (\n    <Box minH=\"85vh\">\n      <Flex justifyContent={\"space-between\"} mx={\"60px\"} py={\"30px\"}>\n        <Heading>My Files</Heading>\n        <Button colorScheme=\"gray\" as={Link} to=\"/myfiles/new\" border=\"1px\">\n          Add Files\n        </Button>\n      </Flex>\n      <Flex direction=\"column\" mx={\"60px\"}>\n        {data.length > 0 ? (\n          data.map((row) => {\n            return (\n              <FileRow\n                key={row._id}\n                name={row.name}\n                organization={row.ownerid.organization}\n                owner={row.ownerid.name}\n                jsonid={row._id}\n                data={data}\n                setdata={setdata}\n                own\n              />\n            );\n          })\n        ) : (\n          <Center>\n            <Image src=\"/assets/empty.png\" maxW=\"300px\" />\n          </Center>\n        )}\n      </Flex>\n    </Box>\n  );\n};\n\nexport default MyFiles;\n"]},"metadata":{},"sourceType":"module"}